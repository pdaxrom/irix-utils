diff -Nur xz-5.8.1/Makefile.in xz-5.8.1-irix/Makefile.in
--- xz-5.8.1/Makefile.in	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/Makefile.in	2025-04-25 15:01:42.129807299 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -94,16 +92,15 @@
 subdir = .
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -173,9 +170,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__installdirs = "$(DESTDIR)$(docdir)" "$(DESTDIR)$(examplesdir)"
 am__dist_examples_DATA_DIST = doc/examples/00_README.txt \
@@ -220,15 +218,15 @@
 	$(top_srcdir)/build-aux/missing ABOUT-NLS AUTHORS COPYING \
 	ChangeLog INSTALL NEWS README THANKS TODO build-aux/compile \
 	build-aux/config.guess build-aux/config.rpath \
-	build-aux/config.sub build-aux/install-sh build-aux/ltmain.sh \
-	build-aux/missing
+	build-aux/config.sub build-aux/depcomp build-aux/install-sh \
+	build-aux/ltmain.sh build-aux/missing
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
 distdir = $(PACKAGE)-$(VERSION)
 top_distdir = $(distdir)
 am__remove_distdir = \
   if test -d "$(distdir)"; then \
-    find "$(distdir)" -type d ! -perm -700 -exec chmod u+rwx {} ';' \
-      ; rm -rf "$(distdir)" \
+    find "$(distdir)" -type d ! -perm -200 -exec chmod u+w {} ';' \
+      && rm -rf "$(distdir)" \
       || { sleep 5 && rm -rf "$(distdir)"; }; \
   else :; fi
 am__post_remove_distdir = $(am__remove_distdir)
@@ -264,9 +262,7 @@
 distuninstallcheck_listfiles = find . -type f -print
 am__distuninstallcheck_listfiles = $(distuninstallcheck_listfiles) \
   | sed 's|^\./|$(prefix)/|' | grep -v '$(infodir)/dir$$'
-distcleancheck_listfiles = \
-  find . \( -type f -a \! \
-            \( -name .nfs* -o -name .smb* -o -name .__afs* \) \) -print
+distcleancheck_listfiles = find . -type f -print
 ACLOCAL = @ACLOCAL@
 AMTAR = @AMTAR@
 AM_CFLAGS = @AM_CFLAGS@
@@ -377,10 +373,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -407,8 +401,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -531,12 +523,12 @@
 	@test -f $@ || $(MAKE) $(AM_MAKEFLAGS) stamp-h1
 
 stamp-h1: $(srcdir)/config.h.in $(top_builddir)/config.status
-	$(AM_V_at)rm -f stamp-h1
-	$(AM_V_GEN)cd $(top_builddir) && $(SHELL) ./config.status config.h
+	@rm -f stamp-h1
+	cd $(top_builddir) && $(SHELL) ./config.status config.h
 $(srcdir)/config.h.in:  $(am__configure_deps) 
-	$(AM_V_GEN)($(am__cd) $(top_srcdir) && $(AUTOHEADER))
-	$(AM_V_at)rm -f stamp-h1
-	$(AM_V_at)touch $@
+	($(am__cd) $(top_srcdir) && $(AUTOHEADER))
+	rm -f stamp-h1
+	touch $@
 
 distclean-hdr:
 	-rm -f config.h stamp-h1
@@ -702,7 +694,7 @@
 
 distdir-am: $(DISTFILES)
 	$(am__remove_distdir)
-	$(AM_V_at)$(MKDIR_P) "$(distdir)"
+	test -d "$(distdir)" || mkdir "$(distdir)"
 	@srcdirstrip=`echo "$(srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
 	topsrcdirstrip=`echo "$(top_srcdir)" | sed 's/[].[^$$\\*]/\\\\&/g'`; \
 	list='$(DISTFILES)'; \
@@ -821,7 +813,7 @@
 distcheck: dist
 	case '$(DIST_ARCHIVES)' in \
 	*.tar.gz*) \
-	  eval GZIP= gzip -dc $(distdir).tar.gz | $(am__untar) ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).tar.gz | $(am__untar) ;;\
 	*.tar.bz2*) \
 	  bzip2 -dc $(distdir).tar.bz2 | $(am__untar) ;;\
 	*.tar.lz*) \
@@ -831,7 +823,7 @@
 	*.tar.Z*) \
 	  uncompress -c $(distdir).tar.Z | $(am__untar) ;;\
 	*.shar.gz*) \
-	  eval GZIP= gzip -dc $(distdir).shar.gz | unshar ;;\
+	  eval GZIP= gzip $(GZIP_ENV) -dc $(distdir).shar.gz | unshar ;;\
 	*.zip*) \
 	  unzip $(distdir).zip ;;\
 	*.tar.zst*) \
@@ -934,8 +926,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -1088,10 +1080,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/aclocal.m4 xz-5.8.1-irix/aclocal.m4
--- xz-5.8.1/aclocal.m4	2025-04-03 11:35:18.000000000 +0000
+++ xz-5.8.1-irix/aclocal.m4	2025-04-25 14:59:02.121556131 +0000
@@ -1,6 +1,6 @@
-# generated automatically by aclocal 1.17 -*- Autoconf -*-
+# generated automatically by aclocal 1.16.5 -*- Autoconf -*-
 
-# Copyright (C) 1996-2024 Free Software Foundation, Inc.
+# Copyright (C) 1996-2021 Free Software Foundation, Inc.
 
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -14,13 +14,13 @@
 m4_ifndef([AC_CONFIG_MACRO_DIRS], [m4_defun([_AM_CONFIG_MACRO_DIRS], [])m4_defun([AC_CONFIG_MACRO_DIRS], [_AM_CONFIG_MACRO_DIRS($@)])])
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
-m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.72],,
-[m4_warning([this file was generated for autoconf 2.72.
+m4_if(m4_defn([AC_AUTOCONF_VERSION]), [2.71],,
+[m4_warning([this file was generated for autoconf 2.71.
 You have another version of autoconf.  It may work, but is not guaranteed to.
 If you have problems, you may need to regenerate the build system entirely.
 To do so, use the procedure documented by the package, typically 'autoreconf'.])])
 
-# Copyright (C) 2002-2024 Free Software Foundation, Inc.
+# Copyright (C) 2002-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -32,10 +32,10 @@
 # generated from the m4 files accompanying Automake X.Y.
 # (This private macro should not be called outside this file.)
 AC_DEFUN([AM_AUTOMAKE_VERSION],
-[am__api_version='1.17'
+[am__api_version='1.16'
 dnl Some users find AM_AUTOMAKE_VERSION and mistake it for a way to
 dnl require some minimum version.  Point them to the right macro.
-m4_if([$1], [1.17], [],
+m4_if([$1], [1.16.5], [],
       [AC_FATAL([Do not call $0, use AM_INIT_AUTOMAKE([$1]).])])dnl
 ])
 
@@ -51,14 +51,14 @@
 # Call AM_AUTOMAKE_VERSION and AM_AUTOMAKE_VERSION so they can be traced.
 # This function is AC_REQUIREd by AM_INIT_AUTOMAKE.
 AC_DEFUN([AM_SET_CURRENT_AUTOMAKE_VERSION],
-[AM_AUTOMAKE_VERSION([1.17])dnl
+[AM_AUTOMAKE_VERSION([1.16.5])dnl
 m4_ifndef([AC_AUTOCONF_VERSION],
   [m4_copy([m4_PACKAGE_VERSION], [AC_AUTOCONF_VERSION])])dnl
 _AM_AUTOCONF_VERSION(m4_defn([AC_AUTOCONF_VERSION]))])
 
 # Figure out how to run the assembler.                      -*- Autoconf -*-
 
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -78,7 +78,7 @@
 
 # AM_AUX_DIR_EXPAND                                         -*- Autoconf -*-
 
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -130,7 +130,7 @@
 
 # AM_CONDITIONAL                                            -*- Autoconf -*-
 
-# Copyright (C) 1997-2024 Free Software Foundation, Inc.
+# Copyright (C) 1997-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -161,7 +161,7 @@
 Usually this means the macro was only invoked conditionally.]])
 fi])])
 
-# Copyright (C) 1999-2024 Free Software Foundation, Inc.
+# Copyright (C) 1999-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -293,7 +293,7 @@
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
-      # When given -MP, icc 7.0 and 7.1 complain thus:
+      # When given -MP, icc 7.0 and 7.1 complain thusly:
       #   icc: Command line warning: ignoring option '-M'; no argument required
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
@@ -352,7 +352,7 @@
 
 # Generate code to set up dependency tracking.              -*- Autoconf -*-
 
-# Copyright (C) 1999-2024 Free Software Foundation, Inc.
+# Copyright (C) 1999-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -420,7 +420,7 @@
 
 # Do all the work for Automake.                             -*- Autoconf -*-
 
-# Copyright (C) 1996-2024 Free Software Foundation, Inc.
+# Copyright (C) 1996-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -554,7 +554,7 @@
 fi
 AC_SUBST([CSCOPE])
 
-AC_REQUIRE([_AM_SILENT_RULES])dnl
+AC_REQUIRE([AM_SILENT_RULES])dnl
 dnl The testsuite driver may need to know about EXEEXT, so add the
 dnl 'am__EXEEXT' conditional if _AM_COMPILER_EXEEXT was seen.  This
 dnl macro is hooked onto _AC_COMPILER_EXEEXT early, see below.
@@ -562,9 +562,47 @@
 [m4_provide_if([_AM_COMPILER_EXEEXT],
   [AM_CONDITIONAL([am__EXEEXT], [test -n "$EXEEXT"])])])dnl
 
-AC_REQUIRE([_AM_PROG_RM_F])
-AC_REQUIRE([_AM_PROG_XARGS_N])
+# POSIX will say in a future version that running "rm -f" with no argument
+# is OK; and we want to be able to make that assumption in our Makefile
+# recipes.  So use an aggressive probe to check that the usage we want is
+# actually supported "in the wild" to an acceptable degree.
+# See automake bug#10828.
+# To make any issue more visible, cause the running configure to be aborted
+# by default if the 'rm' program in use doesn't match our expectations; the
+# user can still override this though.
+if rm -f && rm -fr && rm -rf; then : OK; else
+  cat >&2 <<'END'
+Oops!
+
+Your 'rm' program seems unable to run without file operands specified
+on the command line, even when the '-f' option is present.  This is contrary
+to the behaviour of most rm programs out there, and not conforming with
+the upcoming POSIX standard: <http://austingroupbugs.net/view.php?id=542>
+
+Please tell bug-automake@gnu.org about your system, including the value
+of your $PATH and any error possibly output before this message.  This
+can help us improve future automake versions.
 
+END
+  if test x"$ACCEPT_INFERIOR_RM_PROGRAM" = x"yes"; then
+    echo 'Configuration will proceed anyway, since you have set the' >&2
+    echo 'ACCEPT_INFERIOR_RM_PROGRAM variable to "yes"' >&2
+    echo >&2
+  else
+    cat >&2 <<'END'
+Aborting the configuration process, to ensure you take notice of the issue.
+
+You can download and install GNU coreutils to get an 'rm' implementation
+that behaves properly: <https://www.gnu.org/software/coreutils/>.
+
+If you want to complete the configuration process using your problematic
+'rm' anyway, export the environment variable ACCEPT_INFERIOR_RM_PROGRAM
+to "yes", and re-run configure.
+
+END
+    AC_MSG_ERROR([Your 'rm' program is bad, sorry.])
+  fi
+fi
 dnl The trailing newline in this macro's definition is deliberate, for
 dnl backward compatibility and to allow trailing 'dnl'-style comments
 dnl after the AM_INIT_AUTOMAKE invocation. See automake bug#16841.
@@ -597,7 +635,7 @@
 done
 echo "timestamp for $_am_arg" >`AS_DIRNAME(["$_am_arg"])`/stamp-h[]$_am_stamp_count])
 
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -618,7 +656,7 @@
 fi
 AC_SUBST([install_sh])])
 
-# Copyright (C) 2003-2024 Free Software Foundation, Inc.
+# Copyright (C) 2003-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -639,7 +677,7 @@
 
 # Check to see how 'make' treats includes.	            -*- Autoconf -*-
 
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -682,7 +720,7 @@
 
 # Fake the existence of programs that GNU maintainers use.  -*- Autoconf -*-
 
-# Copyright (C) 1997-2024 Free Software Foundation, Inc.
+# Copyright (C) 1997-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -716,7 +754,7 @@
 
 # Helper functions for option handling.                     -*- Autoconf -*-
 
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -745,7 +783,7 @@
 AC_DEFUN([_AM_IF_OPTION],
 [m4_ifset(_AM_MANGLE_OPTION([$1]), [$2], [$3])])
 
-# Copyright (C) 1999-2024 Free Software Foundation, Inc.
+# Copyright (C) 1999-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -792,23 +830,7 @@
 # For backward compatibility.
 AC_DEFUN_ONCE([AM_PROG_CC_C_O], [AC_REQUIRE([AC_PROG_CC])])
 
-# Copyright (C) 2022-2024 Free Software Foundation, Inc.
-#
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# _AM_PROG_RM_F
-# ---------------
-# Check whether 'rm -f' without any arguments works.
-# https://bugs.gnu.org/10828
-AC_DEFUN([_AM_PROG_RM_F],
-[am__rm_f_notfound=
-AS_IF([(rm -f && rm -fr && rm -rf) 2>/dev/null], [], [am__rm_f_notfound='""'])
-AC_SUBST(am__rm_f_notfound)
-])
-
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -827,169 +849,16 @@
 
 # Check to make sure that the build environment is sane.    -*- Autoconf -*-
 
-# Copyright (C) 1996-2024 Free Software Foundation, Inc.
+# Copyright (C) 1996-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# _AM_SLEEP_FRACTIONAL_SECONDS
-# ----------------------------
-AC_DEFUN([_AM_SLEEP_FRACTIONAL_SECONDS], [dnl
-AC_CACHE_CHECK([whether sleep supports fractional seconds],
-               am_cv_sleep_fractional_seconds, [dnl
-AS_IF([sleep 0.001 2>/dev/null], [am_cv_sleep_fractional_seconds=yes],
-                                 [am_cv_sleep_fractional_seconds=no])
-])])
-
-# _AM_FILESYSTEM_TIMESTAMP_RESOLUTION
-# -----------------------------------
-# Determine the filesystem's resolution for file modification
-# timestamps.  The coarsest we know of is FAT, with a resolution
-# of only two seconds, even with the most recent "exFAT" extensions.
-# The finest (e.g. ext4 with large inodes, XFS, ZFS) is one
-# nanosecond, matching clock_gettime.  However, it is probably not
-# possible to delay execution of a shell script for less than one
-# millisecond, due to process creation overhead and scheduling
-# granularity, so we don't check for anything finer than that. (See below.)
-AC_DEFUN([_AM_FILESYSTEM_TIMESTAMP_RESOLUTION], [dnl
-AC_REQUIRE([_AM_SLEEP_FRACTIONAL_SECONDS])
-AC_CACHE_CHECK([filesystem timestamp resolution],
-               am_cv_filesystem_timestamp_resolution, [dnl
-# Default to the worst case.
-am_cv_filesystem_timestamp_resolution=2
-
-# Only try to go finer than 1 sec if sleep can do it.
-# Don't try 1 sec, because if 0.01 sec and 0.1 sec don't work,
-# - 1 sec is not much of a win compared to 2 sec, and
-# - it takes 2 seconds to perform the test whether 1 sec works.
-# 
-# Instead, just use the default 2s on platforms that have 1s resolution,
-# accept the extra 1s delay when using $sleep in the Automake tests, in
-# exchange for not incurring the 2s delay for running the test for all
-# packages.
-#
-am_try_resolutions=
-if test "$am_cv_sleep_fractional_seconds" = yes; then
-  # Even a millisecond often causes a bunch of false positives,
-  # so just try a hundredth of a second. The time saved between .001 and
-  # .01 is not terribly consequential.
-  am_try_resolutions="0.01 0.1 $am_try_resolutions"
-fi
-
-# In order to catch current-generation FAT out, we must *modify* files
-# that already exist; the *creation* timestamp is finer.  Use names
-# that make ls -t sort them differently when they have equal
-# timestamps than when they have distinct timestamps, keeping
-# in mind that ls -t prints the *newest* file first.
-rm -f conftest.ts?
-: > conftest.ts1
-: > conftest.ts2
-: > conftest.ts3
-
-# Make sure ls -t actually works.  Do 'set' in a subshell so we don't
-# clobber the current shell's arguments. (Outer-level square brackets
-# are removed by m4; they're present so that m4 does not expand
-# <dollar><star>; be careful, easy to get confused.)
-if (
-     set X `[ls -t conftest.ts[12]]` &&
-     {
-       test "$[]*" != "X conftest.ts1 conftest.ts2" ||
-       test "$[]*" != "X conftest.ts2 conftest.ts1";
-     }
-); then :; else
-  # If neither matched, then we have a broken ls.  This can happen
-  # if, for instance, CONFIG_SHELL is bash and it inherits a
-  # broken ls alias from the environment.  This has actually
-  # happened.  Such a system could not be considered "sane".
-  _AS_ECHO_UNQUOTED(
-    ["Bad output from ls -t: \"`[ls -t conftest.ts[12]]`\""],
-    [AS_MESSAGE_LOG_FD])
-  AC_MSG_FAILURE([ls -t produces unexpected output.
-Make sure there is not a broken ls alias in your environment.])
-fi
-
-for am_try_res in $am_try_resolutions; do
-  # Any one fine-grained sleep might happen to cross the boundary
-  # between two values of a coarser actual resolution, but if we do
-  # two fine-grained sleeps in a row, at least one of them will fall
-  # entirely within a coarse interval.
-  echo alpha > conftest.ts1
-  sleep $am_try_res
-  echo beta > conftest.ts2
-  sleep $am_try_res
-  echo gamma > conftest.ts3
-
-  # We assume that 'ls -t' will make use of high-resolution
-  # timestamps if the operating system supports them at all.
-  if (set X `ls -t conftest.ts?` &&
-      test "$[]2" = conftest.ts3 &&
-      test "$[]3" = conftest.ts2 &&
-      test "$[]4" = conftest.ts1); then
-    #
-    # Ok, ls -t worked. If we're at a resolution of 1 second, we're done,
-    # because we don't need to test make.
-    make_ok=true
-    if test $am_try_res != 1; then
-      # But if we've succeeded so far with a subsecond resolution, we
-      # have one more thing to check: make. It can happen that
-      # everything else supports the subsecond mtimes, but make doesn't;
-      # notably on macOS, which ships make 3.81 from 2006 (the last one
-      # released under GPLv2). https://bugs.gnu.org/68808
-      # 
-      # We test $MAKE if it is defined in the environment, else "make".
-      # It might get overridden later, but our hope is that in practice
-      # it does not matter: it is the system "make" which is (by far)
-      # the most likely to be broken, whereas if the user overrides it,
-      # probably they did so with a better, or at least not worse, make.
-      # https://lists.gnu.org/archive/html/automake/2024-06/msg00051.html
-      #
-      # Create a Makefile (real tab character here):
-      rm -f conftest.mk
-      echo 'conftest.ts1: conftest.ts2' >conftest.mk
-      echo '	touch conftest.ts2' >>conftest.mk
-      #
-      # Now, running
-      #   touch conftest.ts1; touch conftest.ts2; make
-      # should touch ts1 because ts2 is newer. This could happen by luck,
-      # but most often, it will fail if make's support is insufficient. So
-      # test for several consecutive successes.
-      #
-      # (We reuse conftest.ts[12] because we still want to modify existing
-      # files, not create new ones, per above.)
-      n=0
-      make=${MAKE-make}
-      until test $n -eq 3; do
-        echo one > conftest.ts1
-        sleep $am_try_res
-        echo two > conftest.ts2 # ts2 should now be newer than ts1
-        if $make -f conftest.mk | grep 'up to date' >/dev/null; then
-          make_ok=false
-          break # out of $n loop
-        fi
-        n=`expr $n + 1`
-      done
-    fi
-    #
-    if $make_ok; then
-      # Everything we know to check worked out, so call this resolution good.
-      am_cv_filesystem_timestamp_resolution=$am_try_res
-      break # out of $am_try_res loop
-    fi
-    # Otherwise, we'll go on to check the next resolution.
-  fi
-done
-rm -f conftest.ts?
-# (end _am_filesystem_timestamp_resolution)
-])])
-
 # AM_SANITY_CHECK
 # ---------------
 AC_DEFUN([AM_SANITY_CHECK],
-[AC_REQUIRE([_AM_FILESYSTEM_TIMESTAMP_RESOLUTION])
-# This check should not be cached, as it may vary across builds of
-# different projects.
-AC_MSG_CHECKING([whether build environment is sane])
+[AC_MSG_CHECKING([whether build environment is sane])
 # Reject unsafe characters in $srcdir or the absolute working directory
 # name.  Accept space and tab only in the latter.
 am_lf='
@@ -1008,40 +877,49 @@
 # symlink; some systems play weird games with the mod time of symlinks
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
-am_build_env_is_sane=no
-am_has_slept=no
-rm -f conftest.file
-for am_try in 1 2; do
-  echo "timestamp, slept: $am_has_slept" > conftest.file
-  if (
-    set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
-    if test "$[]*" = "X"; then
-      # -L didn't work.
-      set X `ls -t "$srcdir/configure" conftest.file`
-    fi
-    test "$[]2" = conftest.file
-  ); then
-    am_build_env_is_sane=yes
-    break
-  fi
-  # Just in case.
-  sleep "$am_cv_filesystem_timestamp_resolution"
-  am_has_slept=yes
-done
-
-AC_MSG_RESULT([$am_build_env_is_sane])
-if test "$am_build_env_is_sane" = no; then
-  AC_MSG_ERROR([newly created file is older than distributed files!
+if (
+   am_has_slept=no
+   for am_try in 1 2; do
+     echo "timestamp, slept: $am_has_slept" > conftest.file
+     set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
+     if test "$[*]" = "X"; then
+	# -L didn't work.
+	set X `ls -t "$srcdir/configure" conftest.file`
+     fi
+     if test "$[*]" != "X $srcdir/configure conftest.file" \
+	&& test "$[*]" != "X conftest.file $srcdir/configure"; then
+
+	# If neither matched, then we have a broken ls.  This can happen
+	# if, for instance, CONFIG_SHELL is bash and it inherits a
+	# broken ls alias from the environment.  This has actually
+	# happened.  Such a system could not be considered "sane".
+	AC_MSG_ERROR([ls -t appears to fail.  Make sure there is not a broken
+  alias in your environment])
+     fi
+     if test "$[2]" = conftest.file || test $am_try -eq 2; then
+       break
+     fi
+     # Just in case.
+     sleep 1
+     am_has_slept=yes
+   done
+   test "$[2]" = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   AC_MSG_ERROR([newly created file is older than distributed files!
 Check your system clock])
 fi
-
+AC_MSG_RESULT([yes])
 # If we didn't sleep, we still need to ensure time stamps of config.status and
 # generated files are strictly newer.
 am_sleep_pid=
-AS_IF([test -e conftest.file || grep 'slept: no' conftest.file >/dev/null 2>&1],, [dnl
-  ( sleep "$am_cv_filesystem_timestamp_resolution" ) &
+if grep 'slept: no' conftest.file >/dev/null 2>&1; then
+  ( sleep 1 ) &
   am_sleep_pid=$!
-])
+fi
 AC_CONFIG_COMMANDS_PRE(
   [AC_MSG_CHECKING([that generated files are newer than configure])
    if test -n "$am_sleep_pid"; then
@@ -1052,18 +930,18 @@
 rm -f conftest.file
 ])
 
-# Copyright (C) 2009-2024 Free Software Foundation, Inc.
+# Copyright (C) 2009-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
 # with or without modifications, as long as this notice is preserved.
 
-# _AM_SILENT_RULES
-# ----------------
-# Enable less verbose build rules support.
-AC_DEFUN([_AM_SILENT_RULES],
-[AM_DEFAULT_VERBOSITY=1
-AC_ARG_ENABLE([silent-rules], [dnl
+# AM_SILENT_RULES([DEFAULT])
+# --------------------------
+# Enable less verbose build rules; with the default set to DEFAULT
+# ("yes" being less verbose, "no" or empty being verbose).
+AC_DEFUN([AM_SILENT_RULES],
+[AC_ARG_ENABLE([silent-rules], [dnl
 AS_HELP_STRING(
   [--enable-silent-rules],
   [less verbose build output (undo: "make V=1")])
@@ -1071,6 +949,11 @@
   [--disable-silent-rules],
   [verbose build output (undo: "make V=0")])dnl
 ])
+case $enable_silent_rules in @%:@ (((
+  yes) AM_DEFAULT_VERBOSITY=0;;
+   no) AM_DEFAULT_VERBOSITY=1;;
+    *) AM_DEFAULT_VERBOSITY=m4_if([$1], [yes], [0], [1]);;
+esac
 dnl
 dnl A few 'make' implementations (e.g., NonStop OS and NextStep)
 dnl do not support nested variable expansions.
@@ -1089,21 +972,6 @@
 else
   am_cv_make_support_nested_variables=no
 fi])
-AC_SUBST([AM_V])dnl
-AM_SUBST_NOTMAKE([AM_V])dnl
-AC_SUBST([AM_DEFAULT_V])dnl
-AM_SUBST_NOTMAKE([AM_DEFAULT_V])dnl
-AC_SUBST([AM_DEFAULT_VERBOSITY])dnl
-AM_BACKSLASH='\'
-AC_SUBST([AM_BACKSLASH])dnl
-_AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
-dnl Delay evaluation of AM_DEFAULT_VERBOSITY to the end to allow multiple calls
-dnl to AM_SILENT_RULES to change the default value.
-AC_CONFIG_COMMANDS_PRE([dnl
-case $enable_silent_rules in @%:@ (((
-  yes) AM_DEFAULT_VERBOSITY=0;;
-   no) AM_DEFAULT_VERBOSITY=1;;
-esac
 if test $am_cv_make_support_nested_variables = yes; then
   dnl Using '$V' instead of '$(V)' breaks IRIX make.
   AM_V='$(V)'
@@ -1112,18 +980,17 @@
   AM_V=$AM_DEFAULT_VERBOSITY
   AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
 fi
-])dnl
+AC_SUBST([AM_V])dnl
+AM_SUBST_NOTMAKE([AM_V])dnl
+AC_SUBST([AM_DEFAULT_V])dnl
+AM_SUBST_NOTMAKE([AM_DEFAULT_V])dnl
+AC_SUBST([AM_DEFAULT_VERBOSITY])dnl
+AM_BACKSLASH='\'
+AC_SUBST([AM_BACKSLASH])dnl
+_AM_SUBST_NOTMAKE([AM_BACKSLASH])dnl
 ])
 
-# AM_SILENT_RULES([DEFAULT])
-# --------------------------
-# Set the default verbosity level to DEFAULT ("yes" being less verbose, "no" or
-# empty being verbose).
-AC_DEFUN([AM_SILENT_RULES],
-[AC_REQUIRE([_AM_SILENT_RULES])
-AM_DEFAULT_VERBOSITY=m4_if([$1], [yes], [0], [1])])
-
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# Copyright (C) 2001-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1151,7 +1018,7 @@
 INSTALL_STRIP_PROGRAM="\$(install_sh) -c -s"
 AC_SUBST([INSTALL_STRIP_PROGRAM])])
 
-# Copyright (C) 2006-2024 Free Software Foundation, Inc.
+# Copyright (C) 2006-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1170,7 +1037,7 @@
 
 # Check how to create a tarball.                            -*- Autoconf -*-
 
-# Copyright (C) 2004-2024 Free Software Foundation, Inc.
+# Copyright (C) 2004-2021 Free Software Foundation, Inc.
 #
 # This file is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -1216,19 +1083,15 @@
       am_uid=`id -u || echo unknown`
       am_gid=`id -g || echo unknown`
       AC_MSG_CHECKING([whether UID '$am_uid' is supported by ustar format])
-      if test x$am_uid = xunknown; then
-        AC_MSG_WARN([ancient id detected; assuming current UID is ok, but dist-ustar might not work])
-      elif test $am_uid -le $am_max_uid; then
-        AC_MSG_RESULT([yes])
+      if test $am_uid -le $am_max_uid; then
+         AC_MSG_RESULT([yes])
       else
-        AC_MSG_RESULT([no])
-        _am_tools=none
+         AC_MSG_RESULT([no])
+         _am_tools=none
       fi
       AC_MSG_CHECKING([whether GID '$am_gid' is supported by ustar format])
-      if test x$gm_gid = xunknown; then
-        AC_MSG_WARN([ancient id detected; assuming current GID is ok, but dist-ustar might not work])
-      elif test $am_gid -le $am_max_gid; then
-        AC_MSG_RESULT([yes])
+      if test $am_gid -le $am_max_gid; then
+         AC_MSG_RESULT([yes])
       else
         AC_MSG_RESULT([no])
         _am_tools=none
@@ -1305,28 +1168,7 @@
 AC_SUBST([am__untar])
 ]) # _AM_PROG_TAR
 
-# Copyright (C) 2022-2024 Free Software Foundation, Inc.
-#
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-
-# _AM_PROG_XARGS_N
-# ----------------
-# Check whether 'xargs -n' works.  It should work everywhere, so the fallback
-# is not optimized at all as we never expect to use it.
-AC_DEFUN([_AM_PROG_XARGS_N],
-[AC_CACHE_CHECK([xargs -n works], am_cv_xargs_n_works, [dnl
-AS_IF([test "`echo 1 2 3 | xargs -n2 echo`" = "1 2
-3"], [am_cv_xargs_n_works=yes], [am_cv_xargs_n_works=no])])
-AS_IF([test "$am_cv_xargs_n_works" = yes], [am__xargs_n='xargs -n'], [dnl
-  am__xargs_n='am__xargs_n () { shift; sed "s/ /\\n/g" | while read am__xargs_n_arg; do "$@" "$am__xargs_n_arg"; done; }'
-])dnl
-AC_SUBST(am__xargs_n)
-])
-
 m4_include([m4/ax_pthread.m4])
-m4_include([m4/build-to-host.m4])
 m4_include([m4/getopt.m4])
 m4_include([m4/gettext.m4])
 m4_include([m4/host-cpu-c-abi.m4])
diff -Nur xz-5.8.1/build-aux/compile xz-5.8.1-irix/build-aux/compile
--- xz-5.8.1/build-aux/compile	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/build-aux/compile	2025-04-25 14:59:03.019574376 +0000
@@ -1,9 +1,9 @@
 #! /bin/sh
 # Wrapper for compilers which do not understand '-c -o'.
 
-scriptversion=2024-06-19.01; # UTC
+scriptversion=2018-03-07.03; # UTC
 
-# Copyright (C) 1999-2024 Free Software Foundation, Inc.
+# Copyright (C) 1999-2021 Free Software Foundation, Inc.
 # Written by Tom Tromey <tromey@cygnus.com>.
 #
 # This program is free software; you can redistribute it and/or modify
@@ -143,7 +143,7 @@
 	  # configure might choose to run compile as 'compile cc -o foo foo.c'.
 	  eat=1
 	  case $2 in
-	    *.o | *.lo | *.[oO][bB][jJ])
+	    *.o | *.[oO][bB][jJ])
 	      func_file_conv "$2"
 	      set x "$@" -Fo"$file"
 	      shift
@@ -248,17 +248,14 @@
 right script to run: please start by reading the file 'INSTALL'.
 
 Report bugs to <bug-automake@gnu.org>.
-GNU Automake home page: <https://www.gnu.org/software/automake/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>.
 EOF
     exit $?
     ;;
   -v | --v*)
-    echo "compile (GNU Automake) $scriptversion"
+    echo "compile $scriptversion"
     exit $?
     ;;
   cl | *[/\\]cl | cl.exe | *[/\\]cl.exe | \
-  clang-cl | *[/\\]clang-cl | clang-cl.exe | *[/\\]clang-cl.exe | \
   icl | *[/\\]icl | icl.exe | *[/\\]icl.exe )
     func_cl_wrapper "$@"      # Doesn't return...
     ;;
diff -Nur xz-5.8.1/build-aux/config.guess xz-5.8.1-irix/build-aux/config.guess
--- xz-5.8.1/build-aux/config.guess	2025-04-03 11:35:29.000000000 +0000
+++ xz-5.8.1-irix/build-aux/config.guess	2025-04-25 14:59:03.022574437 +0000
@@ -1,10 +1,10 @@
 #! /bin/sh
 # Attempt to guess a canonical system name.
-#   Copyright 1992-2024 Free Software Foundation, Inc.
+#   Copyright 1992-2022 Free Software Foundation, Inc.
 
 # shellcheck disable=SC2006,SC2268 # see below for rationale
 
-timestamp='2024-07-27'
+timestamp='2022-01-09'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -47,7 +47,7 @@
 usage="\
 Usage: $0 [OPTION]
 
-Output the configuration name of the system '$me' is run on.
+Output the configuration name of the system \`$me' is run on.
 
 Options:
   -h, --help         print this help, then exit
@@ -60,13 +60,13 @@
 GNU config.guess ($timestamp)
 
 Originally written by Per Bothner.
-Copyright 1992-2024 Free Software Foundation, Inc.
+Copyright 1992-2022 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
 
 help="
-Try '$me --help' for more information."
+Try \`$me --help' for more information."
 
 # Parse command line
 while test $# -gt 0 ; do
@@ -102,8 +102,8 @@
 # temporary files to be created and, as you can see below, it is a
 # headache to deal with in a portable fashion.
 
-# Historically, 'CC_FOR_BUILD' used to be named 'HOST_CC'. We still
-# use 'HOST_CC' if defined, but it is deprecated.
+# Historically, `CC_FOR_BUILD' used to be named `HOST_CC'. We still
+# use `HOST_CC' if defined, but it is deprecated.
 
 # Portable tmp directory creation inspired by the Autoconf team.
 
@@ -123,7 +123,7 @@
     dummy=$tmp/dummy
     case ${CC_FOR_BUILD-},${HOST_CC-},${CC-} in
 	,,)    echo "int x;" > "$dummy.c"
-	       for driver in cc gcc c17 c99 c89 ; do
+	       for driver in cc gcc c89 c99 ; do
 		   if ($driver -c -o "$dummy.o" "$dummy.c") >/dev/null 2>&1 ; then
 		       CC_FOR_BUILD=$driver
 		       break
@@ -155,9 +155,6 @@
 
 	set_cc_for_build
 	cat <<-EOF > "$dummy.c"
-	#if defined(__ANDROID__)
-	LIBC=android
-	#else
 	#include <features.h>
 	#if defined(__UCLIBC__)
 	LIBC=uclibc
@@ -165,8 +162,6 @@
 	LIBC=dietlibc
 	#elif defined(__GLIBC__)
 	LIBC=gnu
-	#elif defined(__LLVM_LIBC__)
-	LIBC=llvm
 	#else
 	#include <stdarg.h>
 	/* First heuristic to detect musl libc.  */
@@ -174,7 +169,6 @@
 	LIBC=musl
 	#endif
 	#endif
-	#endif
 	EOF
 	cc_set_libc=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^LIBC' | sed 's, ,,g'`
 	eval "$cc_set_libc"
@@ -465,7 +459,7 @@
 		UNAME_RELEASE=`uname -v`
 		;;
 	esac
-	# Japanese Language versions have a version number like '4.1.3-JL'.
+	# Japanese Language versions have a version number like `4.1.3-JL'.
 	SUN_REL=`echo "$UNAME_RELEASE" | sed -e 's/-/_/'`
 	GUESS=sparc-sun-sunos$SUN_REL
 	;;
@@ -634,8 +628,7 @@
 		sed 's/^		//' << EOF > "$dummy.c"
 		#include <sys/systemcfg.h>
 
-		int
-		main ()
+		main()
 			{
 			if (!__power_pc())
 				exit(1);
@@ -719,8 +712,7 @@
 		#include <stdlib.h>
 		#include <unistd.h>
 
-		int
-		main ()
+		int main ()
 		{
 		#if defined(_SC_KERNEL_BITS)
 		    long bits = sysconf(_SC_KERNEL_BITS);
@@ -912,7 +904,7 @@
 	fi
 	;;
     *:FreeBSD:*:*)
-	UNAME_PROCESSOR=`uname -p`
+	UNAME_PROCESSOR=`/usr/bin/uname -p`
 	case $UNAME_PROCESSOR in
 	    amd64)
 		UNAME_PROCESSOR=x86_64 ;;
@@ -974,37 +966,11 @@
 	GNU_REL=`echo "$UNAME_RELEASE" | sed -e 's/[-(].*//'`
 	GUESS=$UNAME_MACHINE-unknown-$GNU_SYS$GNU_REL-$LIBC
 	;;
-    x86_64:[Mm]anagarm:*:*|i?86:[Mm]anagarm:*:*)
-	GUESS="$UNAME_MACHINE-pc-managarm-mlibc"
-	;;
-    *:[Mm]anagarm:*:*)
-	GUESS="$UNAME_MACHINE-unknown-managarm-mlibc"
-	;;
     *:Minix:*:*)
 	GUESS=$UNAME_MACHINE-unknown-minix
 	;;
     aarch64:Linux:*:*)
-	set_cc_for_build
-	CPU=$UNAME_MACHINE
-	LIBCABI=$LIBC
-	if test "$CC_FOR_BUILD" != no_compiler_found; then
-	    ABI=64
-	    sed 's/^	    //' << EOF > "$dummy.c"
-	    #ifdef __ARM_EABI__
-	    #ifdef __ARM_PCS_VFP
-	    ABI=eabihf
-	    #else
-	    ABI=eabi
-	    #endif
-	    #endif
-EOF
-	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
-	    eval "$cc_set_abi"
-	    case $ABI in
-		eabi | eabihf) CPU=armv8l; LIBCABI=$LIBC$ABI ;;
-	    esac
-	fi
-	GUESS=$CPU-unknown-linux-$LIBCABI
+	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
 	;;
     aarch64_be:Linux:*:*)
 	UNAME_MACHINE=aarch64_be
@@ -1070,16 +1036,7 @@
     k1om:Linux:*:*)
 	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
 	;;
-    kvx:Linux:*:*)
-	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
-	;;
-    kvx:cos:*:*)
-	GUESS=$UNAME_MACHINE-unknown-cos
-	;;
-    kvx:mbr:*:*)
-	GUESS=$UNAME_MACHINE-unknown-mbr
-	;;
-    loongarch32:Linux:*:* | loongarch64:Linux:*:*)
+    loongarch32:Linux:*:* | loongarch64:Linux:*:* | loongarchx32:Linux:*:*)
 	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
 	;;
     m32r*:Linux:*:*)
@@ -1194,27 +1151,16 @@
 	;;
     x86_64:Linux:*:*)
 	set_cc_for_build
-	CPU=$UNAME_MACHINE
 	LIBCABI=$LIBC
 	if test "$CC_FOR_BUILD" != no_compiler_found; then
-	    ABI=64
-	    sed 's/^	    //' << EOF > "$dummy.c"
-	    #ifdef __i386__
-	    ABI=x86
-	    #else
-	    #ifdef __ILP32__
-	    ABI=x32
-	    #endif
-	    #endif
-EOF
-	    cc_set_abi=`$CC_FOR_BUILD -E "$dummy.c" 2>/dev/null | grep '^ABI' | sed 's, ,,g'`
-	    eval "$cc_set_abi"
-	    case $ABI in
-		x86) CPU=i686 ;;
-		x32) LIBCABI=${LIBC}x32 ;;
-	    esac
+	    if (echo '#ifdef __ILP32__'; echo IS_X32; echo '#endif') | \
+		(CCOPTS="" $CC_FOR_BUILD -E - 2>/dev/null) | \
+		grep IS_X32 >/dev/null
+	    then
+		LIBCABI=${LIBC}x32
+	    fi
 	fi
-	GUESS=$CPU-pc-linux-$LIBCABI
+	GUESS=$UNAME_MACHINE-pc-linux-$LIBCABI
 	;;
     xtensa*:Linux:*:*)
 	GUESS=$UNAME_MACHINE-unknown-linux-$LIBC
@@ -1234,7 +1180,7 @@
 	GUESS=$UNAME_MACHINE-pc-sysv4.2uw$UNAME_VERSION
 	;;
     i*86:OS/2:*:*)
-	# If we were able to find 'uname', then EMX Unix compatibility
+	# If we were able to find `uname', then EMX Unix compatibility
 	# is probably installed.
 	GUESS=$UNAME_MACHINE-pc-os2-emx
 	;;
@@ -1375,7 +1321,7 @@
 		GUESS=ns32k-sni-sysv
 	fi
 	;;
-    PENTIUM:*:4.0*:*)	# Unisys 'ClearPath HMP IX 4000' SVR4/MP effort
+    PENTIUM:*:4.0*:*)	# Unisys `ClearPath HMP IX 4000' SVR4/MP effort
 			# says <Richard.M.Bartel@ccMail.Census.GOV>
 	GUESS=i586-unisys-sysv4
 	;;
@@ -1421,11 +1367,8 @@
     BePC:Haiku:*:*)	# Haiku running on Intel PC compatible.
 	GUESS=i586-pc-haiku
 	;;
-    ppc:Haiku:*:*)	# Haiku running on Apple PowerPC
-	GUESS=powerpc-apple-haiku
-	;;
-    *:Haiku:*:*)	# Haiku modern gcc (not bound by BeOS compat)
-	GUESS=$UNAME_MACHINE-unknown-haiku
+    x86_64:Haiku:*:*)
+	GUESS=x86_64-unknown-haiku
 	;;
     SX-4:SUPER-UX:*:*)
 	GUESS=sx4-nec-superux$UNAME_RELEASE
@@ -1597,9 +1540,6 @@
     *:Unleashed:*:*)
 	GUESS=$UNAME_MACHINE-unknown-unleashed$UNAME_RELEASE
 	;;
-    *:Ironclad:*:*)
-	GUESS=$UNAME_MACHINE-unknown-ironclad
-	;;
 esac
 
 # Do we have a guess based on uname results?
@@ -1623,7 +1563,6 @@
 #endif
 #endif
 #endif
-int
 main ()
 {
 #if defined (sony)
diff -Nur xz-5.8.1/build-aux/config.rpath xz-5.8.1-irix/build-aux/config.rpath
--- xz-5.8.1/build-aux/config.rpath	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/build-aux/config.rpath	2025-04-25 14:59:00.439521957 +0000
@@ -1,15 +1,23 @@
 #! /bin/sh
 # Output a system dependent set of variables, describing how to set the
-# run time search path of shared libraries in a binary (executable or
-# shared library).
+# run time search path of shared libraries in an executable.
 #
-#   Copyright 1996-2024 Free Software Foundation, Inc.
+#   Copyright 1996-2020 Free Software Foundation, Inc.
 #   Taken from GNU libtool, 2001
 #   Originally by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 #
 #   This file is free software; the Free Software Foundation gives
 #   unlimited permission to copy and/or distribute it, with or without
 #   modifications, as long as this notice is preserved.
+#
+# The first argument passed to this file is the canonical host specification,
+#    CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
+# or
+#    CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
+# The environment variables CC, GCC, LDFLAGS, LD, with_gnu_ld
+# should be set by the caller.
+#
+# The set of defined variables is at the end of this script.
 
 # Known limitations:
 # - On IRIX 6.5 with CC="cc", the run time search patch must not be longer
@@ -17,81 +25,6 @@
 #   known workaround is to choose shorter directory names for the build
 #   directory and/or the installation directory.
 
-# func_usage
-# outputs to stdout the --help usage message.
-func_usage ()
-{
-  echo "\
-Usage: config.rpath [OPTION] HOST
-
-Prints shell variable assignments that describe how to hardcode a directory
-for the lookup of shared libraries into a binary (executable or shared library).
-
-The first argument passed to this file is the canonical host specification,
-   CPU_TYPE-MANUFACTURER-OPERATING_SYSTEM
-or
-   CPU_TYPE-MANUFACTURER-KERNEL-OPERATING_SYSTEM
-
-The environment variables CC, GCC, LDFLAGS, LD, with_gnu_ld
-should be set by the caller.
-
-The set of defined variables is at the end of this script.
-
-Options:
-      --help           print this help and exit
-      --version        print version information and exit
-
-Send patches and bug reports to <bug-gnulib@gnu.org>."
-}
-
-# func_version
-# outputs to stdout the --version message.
-func_version ()
-{
-  echo "config.rpath (GNU gnulib, module havelib)"
-  echo "Copyright (C) 2024 Free Software Foundation, Inc.
-License: All-Permissive.
-This is free software: you are free to change and redistribute it.
-There is NO WARRANTY, to the extent permitted by law."
-  echo
-  printf 'Written by %s.\n' "Bruno Haible"
-}
-
-# func_fatal_error message
-# outputs to stderr a fatal error message, and terminates the program.
-func_fatal_error ()
-{
-  echo "config.rpath: *** $1" 1>&2
-  echo "config.rpath: *** Stop." 1>&2
-  exit 1
-}
-
-# Command-line option processing.
-while test $# -gt 0; do
-  case "$1" in
-    --help | --hel | --he | --h )
-      func_usage
-      exit 0 ;;
-   --version | --versio | --versi | --vers | --ver | --ve | --v )
-      func_version
-      exit 0 ;;
-    -- )      # Stop option processing
-      shift; break ;;
-    -* )
-      func_fatal_error "unrecognized option: $1"
-      ;;
-    * )
-      break ;;
-  esac
-done
-
-if test $# -gt 1; then
-  func_fatal_error "too many arguments"
-fi
-if test $# -lt 1; then
-  func_fatal_error "too few arguments"
-fi
-
 # All known linkers require a '.a' archive for static linking (except MSVC,
 # which needs '.lib').
 libext=a
@@ -438,7 +371,7 @@
       hardcode_direct=yes
       hardcode_minus_L=yes
       ;;
-    freebsd* | dragonfly* | midnightbsd*)
+    freebsd* | dragonfly*)
       hardcode_libdir_flag_spec='-R$libdir'
       hardcode_direct=yes
       ;;
@@ -614,7 +547,7 @@
   freebsd[23].*)
     library_names_spec='$libname$shrext$versuffix'
     ;;
-  freebsd* | dragonfly* | midnightbsd*)
+  freebsd* | dragonfly*)
     library_names_spec='$libname$shrext'
     ;;
   gnu*)
diff -Nur xz-5.8.1/build-aux/config.sub xz-5.8.1-irix/build-aux/config.sub
--- xz-5.8.1/build-aux/config.sub	2025-04-03 11:35:29.000000000 +0000
+++ xz-5.8.1-irix/build-aux/config.sub	2025-04-25 14:59:03.025574498 +0000
@@ -1,10 +1,10 @@
 #! /bin/sh
 # Configuration validation subroutine script.
-#   Copyright 1992-2024 Free Software Foundation, Inc.
+#   Copyright 1992-2022 Free Software Foundation, Inc.
 
-# shellcheck disable=SC2006,SC2268,SC2162 # see below for rationale
+# shellcheck disable=SC2006,SC2268 # see below for rationale
 
-timestamp='2024-05-27'
+timestamp='2022-01-03'
 
 # This file is free software; you can redistribute it and/or modify it
 # under the terms of the GNU General Public License as published by
@@ -76,13 +76,13 @@
 version="\
 GNU config.sub ($timestamp)
 
-Copyright 1992-2024 Free Software Foundation, Inc.
+Copyright 1992-2022 Free Software Foundation, Inc.
 
 This is free software; see the source for copying conditions.  There is NO
 warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE."
 
 help="
-Try '$me --help' for more information."
+Try \`$me --help' for more information."
 
 # Parse command line
 while test $# -gt 0 ; do
@@ -120,6 +120,7 @@
 esac
 
 # Split fields of configuration type
+# shellcheck disable=SC2162
 saved_IFS=$IFS
 IFS="-" read field1 field2 field3 field4 <<EOF
 $1
@@ -129,7 +130,7 @@
 # Separate into logical components for further validation
 case $1 in
 	*-*-*-*-*)
-		echo "Invalid configuration '$1': more than four components" >&2
+		echo Invalid configuration \`"$1"\': more than four components >&2
 		exit 1
 		;;
 	*-*-*-*)
@@ -141,21 +142,10 @@
 		# parts
 		maybe_os=$field2-$field3
 		case $maybe_os in
-			  cloudabi*-eabi* \
-			| kfreebsd*-gnu* \
-			| knetbsd*-gnu* \
-			| kopensolaris*-gnu* \
-			| linux-* \
-			| managarm-* \
-			| netbsd*-eabi* \
-			| netbsd*-gnu* \
-			| nto-qnx* \
-			| os2-emx* \
-			| rtmk-nova* \
-			| storm-chaos* \
-			| uclinux-gnu* \
-			| uclinux-uclibc* \
-			| windows-* )
+			nto-qnx* | linux-* | uclinux-uclibc* \
+			| uclinux-gnu* | kfreebsd*-gnu* | knetbsd*-gnu* | netbsd*-gnu* \
+			| netbsd*-eabi* | kopensolaris*-gnu* | cloudabi*-eabi* \
+			| storm-chaos* | os2-emx* | rtmk-nova*)
 				basic_machine=$field1
 				basic_os=$maybe_os
 				;;
@@ -170,12 +160,8 @@
 		esac
 		;;
 	*-*)
+		# A lone config we happen to match not fitting any pattern
 		case $field1-$field2 in
-			# Shorthands that happen to contain a single dash
-			convex-c[12] | convex-c3[248])
-				basic_machine=$field2-convex
-				basic_os=
-				;;
 			decstation-3100)
 				basic_machine=mips-dec
 				basic_os=
@@ -183,88 +169,28 @@
 			*-*)
 				# Second component is usually, but not always the OS
 				case $field2 in
-					# Do not treat sunos as a manufacturer
+					# Prevent following clause from handling this valid os
 					sun*os*)
 						basic_machine=$field1
 						basic_os=$field2
 						;;
-					# Manufacturers
-					  3100* \
-					| 32* \
-					| 3300* \
-					| 3600* \
-					| 7300* \
-					| acorn \
-					| altos* \
-					| apollo \
-					| apple \
-					| atari \
-					| att* \
-					| axis \
-					| be \
-					| bull \
-					| cbm \
-					| ccur \
-					| cisco \
-					| commodore \
-					| convergent* \
-					| convex* \
-					| cray \
-					| crds \
-					| dec* \
-					| delta* \
-					| dg \
-					| digital \
-					| dolphin \
-					| encore* \
-					| gould \
-					| harris \
-					| highlevel \
-					| hitachi* \
-					| hp \
-					| ibm* \
-					| intergraph \
-					| isi* \
-					| knuth \
-					| masscomp \
-					| microblaze* \
-					| mips* \
-					| motorola* \
-					| ncr* \
-					| news \
-					| next \
-					| ns \
-					| oki \
-					| omron* \
-					| pc533* \
-					| rebel \
-					| rom68k \
-					| rombug \
-					| semi \
-					| sequent* \
-					| siemens \
-					| sgi* \
-					| siemens \
-					| sim \
-					| sni \
-					| sony* \
-					| stratus \
-					| sun \
-					| sun[234]* \
-					| tektronix \
-					| tti* \
-					| ultra \
-					| unicom* \
-					| wec \
-					| winbond \
-					| wrs)
-						basic_machine=$field1-$field2
-						basic_os=
-						;;
 					zephyr*)
 						basic_machine=$field1-unknown
 						basic_os=$field2
 						;;
+					# Manufacturers
+					dec* | mips* | sequent* | encore* | pc533* | sgi* | sony* \
+					| att* | 7300* | 3300* | delta* | motorola* | sun[234]* \
+					| unicom* | ibm* | next | hp | isi* | apollo | altos* \
+					| convergent* | ncr* | news | 32* | 3600* | 3100* \
+					| hitachi* | c[123]* | convex* | sun | crds | omron* | dg \
+					| ultra | tti* | harris | dolphin | highlevel | gould \
+					| cbm | ns | masscomp | apple | axis | knuth | cray \
+					| microblaze* | sim | cisco \
+					| oki | wec | wrs | winbond)
+						basic_machine=$field1-$field2
+						basic_os=
+						;;
 					*)
 						basic_machine=$field1
 						basic_os=$field2
@@ -345,6 +271,26 @@
 				basic_machine=arm-unknown
 				basic_os=cegcc
 				;;
+			convex-c1)
+				basic_machine=c1-convex
+				basic_os=bsd
+				;;
+			convex-c2)
+				basic_machine=c2-convex
+				basic_os=bsd
+				;;
+			convex-c32)
+				basic_machine=c32-convex
+				basic_os=bsd
+				;;
+			convex-c34)
+				basic_machine=c34-convex
+				basic_os=bsd
+				;;
+			convex-c38)
+				basic_machine=c38-convex
+				basic_os=bsd
+				;;
 			cray)
 				basic_machine=j90-cray
 				basic_os=unicos
@@ -767,26 +713,15 @@
 		vendor=dec
 		basic_os=tops20
 		;;
-	delta | 3300 | delta-motorola | 3300-motorola | motorola-delta | motorola-3300)
+	delta | 3300 | motorola-3300 | motorola-delta \
+	      | 3300-motorola | delta-motorola)
 		cpu=m68k
 		vendor=motorola
 		;;
-	# This used to be dpx2*, but that gets the RS6000-based
-	# DPX/20 and the x86-based DPX/2-100 wrong.  See
-	# https://oldskool.silicium.org/stations/bull_dpx20.htm
-	# https://www.feb-patrimoine.com/english/bull_dpx2.htm
-	# https://www.feb-patrimoine.com/english/unix_and_bull.htm
-	dpx2 | dpx2[23]00 | dpx2[23]xx)
+	dpx2*)
 		cpu=m68k
 		vendor=bull
-		;;
-	dpx2100 | dpx21xx)
-		cpu=i386
-		vendor=bull
-		;;
-	dpx20)
-		cpu=rs6000
-		vendor=bull
+		basic_os=sysv3
 		;;
 	encore | umax | mmax)
 		cpu=ns32k
@@ -901,6 +836,18 @@
 	next | m*-next)
 		cpu=m68k
 		vendor=next
+		case $basic_os in
+		    openstep*)
+		        ;;
+		    nextstep*)
+			;;
+		    ns2*)
+		      basic_os=nextstep2
+			;;
+		    *)
+		      basic_os=nextstep3
+			;;
+		esac
 		;;
 	np1)
 		cpu=np1
@@ -989,13 +936,14 @@
 		;;
 
 	*-*)
+		# shellcheck disable=SC2162
 		saved_IFS=$IFS
 		IFS="-" read cpu vendor <<EOF
 $basic_machine
 EOF
 		IFS=$saved_IFS
 		;;
-	# We use 'pc' rather than 'unknown'
+	# We use `pc' rather than `unknown'
 	# because (1) that's what they normally are, and
 	# (2) the word "unknown" tends to confuse beginning users.
 	i*86 | x86_64)
@@ -1023,19 +971,15 @@
 
 # Decode basic machines in the full and proper CPU-Company form.
 case $cpu-$vendor in
-	# Here we handle the default manufacturer of certain CPU types in canonical form.
-	# It is in some cases the only manufacturer, in others, it is the most popular.
-	c[12]-convex | c[12]-unknown | c3[248]-convex | c3[248]-unknown)
-		vendor=convex
-		basic_os=${basic_os:-bsd}
-		;;
+	# Here we handle the default manufacturer of certain CPU types in canonical form. It is in
+	# some cases the only manufacturer, in others, it is the most popular.
 	craynv-unknown)
 		vendor=cray
 		basic_os=${basic_os:-unicosmp}
 		;;
 	c90-unknown | c90-cray)
 		vendor=cray
-		basic_os=${basic_os:-unicos}
+		basic_os=${Basic_os:-unicos}
 		;;
 	fx80-unknown)
 		vendor=alliant
@@ -1081,29 +1025,11 @@
 		vendor=alt
 		basic_os=${basic_os:-linux-gnueabihf}
 		;;
-
-	# Normalized CPU+vendor pairs that imply an OS, if not otherwise specified
-	m68k-isi)
-		basic_os=${basic_os:-sysv}
-		;;
-	m68k-sony)
-		basic_os=${basic_os:-newsos}
-		;;
-	m68k-tektronix)
-		basic_os=${basic_os:-bsd}
-		;;
-	m88k-harris)
-		basic_os=${basic_os:-sysv3}
-		;;
-	i386-bull | m68k-bull)
-		basic_os=${basic_os:-sysv3}
-		;;
-	rs6000-bull)
+	dpx20-unknown | dpx20-bull)
+		cpu=rs6000
+		vendor=bull
 		basic_os=${basic_os:-bosx}
 		;;
-	mips-sni)
-		basic_os=${basic_os:-sysv4}
-		;;
 
 	# Here we normalize CPU types irrespective of the vendor
 	amd64-*)
@@ -1111,7 +1037,7 @@
 		;;
 	blackfin-*)
 		cpu=bfin
-		basic_os=${basic_os:-linux}
+		basic_os=linux
 		;;
 	c54x-*)
 		cpu=tic54x
@@ -1134,7 +1060,7 @@
 		;;
 	m68knommu-*)
 		cpu=m68k
-		basic_os=${basic_os:-linux}
+		basic_os=linux
 		;;
 	m9s12z-* | m68hcs12z-* | hcs12z-* | s12z-*)
 		cpu=s12z
@@ -1144,12 +1070,12 @@
 		;;
 	parisc-*)
 		cpu=hppa
-		basic_os=${basic_os:-linux}
+		basic_os=linux
 		;;
 	pentium-* | p5-* | k5-* | k6-* | nexgen-* | viac3-*)
 		cpu=i586
 		;;
-	pentiumpro-* | p6-* | 6x86-* | athlon-* | athlon_*-*)
+	pentiumpro-* | p6-* | 6x86-* | athlon-* | athalon_*-*)
 		cpu=i686
 		;;
 	pentiumii-* | pentium2-* | pentiumiii-* | pentium3-*)
@@ -1158,6 +1084,9 @@
 	pentium4-*)
 		cpu=i786
 		;;
+	pc98-*)
+		cpu=i386
+		;;
 	ppc-* | ppcbe-*)
 		cpu=powerpc
 		;;
@@ -1191,6 +1120,9 @@
 	tx39el-*)
 		cpu=mipstx39el
 		;;
+	x64-*)
+		cpu=x86_64
+		;;
 	xscale-* | xscalee[bl]-*)
 		cpu=`echo "$cpu" | sed 's/^xscale/arm/'`
 		;;
@@ -1246,231 +1178,114 @@
 		# Recognize the canonical CPU types that are allowed with any
 		# company name.
 		case $cpu in
-			  1750a \
-			| 580 \
-			| [cjt]90 \
+			1750a | 580 \
 			| a29k \
-			| aarch64 \
-			| aarch64_be \
-			| aarch64c \
+			| aarch64 | aarch64_be \
 			| abacus \
-			| alpha \
-			| alpha64 \
-			| alpha64ev56 \
-			| alpha64ev6[78] \
-			| alpha64ev[4-8] \
-			| alpha64pca5[67] \
-			| alphaev56 \
-			| alphaev6[78] \
-			| alphaev[4-8] \
-			| alphapca5[67] \
+			| alpha | alphaev[4-8] | alphaev56 | alphaev6[78] \
+			| alpha64 | alpha64ev[4-8] | alpha64ev56 | alpha64ev6[78] \
+			| alphapca5[67] | alpha64pca5[67] \
 			| am33_2.0 \
 			| amdgcn \
-			| arc \
-			| arc32 \
-			| arc64 \
-			| arceb \
-			| arm \
-			| arm64e \
-			| arm64ec \
-			| arm[lb]e \
-			| arme[lb] \
-			| armv* \
+			| arc | arceb | arc32 | arc64 \
+			| arm | arm[lb]e | arme[lb] | armv* \
+			| avr | avr32 \
 			| asmjs \
-			| avr \
-			| avr32 \
 			| ba \
-			| be32 \
-			| be64 \
-			| bfin \
-			| bpf \
-			| bs2000 \
-			| c30 \
-			| c4x \
-			| c8051 \
-			| c[123]* \
-			| clipper \
-			| craynv \
-			| csky \
-			| cydra \
-			| d10v \
-			| d30v \
-			| dlx \
-			| dsp16xx \
-			| e2k \
-			| elxsi \
-			| epiphany \
-			| f30[01] \
-			| f700 \
-			| fido \
-			| fr30 \
-			| frv \
-			| ft32 \
-			| fx80 \
-			| h8300 \
-			| h8500 \
+			| be32 | be64 \
+			| bfin | bpf | bs2000 \
+			| c[123]* | c30 | [cjt]90 | c4x \
+			| c8051 | clipper | craynv | csky | cydra \
+			| d10v | d30v | dlx | dsp16xx \
+			| e2k | elxsi | epiphany \
+			| f30[01] | f700 | fido | fr30 | frv | ft32 | fx80 \
+			| h8300 | h8500 \
+			| hppa | hppa1.[01] | hppa2.0 | hppa2.0[nw] | hppa64 \
 			| hexagon \
-			| hppa \
-			| hppa1.[01] \
-			| hppa2.0 \
-			| hppa2.0[nw] \
-			| hppa64 \
-			| i*86 \
-			| i370 \
-			| i860 \
-			| i960 \
-			| ia16 \
-			| ia64 \
-			| ip2k \
-			| iq2000 \
-			| javascript \
+			| i370 | i*86 | i860 | i960 | ia16 | ia64 \
+			| ip2k | iq2000 \
 			| k1om \
-			| kvx \
-			| le32 \
-			| le64 \
+			| le32 | le64 \
 			| lm32 \
-			| loongarch32 \
-			| loongarch64 \
-			| m32c \
-			| m32r \
-			| m32rle \
-			| m5200 \
-			| m68000 \
-			| m680[012346]0 \
-			| m6811 \
-			| m6812 \
-			| m68360 \
-			| m683?2 \
-			| m68hc11 \
-			| m68hc12 \
-			| m68hcs12x \
-			| m68k \
-			| m88110 \
-			| m88k \
-			| maxq \
-			| mb \
-			| mcore \
-			| mep \
-			| metag \
-			| microblaze \
-			| microblazeel \
-			| mips* \
+			| loongarch32 | loongarch64 | loongarchx32 \
+			| m32c | m32r | m32rle \
+			| m5200 | m68000 | m680[012346]0 | m68360 | m683?2 | m68k \
+			| m6811 | m68hc11 | m6812 | m68hc12 | m68hcs12x \
+			| m88110 | m88k | maxq | mb | mcore | mep | metag \
+			| microblaze | microblazeel \
+			| mips | mipsbe | mipseb | mipsel | mipsle \
+			| mips16 \
+			| mips64 | mips64eb | mips64el \
+			| mips64octeon | mips64octeonel \
+			| mips64orion | mips64orionel \
+			| mips64r5900 | mips64r5900el \
+			| mips64vr | mips64vrel \
+			| mips64vr4100 | mips64vr4100el \
+			| mips64vr4300 | mips64vr4300el \
+			| mips64vr5000 | mips64vr5000el \
+			| mips64vr5900 | mips64vr5900el \
+			| mipsisa32 | mipsisa32el \
+			| mipsisa32r2 | mipsisa32r2el \
+			| mipsisa32r3 | mipsisa32r3el \
+			| mipsisa32r5 | mipsisa32r5el \
+			| mipsisa32r6 | mipsisa32r6el \
+			| mipsisa64 | mipsisa64el \
+			| mipsisa64r2 | mipsisa64r2el \
+			| mipsisa64r3 | mipsisa64r3el \
+			| mipsisa64r5 | mipsisa64r5el \
+			| mipsisa64r6 | mipsisa64r6el \
+			| mipsisa64sb1 | mipsisa64sb1el \
+			| mipsisa64sr71k | mipsisa64sr71kel \
+			| mipsr5900 | mipsr5900el \
+			| mipstx39 | mipstx39el \
 			| mmix \
-			| mn10200 \
-			| mn10300 \
+			| mn10200 | mn10300 \
 			| moxie \
-			| msp430 \
 			| mt \
-			| nanomips* \
-			| nds32 \
-			| nds32be \
-			| nds32le \
+			| msp430 \
+			| nds32 | nds32le | nds32be \
 			| nfp \
-			| nios \
-			| nios2 \
-			| nios2eb \
-			| nios2el \
-			| none \
-			| np1 \
-			| ns16k \
-			| ns32k \
-			| nvptx \
+			| nios | nios2 | nios2eb | nios2el \
+			| none | np1 | ns16k | ns32k | nvptx \
 			| open8 \
 			| or1k* \
 			| or32 \
 			| orion \
-			| pdp10 \
-			| pdp11 \
 			| picochip \
-			| pj \
-			| pjl \
-			| pn \
-			| power \
-			| powerpc \
-			| powerpc64 \
-			| powerpc64le \
-			| powerpcle \
-			| powerpcspe \
+			| pdp10 | pdp11 | pj | pjl | pn | power \
+			| powerpc | powerpc64 | powerpc64le | powerpcle | powerpcspe \
 			| pru \
 			| pyramid \
-			| riscv \
-			| riscv32 \
-			| riscv32be \
-			| riscv64 \
-			| riscv64be \
-			| rl78 \
-			| romp \
-			| rs6000 \
-			| rx \
-			| s390 \
-			| s390x \
+			| riscv | riscv32 | riscv32be | riscv64 | riscv64be \
+			| rl78 | romp | rs6000 | rx \
+			| s390 | s390x \
 			| score \
-			| sh \
-			| sh64 \
-			| sh64le \
-			| sh[12345][lb]e \
-			| sh[1234] \
-			| sh[1234]e[lb] \
-			| sh[23]e \
-			| sh[23]ele \
-			| sh[24]a \
-			| sh[24]ae[lb] \
-			| sh[lb]e \
-			| she[lb] \
-			| shl \
-			| sparc \
-			| sparc64 \
-			| sparc64b \
-			| sparc64v \
-			| sparc86x \
-			| sparclet \
+			| sh | shl \
+			| sh[1234] | sh[24]a | sh[24]ae[lb] | sh[23]e | she[lb] | sh[lb]e \
+			| sh[1234]e[lb] |  sh[12345][lb]e | sh[23]ele | sh64 | sh64le \
+			| sparc | sparc64 | sparc64b | sparc64v | sparc86x | sparclet \
 			| sparclite \
-			| sparcv8 \
-			| sparcv9 \
-			| sparcv9b \
-			| sparcv9v \
+			| sparcv8 | sparcv9 | sparcv9b | sparcv9v | sv1 | sx* \
 			| spu \
-			| sv1 \
-			| sx* \
 			| tahoe \
 			| thumbv7* \
-			| tic30 \
-			| tic4x \
-			| tic54x \
-			| tic55x \
-			| tic6x \
-			| tic80 \
+			| tic30 | tic4x | tic54x | tic55x | tic6x | tic80 \
 			| tron \
 			| ubicom32 \
-			| v70 \
-			| v810 \
-			| v850 \
-			| v850e \
-			| v850e1 \
-			| v850e2 \
-			| v850e2v3 \
-			| v850es \
+			| v70 | v850 | v850e | v850e1 | v850es | v850e2 | v850e2v3 \
 			| vax \
-			| vc4 \
 			| visium \
 			| w65 \
-			| wasm32 \
-			| wasm64 \
+			| wasm32 | wasm64 \
 			| we32k \
-			| x86 \
-			| x86_64 \
-			| xc16x \
-			| xgate \
-			| xps100 \
-			| xstormy16 \
-			| xtensa* \
+			| x86 | x86_64 | xc16x | xgate | xps100 \
+			| xstormy16 | xtensa* \
 			| ymp \
-			| z80 \
-			| z8k)
+			| z8k | z80)
 				;;
 
 			*)
-				echo "Invalid configuration '$1': machine '$cpu-$vendor' not recognized" 1>&2
+				echo Invalid configuration \`"$1"\': machine \`"$cpu-$vendor"\' not recognized 1>&2
 				exit 1
 				;;
 		esac
@@ -1491,12 +1306,11 @@
 
 # Decode manufacturer-specific aliases for certain operating systems.
 
-if test x"$basic_os" != x
+if test x$basic_os != x
 then
 
 # First recognize some ad-hoc cases, or perhaps split kernel-os, or else just
 # set os.
-obj=
 case $basic_os in
 	gnu/linux*)
 		kernel=linux
@@ -1511,6 +1325,7 @@
 		os=`echo "$basic_os" | sed -e 's|nto-qnx|qnx|'`
 		;;
 	*-*)
+		# shellcheck disable=SC2162
 		saved_IFS=$IFS
 		IFS="-" read kernel os <<EOF
 $basic_os
@@ -1526,10 +1341,6 @@
 		kernel=linux
 		os=`echo "$basic_os" | sed -e 's|linux|gnu|'`
 		;;
-	managarm*)
-		kernel=managarm
-		os=`echo "$basic_os" | sed -e 's|managarm|mlibc|'`
-		;;
 	*)
 		kernel=
 		os=$basic_os
@@ -1557,23 +1368,6 @@
 	unixware*)
 		os=sysv4.2uw
 		;;
-	# The marketing names for NeXT's operating systems were
-	# NeXTSTEP, NeXTSTEP 2, OpenSTEP 3, OpenSTEP 4.  'openstep' is
-	# mapped to 'openstep3', but 'openstep1' and 'openstep2' are
-	# mapped to 'nextstep' and 'nextstep2', consistent with the
-	# treatment of SunOS/Solaris.
-	ns | ns1 | nextstep | nextstep1 | openstep1)
-		os=nextstep
-		;;
-	ns2 | nextstep2 | openstep2)
-		os=nextstep2
-		;;
-	ns3 | nextstep3 | openstep | openstep3)
-		os=openstep3
-		;;
-	ns4 | nextstep4 | openstep4)
-		os=openstep4
-		;;
 	# es1800 is here to avoid being matched by es* (a different OS)
 	es1800*)
 		os=ose
@@ -1644,7 +1438,6 @@
 		;;
 	utek*)
 		os=bsd
-		vendor=`echo "$vendor" | sed -e 's|^unknown$|tektronix|'`
 		;;
 	dynix*)
 		os=bsd
@@ -1661,25 +1454,21 @@
 	386bsd)
 		os=bsd
 		;;
-	ctix*)
-		os=sysv
-		vendor=`echo "$vendor" | sed -e 's|^unknown$|convergent|'`
-		;;
-	uts*)
+	ctix* | uts*)
 		os=sysv
 		;;
 	nova*)
-		kernel=rtmk
-		os=nova
+		os=rtmk-nova
+		;;
+	ns2)
+		os=nextstep2
 		;;
 	# Preserve the version number of sinix5.
 	sinix5.*)
 		os=`echo "$os" | sed -e 's|sinix|sysv|'`
-		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
 		;;
 	sinix*)
 		os=sysv4
-		vendor=`echo "$vendor" | sed -e 's|^unknown$|sni|'`
 		;;
 	tpf*)
 		os=tpf
@@ -1717,16 +1506,10 @@
 			os=eabi
 			;;
 		    *)
-			os=
-			obj=elf
+			os=elf
 			;;
 		esac
 		;;
-	aout* | coff* | elf* | pe*)
-		# These are machine code file formats, not OSes
-		obj=$os
-		os=
-		;;
 	*)
 		# No normalization, but not necessarily accepted, that comes below.
 		;;
@@ -1745,15 +1528,12 @@
 # system, and we'll never get to this point.
 
 kernel=
-obj=
 case $cpu-$vendor in
 	score-*)
-		os=
-		obj=elf
+		os=elf
 		;;
 	spu-*)
-		os=
-		obj=elf
+		os=elf
 		;;
 	*-acorn)
 		os=riscix1.2
@@ -1763,35 +1543,28 @@
 		os=gnu
 		;;
 	arm*-semi)
-		os=
-		obj=aout
+		os=aout
 		;;
 	c4x-* | tic4x-*)
-		os=
-		obj=coff
+		os=coff
 		;;
 	c8051-*)
-		os=
-		obj=elf
+		os=elf
 		;;
 	clipper-intergraph)
 		os=clix
 		;;
 	hexagon-*)
-		os=
-		obj=elf
+		os=elf
 		;;
 	tic54x-*)
-		os=
-		obj=coff
+		os=coff
 		;;
 	tic55x-*)
-		os=
-		obj=coff
+		os=coff
 		;;
 	tic6x-*)
-		os=
-		obj=coff
+		os=coff
 		;;
 	# This must come before the *-dec entry.
 	pdp10-*)
@@ -1813,43 +1586,28 @@
 		os=sunos3
 		;;
 	m68*-cisco)
-		os=
-		obj=aout
+		os=aout
 		;;
 	mep-*)
-		os=
-		obj=elf
-		;;
-	# The -sgi and -siemens entries must be before the mips- entry
-	# or we get the wrong os.
-	*-sgi)
-		os=irix
-		;;
-	*-siemens)
-		os=sysv4
+		os=elf
 		;;
 	mips*-cisco)
-		os=
-		obj=elf
+		os=elf
 		;;
-	mips*-*|nanomips*-*)
-		os=
-		obj=elf
+	mips*-*)
+		os=elf
 		;;
 	or32-*)
-		os=
-		obj=coff
+		os=coff
 		;;
-	# This must be before the sparc-* entry or we get the wrong os.
-	*-tti)
+	*-tti)	# must be before sparc entry or we get the wrong os.
 		os=sysv3
 		;;
 	sparc-* | *-sun)
 		os=sunos4.1.1
 		;;
 	pru-*)
-		os=
-		obj=elf
+		os=elf
 		;;
 	*-be)
 		os=beos
@@ -1873,7 +1631,7 @@
 		os=hpux
 		;;
 	*-hitachi)
-		os=hiuxwe2
+		os=hiux
 		;;
 	i860-* | *-att | *-ncr | *-altos | *-motorola | *-convergent)
 		os=sysv
@@ -1917,6 +1675,12 @@
 	*-encore)
 		os=bsd
 		;;
+	*-sgi)
+		os=irix
+		;;
+	*-siemens)
+		os=sysv4
+		;;
 	*-masscomp)
 		os=rtu
 		;;
@@ -1924,12 +1688,10 @@
 		os=uxpv
 		;;
 	*-rom68k)
-		os=
-		obj=coff
+		os=coff
 		;;
 	*-*bug)
-		os=
-		obj=coff
+		os=coff
 		;;
 	*-apple)
 		os=macos
@@ -1947,11 +1709,10 @@
 
 fi
 
-# Now, validate our (potentially fixed-up) individual pieces (OS, OBJ).
-
+# Now, validate our (potentially fixed-up) OS.
 case $os in
 	# Sometimes we do "kernel-libc", so those need to count as OSes.
-	llvm* | musl* | newlib* | relibc* | uclibc*)
+	musl* | newlib* | relibc* | uclibc*)
 		;;
 	# Likewise for "kernel-abi"
 	eabi* | gnueabi*)
@@ -1959,308 +1720,83 @@
 	# VxWorks passes extra cpu info in the 4th filed.
 	simlinux | simwindows | spe)
 		;;
-	# See `case $cpu-$os` validation below
-	ghcjs)
-		;;
 	# Now accept the basic system types.
+	# The portable systems comes first.
 	# Each alternative MUST end in a * to match a version number.
-	  abug \
-	| aix* \
-	| amdhsa* \
-	| amigados* \
-	| amigaos* \
-	| android* \
-	| aof* \
-	| aos* \
-	| aros* \
-	| atheos* \
-	| auroraux* \
-	| aux* \
-	| beos* \
-	| bitrig* \
-	| bme* \
-	| bosx* \
-	| bsd* \
-	| cegcc* \
-	| chorusos* \
-	| chorusrdb* \
-	| clix* \
-	| cloudabi* \
-	| cnk* \
-	| conix* \
-	| cos* \
-	| cxux* \
-	| cygwin* \
-	| darwin* \
-	| dgux* \
-	| dicos* \
-	| dnix* \
-	| domain* \
-	| dragonfly* \
-	| drops* \
-	| ebmon* \
-	| ecoff* \
-	| ekkobsd* \
-	| emscripten* \
-	| emx* \
-	| es* \
-	| fiwix* \
-	| freebsd* \
-	| fuchsia* \
-	| genix* \
-	| genode* \
-	| glidix* \
-	| gnu* \
-	| go32* \
-	| haiku* \
-	| hcos* \
-	| hiux* \
-	| hms* \
-	| hpux* \
-	| ieee* \
-	| interix* \
-	| ios* \
-	| iris* \
-	| irix* \
-	| ironclad* \
-	| isc* \
-	| its* \
-	| l4re* \
-	| libertybsd* \
-	| lites* \
-	| lnews* \
-	| luna* \
-	| lynxos* \
-	| mach* \
-	| macos* \
-	| magic* \
-	| mbr* \
-	| midipix* \
-	| midnightbsd* \
-	| mingw32* \
-	| mingw64* \
-	| minix* \
-	| mint* \
-	| mirbsd* \
-	| mks* \
-	| mlibc* \
-	| mmixware* \
-	| mon960* \
-	| morphos* \
-	| moss* \
-	| moxiebox* \
-	| mpeix* \
-	| mpw* \
-	| msdos* \
-	| msys* \
-	| mvs* \
-	| nacl* \
-	| netbsd* \
-	| netware* \
-	| newsos* \
-	| nextstep* \
-	| nindy* \
-	| nonstopux* \
-	| nova* \
-	| nsk* \
-	| nucleus* \
-	| nx6 \
-	| nx7 \
-	| oabi* \
-	| ohos* \
-	| onefs* \
-	| openbsd* \
-	| openedition* \
-	| openstep* \
-	| os108* \
-	| os2* \
-	| os400* \
-	| os68k* \
-	| os9* \
-	| ose* \
-	| osf* \
-	| oskit* \
-	| osx* \
-	| palmos* \
-	| phoenix* \
-	| plan9* \
-	| powermax* \
-	| powerunix* \
-	| proelf* \
-	| psos* \
-	| psp* \
-	| ptx* \
-	| pw32* \
-	| qnx* \
-	| rdos* \
-	| redox* \
-	| rhapsody* \
-	| riscix* \
-	| riscos* \
-	| rtems* \
-	| rtmk* \
-	| rtu* \
-	| scout* \
-	| secbsd* \
-	| sei* \
-	| serenity* \
-	| sim* \
-	| skyos* \
-	| solaris* \
-	| solidbsd* \
-	| sortix* \
-	| storm-chaos* \
-	| sunos \
-	| sunos[34]* \
-	| superux* \
-	| syllable* \
-	| sym* \
-	| sysv* \
-	| tenex* \
-	| tirtos* \
-	| toppers* \
-	| tops10* \
-	| tops20* \
-	| tpf* \
-	| tvos* \
-	| twizzler* \
-	| uclinux* \
-	| udi* \
-	| udk* \
-	| ultrix* \
-	| unicos* \
-	| uniplus* \
-	| unleashed* \
-	| unos* \
-	| uwin* \
-	| uxpv* \
-	| v88r* \
-	|*vms* \
-	| vos* \
-	| vsta* \
-	| vxsim* \
-	| vxworks* \
-	| wasi* \
-	| watchos* \
-	| wince* \
-	| windiss* \
-	| windows* \
-	| winnt* \
-	| xenix* \
-	| xray* \
-	| zephyr* \
-	| zvmoe* )
+	gnu* | android* | bsd* | mach* | minix* | genix* | ultrix* | irix* \
+	     | *vms* | esix* | aix* | cnk* | sunos | sunos[34]* \
+	     | hpux* | unos* | osf* | luna* | dgux* | auroraux* | solaris* \
+	     | sym* |  plan9* | psp* | sim* | xray* | os68k* | v88r* \
+	     | hiux* | abug | nacl* | netware* | windows* \
+	     | os9* | macos* | osx* | ios* \
+	     | mpw* | magic* | mmixware* | mon960* | lnews* \
+	     | amigaos* | amigados* | msdos* | newsos* | unicos* | aof* \
+	     | aos* | aros* | cloudabi* | sortix* | twizzler* \
+	     | nindy* | vxsim* | vxworks* | ebmon* | hms* | mvs* \
+	     | clix* | riscos* | uniplus* | iris* | isc* | rtu* | xenix* \
+	     | mirbsd* | netbsd* | dicos* | openedition* | ose* \
+	     | bitrig* | openbsd* | secbsd* | solidbsd* | libertybsd* | os108* \
+	     | ekkobsd* | freebsd* | riscix* | lynxos* | os400* \
+	     | bosx* | nextstep* | cxux* | aout* | elf* | oabi* \
+	     | ptx* | coff* | ecoff* | winnt* | domain* | vsta* \
+	     | udi* | lites* | ieee* | go32* | aux* | hcos* \
+	     | chorusrdb* | cegcc* | glidix* | serenity* \
+	     | cygwin* | msys* | pe* | moss* | proelf* | rtems* \
+	     | midipix* | mingw32* | mingw64* | mint* \
+	     | uxpv* | beos* | mpeix* | udk* | moxiebox* \
+	     | interix* | uwin* | mks* | rhapsody* | darwin* \
+	     | openstep* | oskit* | conix* | pw32* | nonstopux* \
+	     | storm-chaos* | tops10* | tenex* | tops20* | its* \
+	     | os2* | vos* | palmos* | uclinux* | nucleus* | morphos* \
+	     | scout* | superux* | sysv* | rtmk* | tpf* | windiss* \
+	     | powermax* | dnix* | nx6 | nx7 | sei* | dragonfly* \
+	     | skyos* | haiku* | rdos* | toppers* | drops* | es* \
+	     | onefs* | tirtos* | phoenix* | fuchsia* | redox* | bme* \
+	     | midnightbsd* | amdhsa* | unleashed* | emscripten* | wasi* \
+	     | nsk* | powerunix* | genode* | zvmoe* | qnx* | emx* | zephyr* \
+	     | fiwix* )
 		;;
 	# This one is extra strict with allowed versions
 	sco3.2v2 | sco3.2v[4-9]* | sco5v6*)
 		# Don't forget version if it is 3.2v4 or newer.
 		;;
-	# This refers to builds using the UEFI calling convention
-	# (which depends on the architecture) and PE file format.
-	# Note that this is both a different calling convention and
-	# different file format than that of GNU-EFI
-	# (x86_64-w64-mingw32).
-	uefi)
-		;;
 	none)
 		;;
-	kernel* | msvc* )
-		# Restricted further below
-		;;
-	'')
-		if test x"$obj" = x
-		then
-			echo "Invalid configuration '$1': Blank OS only allowed with explicit machine code file format" 1>&2
-		fi
-		;;
 	*)
-		echo "Invalid configuration '$1': OS '$os' not recognized" 1>&2
-		exit 1
-		;;
-esac
-
-case $obj in
-	aout* | coff* | elf* | pe*)
-		;;
-	'')
-		# empty is fine
-		;;
-	*)
-		echo "Invalid configuration '$1': Machine code format '$obj' not recognized" 1>&2
-		exit 1
-		;;
-esac
-
-# Here we handle the constraint that a (synthetic) cpu and os are
-# valid only in combination with each other and nowhere else.
-case $cpu-$os in
-	# The "javascript-unknown-ghcjs" triple is used by GHC; we
-	# accept it here in order to tolerate that, but reject any
-	# variations.
-	javascript-ghcjs)
-		;;
-	javascript-* | *-ghcjs)
-		echo "Invalid configuration '$1': cpu '$cpu' is not valid with os '$os$obj'" 1>&2
+		echo Invalid configuration \`"$1"\': OS \`"$os"\' not recognized 1>&2
 		exit 1
 		;;
 esac
 
 # As a final step for OS-related things, validate the OS-kernel combination
 # (given a valid OS), if there is a kernel.
-case $kernel-$os-$obj in
-	linux-gnu*- | linux-android*- | linux-dietlibc*- | linux-llvm*- \
-		    | linux-mlibc*- | linux-musl*- | linux-newlib*- \
-		    | linux-relibc*- | linux-uclibc*- | linux-ohos*- )
-		;;
-	uclinux-uclibc*- | uclinux-gnu*- )
-		;;
-	managarm-mlibc*- | managarm-kernel*- )
+case $kernel-$os in
+	linux-gnu* | linux-dietlibc* | linux-android* | linux-newlib* \
+		   | linux-musl* | linux-relibc* | linux-uclibc* )
 		;;
-	windows*-msvc*-)
+	uclinux-uclibc* )
 		;;
-	-dietlibc*- | -llvm*- | -mlibc*- | -musl*- | -newlib*- | -relibc*- \
-		    | -uclibc*- )
+	-dietlibc* | -newlib* | -musl* | -relibc* | -uclibc* )
 		# These are just libc implementations, not actual OSes, and thus
 		# require a kernel.
-		echo "Invalid configuration '$1': libc '$os' needs explicit kernel." 1>&2
+		echo "Invalid configuration \`$1': libc \`$os' needs explicit kernel." 1>&2
 		exit 1
 		;;
-	-kernel*- )
-		echo "Invalid configuration '$1': '$os' needs explicit kernel." 1>&2
-		exit 1
-		;;
-	*-kernel*- )
-		echo "Invalid configuration '$1': '$kernel' does not support '$os'." 1>&2
-		exit 1
-		;;
-	*-msvc*- )
-		echo "Invalid configuration '$1': '$os' needs 'windows'." 1>&2
-		exit 1
-		;;
-	kfreebsd*-gnu*- | knetbsd*-gnu*- | netbsd*-gnu*- | kopensolaris*-gnu*-)
-		;;
-	vxworks-simlinux- | vxworks-simwindows- | vxworks-spe-)
+	kfreebsd*-gnu* | kopensolaris*-gnu*)
 		;;
-	nto-qnx*-)
+	vxworks-simlinux | vxworks-simwindows | vxworks-spe)
 		;;
-	os2-emx-)
-		;;
-	rtmk-nova-)
+	nto-qnx*)
 		;;
-	*-eabi*- | *-gnueabi*-)
+	os2-emx)
 		;;
-	none--*)
-		# None (no kernel, i.e. freestanding / bare metal),
-		# can be paired with an machine code file format
+	*-eabi* | *-gnueabi*)
 		;;
-	-*-)
+	-*)
 		# Blank kernel with real OS is always fine.
 		;;
-	--*)
-		# Blank kernel and OS with real machine code file format is always fine.
-		;;
-	*-*-*)
-		echo "Invalid configuration '$1': Kernel '$kernel' not known to work with OS '$os'." 1>&2
+	*-*)
+		echo "Invalid configuration \`$1': Kernel \`$kernel' not known to work with OS \`$os'." 1>&2
 		exit 1
 		;;
 esac
@@ -2273,7 +1809,7 @@
 			*-riscix*)
 				vendor=acorn
 				;;
-			*-sunos* | *-solaris*)
+			*-sunos*)
 				vendor=sun
 				;;
 			*-cnk* | *-aix*)
@@ -2343,7 +1879,7 @@
 		;;
 esac
 
-echo "$cpu-$vendor${kernel:+-$kernel}${os:+-$os}${obj:+-$obj}"
+echo "$cpu-$vendor-${kernel:+$kernel-}$os"
 exit
 
 # Local variables:
diff -Nur xz-5.8.1/build-aux/depcomp xz-5.8.1-irix/build-aux/depcomp
--- xz-5.8.1/build-aux/depcomp	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/build-aux/depcomp	2025-04-25 14:59:03.247579009 +0000
@@ -1,9 +1,9 @@
 #! /bin/sh
 # depcomp - compile a program generating dependencies as side-effects
 
-scriptversion=2024-06-19.01; # UTC
+scriptversion=2018-03-07.03; # UTC
 
-# Copyright (C) 1999-2024 Free Software Foundation, Inc.
+# Copyright (C) 1999-2021 Free Software Foundation, Inc.
 
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -47,13 +47,11 @@
   libtool     Whether libtool is used (yes/no).
 
 Report bugs to <bug-automake@gnu.org>.
-GNU Automake home page: <https://www.gnu.org/software/automake/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>.
 EOF
     exit $?
     ;;
   -v | --v*)
-    echo "depcomp (GNU Automake) $scriptversion"
+    echo "depcomp $scriptversion"
     exit $?
     ;;
 esac
@@ -115,6 +113,7 @@
 # These definitions help.
 upper=ABCDEFGHIJKLMNOPQRSTUVWXYZ
 lower=abcdefghijklmnopqrstuvwxyz
+digits=0123456789
 alpha=${upper}${lower}
 
 if test -z "$depmode" || test -z "$source" || test -z "$object"; then
@@ -129,7 +128,7 @@
 
 rm -f "$tmpdepfile"
 
-# Avoid interference from the environment.
+# Avoid interferences from the environment.
 gccflag= dashmflag=
 
 # Some modes work just like other modes, but use different flags.  We
@@ -199,8 +198,8 @@
   ;;
 
 gcc)
-## Note that this doesn't just cater to obsolete pre-3.x GCC compilers.
-## but also to in-use compilers like IBM xlc/xlC and the HP C compiler.
+## Note that this doesn't just cater to obsosete pre-3.x GCC compilers.
+## but also to in-use compilers like IMB xlc/xlC and the HP C compiler.
 ## (see the conditional assignment to $gccflag above).
 ## There are various ways to get dependency output from gcc.  Here's
 ## why we pick this rather obscure method:
diff -Nur xz-5.8.1/build-aux/install-sh xz-5.8.1-irix/build-aux/install-sh
--- xz-5.8.1/build-aux/install-sh	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/build-aux/install-sh	2025-04-25 14:59:03.028574559 +0000
@@ -1,7 +1,7 @@
 #!/bin/sh
 # install - install a program, script, or datafile
 
-scriptversion=2024-06-19.01; # UTC
+scriptversion=2020-11-14.01; # UTC
 
 # This originates from X11R5 (mit/util/scripts/install.sh), which was
 # later released in X11R6 (xc/config/util/install.sh) with the
@@ -124,9 +124,9 @@
 
 If -S is not specified, no backups are attempted.
 
-Report bugs to <bug-automake@gnu.org>.
-GNU Automake home page: <https://www.gnu.org/software/automake/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>."
+Email bug reports to bug-automake@gnu.org.
+Automake home page: https://www.gnu.org/software/automake/
+"
 
 while test $# -ne 0; do
   case $1 in
@@ -170,7 +170,7 @@
 
     -T) is_target_a_directory=never;;
 
-    --version) echo "$0 (GNU Automake) $scriptversion"; exit $?;;
+    --version) echo "$0 $scriptversion"; exit $?;;
 
     --) shift
         break;;
@@ -345,7 +345,7 @@
 	' 0
 
 	# Because "mkdir -p" follows existing symlinks and we likely work
-	# directly in world-writable /tmp, make sure that the '$tmpdir'
+	# directly in world-writeable /tmp, make sure that the '$tmpdir'
 	# directory is successfully created first before we actually test
 	# 'mkdir -p'.
 	if (umask $mkdir_umask &&
@@ -353,7 +353,7 @@
 	    exec $mkdirprog $mkdir_mode -p -- "$tmpdir/a/b") >/dev/null 2>&1
 	then
 	  if test -z "$dir_arg" || {
-	       # Check for POSIX incompatibility with -m.
+	       # Check for POSIX incompatibilities with -m.
 	       # HP-UX 11.23 and IRIX 6.5 mkdir -m -p sets group- or
 	       # other-writable bit of parent directory when it shouldn't.
 	       # FreeBSD 6.1 mkdir -m -p sets mode of existing directory.
diff -Nur xz-5.8.1/build-aux/ltmain.sh xz-5.8.1-irix/build-aux/ltmain.sh
--- xz-5.8.1/build-aux/ltmain.sh	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/build-aux/ltmain.sh	2025-04-25 14:59:01.180537012 +0000
@@ -2,11 +2,11 @@
 ## DO NOT EDIT - This file generated from ./build-aux/ltmain.in
 ##               by inline-source v2019-02-19.15
 
-# libtool (GNU libtool) 2.5.4.1-baa1-dirty
+# libtool (GNU libtool) 2.4.7
 # Provide generalized library-building support services.
 # Written by Gordon Matzigkeit <gord@gnu.ai.mit.edu>, 1996
 
-# Copyright (C) 1996-2019, 2021-2024 Free Software Foundation, Inc.
+# Copyright (C) 1996-2019, 2021-2022 Free Software Foundation, Inc.
 # This is free software; see the source for copying conditions.  There is NO
 # warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 
@@ -31,8 +31,8 @@
 
 PROGRAM=libtool
 PACKAGE=libtool
-VERSION=2.5.4.1-baa1-dirty
-package_revision=2.5.4.1
+VERSION="2.4.7 Debian-2.4.7-7build1"
+package_revision=2.4.7
 
 
 ## ------ ##
@@ -72,11 +72,11 @@
 # This is free software.  There is NO warranty; not even for
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 #
-# Copyright (C) 2004-2019, 2021, 2023-2024 Bootstrap Authors
+# Copyright (C) 2004-2019, 2021 Bootstrap Authors
 #
 # This file is dual licensed under the terms of the MIT license
-# <https://opensource.org/licenses/MIT>, and GPL version 2 or later
-# <https://www.gnu.org/licenses/gpl-2.0.html>.  You must apply one of
+# <https://opensource.org/license/MIT>, and GPL version 2 or later
+# <http://www.gnu.org/licenses/gpl-2.0.html>.  You must apply one of
 # these licenses when using or redistributing this software or any of
 # the files within it.  See the URLs above, or the file `LICENSE`
 # included in the Bootstrap distribution for the full license texts.
@@ -143,7 +143,7 @@
 '
 IFS="$sp	$nl"
 
-# There are apparently some systems that use ';' as a PATH separator!
+# There are apparently some retarded systems that use ';' as a PATH separator!
 if test "${PATH_SEPARATOR+set}" != set; then
   PATH_SEPARATOR=:
   (PATH='/bin;/bin'; FPATH=$PATH; sh -c :) >/dev/null 2>&1 && {
@@ -430,7 +430,7 @@
 # putting '$debug_cmd' at the start of all your functions, you can get
 # bash to show function call trace with:
 #
-#    debug_cmd='eval echo "${FUNCNAME[0]} $*" >&2' bash your-script-name
+#    debug_cmd='echo "${FUNCNAME[0]} $*" >&2' bash your-script-name
 debug_cmd=${debug_cmd-":"}
 exit_cmd=:
 
@@ -572,27 +572,15 @@
 # ---------------------
 # Append VALUE onto the existing contents of VAR.
 
-  # We should try to minimise forks, especially on Windows where they are
-  # unreasonably slow, so skip the feature probes when bash or zsh are
-  # being used:
-  if test set = "${BASH_VERSION+set}${ZSH_VERSION+set}"; then
-    : ${_G_HAVE_ARITH_OP="yes"}
-    : ${_G_HAVE_XSI_OPS="yes"}
-    # The += operator was introduced in bash 3.1
-    case $BASH_VERSION in
-      [12].* | 3.0 | 3.0*) ;;
-      *)
-        : ${_G_HAVE_PLUSEQ_OP="yes"}
-        ;;
-    esac
-  fi
-
   # _G_HAVE_PLUSEQ_OP
   # Can be empty, in which case the shell is probed, "yes" if += is
-  # usable or anything else if it does not work.
-  test -z "$_G_HAVE_PLUSEQ_OP" \
-    && (eval 'x=a; x+=" b"; test "a b" = "$x"') 2>/dev/null \
-    && _G_HAVE_PLUSEQ_OP=yes
+  # useable or anything else if it does not work.
+  if test -z "$_G_HAVE_PLUSEQ_OP" &&  \
+      __PLUSEQ_TEST="a" &&  \
+      __PLUSEQ_TEST+=" b" 2>/dev/null &&  \
+      test "a b" = "$__PLUSEQ_TEST"; then
+    _G_HAVE_PLUSEQ_OP=yes
+  fi
 
 if test yes = "$_G_HAVE_PLUSEQ_OP"
 then
@@ -739,7 +727,7 @@
 #             to NONDIR_REPLACEMENT.
 #             value returned in "$func_dirname_result"
 #   basename: Compute filename of FILE.
-#             value returned in "$func_basename_result"
+#             value retuned in "$func_basename_result"
 # For efficiency, we do not delegate to the functions above but instead
 # duplicate the functionality here.
 eval 'func_dirname_and_basename ()
@@ -897,7 +885,7 @@
       # While some portion of DIR does not yet exist...
       while test ! -d "$_G_directory_path"; do
         # ...make a list in topmost first order.  Use a colon delimited
-	# list in case some portion of path contains whitespace.
+	# list incase some portion of path contains whitespace.
         _G_dir_list=$_G_directory_path:$_G_dir_list
 
         # If the last portion added has no slash in it, the list is done
@@ -1536,11 +1524,11 @@
 # This is free software.  There is NO warranty; not even for
 # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 #
-# Copyright (C) 2010-2019, 2021, 2023-2024 Bootstrap Authors
+# Copyright (C) 2010-2019, 2021 Bootstrap Authors
 #
 # This file is dual licensed under the terms of the MIT license
-# <https://opensource.org/licenses/MIT>, and GPL version 2 or later
-# <https://www.gnu.org/licenses/gpl-2.0.html>.  You must apply one of
+# <https://opensource.org/license/MIT>, and GPL version 2 or later
+# <http://www.gnu.org/licenses/gpl-2.0.html>.  You must apply one of
 # these licenses when using or redistributing this software or any of
 # the files within it.  See the URLs above, or the file `LICENSE`
 # included in the Bootstrap distribution for the full license texts.
@@ -1706,6 +1694,8 @@
 {
     $debug_cmd
 
+    _G_rc_run_hooks=false
+
     case " $hookable_fns " in
       *" $1 "*) ;;
       *) func_fatal_error "'$1' does not support hook functions." ;;
@@ -2215,30 +2205,7 @@
 # End:
 
 # Set a version string.
-scriptversion='(GNU libtool) 2.5.4.1-baa1-dirty'
-
-# func_version
-# ------------
-# Echo version message to standard output and exit.
-func_version ()
-{
-    $debug_cmd
-
-	year=`date +%Y`
-
-	cat <<EOF
-$progname $scriptversion
-Copyright (C) $year Free Software Foundation, Inc.
-License GPLv2+: GNU GPL version 2 or later <https://gnu.org/licenses/gpl.html>
-This is free software: you are free to change and redistribute it.
-There is NO WARRANTY, to the extent permitted by law.
-
-Originally written by Gordon Matzigkeit, 1996
-(See AUTHORS for complete contributor listing)
-EOF
-
-    exit $?
-}
+scriptversion='(GNU libtool) 2.4.7'
 
 
 # func_echo ARG...
@@ -2261,6 +2228,18 @@
 }
 
 
+# func_warning ARG...
+# -------------------
+# Libtool warnings are not categorized, so override funclib.sh
+# func_warning with this simpler definition.
+func_warning ()
+{
+    $debug_cmd
+
+    $warning_func ${1+"$@"}
+}
+
+
 ## ---------------- ##
 ## Options parsing. ##
 ## ---------------- ##
@@ -2272,23 +2251,19 @@
 
 # Short help message in response to '-h'.
 usage_message="Options:
-       --config                 show all configuration variables
-       --debug                  enable verbose shell tracing
-   -n, --dry-run                display commands without modifying any files
-       --features               display basic configuration information
-       --finish                 use operation '--mode=finish'
-       --mode=MODE              use operation mode MODE
-       --no-finish              don't update shared library cache
-       --no-quiet, --no-silent  print default informational messages
-       --no-warnings            equivalent to '-Wnone'
-       --preserve-dup-deps      don't remove duplicate dependency libraries
-       --quiet, --silent        don't print informational messages
-       --reorder-cache=DIRS     reorder shared library cache for preferred DIRS
-       --tag=TAG                use configuration variables from tag TAG
-   -v, --verbose                print more informational messages than default
-       --version                print version information
-   -W, --warnings=CATEGORY      report the warnings falling in CATEGORY [all]
-   -h, --help, --help-all       print short, long, or detailed help message
+       --config             show all configuration variables
+       --debug              enable verbose shell tracing
+   -n, --dry-run            display commands without modifying any files
+       --features           display basic configuration information and exit
+       --mode=MODE          use operation mode MODE
+       --no-warnings        equivalent to '-Wnone'
+       --preserve-dup-deps  don't remove duplicate dependency libraries
+       --quiet, --silent    don't print informational messages
+       --tag=TAG            use configuration variables from tag TAG
+   -v, --verbose            print more informational messages than default
+       --version            print version information
+   -W, --warnings=CATEGORY  report the warnings falling in CATEGORY [all]
+   -h, --help, --help-all   print short, long, or detailed help message
 "
 
 # Additional text appended to 'usage_message' in response to '--help'.
@@ -2321,13 +2296,13 @@
        compiler:       $LTCC
        compiler flags: $LTCFLAGS
        linker:         $LD (gnu? $with_gnu_ld)
-       version:        $progname $scriptversion
+       version:        $progname $scriptversion Debian-2.4.7-7build1
        automake:       `($AUTOMAKE --version) 2>/dev/null |$SED 1q`
        autoconf:       `($AUTOCONF --version) 2>/dev/null |$SED 1q`
 
 Report bugs to <bug-libtool@gnu.org>.
-GNU libtool home page: <https://www.gnu.org/s/libtool/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>."
+GNU libtool home page: <http://www.gnu.org/s/libtool/>.
+General help using GNU software: <http://www.gnu.org/gethelp/>."
     exit 0
 }
 
@@ -2517,17 +2492,16 @@
     opt_dry_run=false
     opt_help=false
     opt_mode=
-    opt_reorder_cache=false
     opt_preserve_dup_deps=false
     opt_quiet=false
-    opt_finishing=true
-    opt_warning=
 
     nonopt=
     preserve_args=
 
     _G_rc_lt_options_prep=:
 
+    _G_rc_lt_options_prep=:
+
     # Shorthand for --mode=foo, only valid as the first argument
     case $1 in
     clean|clea|cle|cl)
@@ -2611,18 +2585,14 @@
                           clean|compile|execute|finish|install|link|relink|uninstall) ;;
 
                           # Catch anything else as an error
-                          *) func_error "invalid argument '$1' for $_G_opt"
+                          *) func_error "invalid argument for $_G_opt"
                              exit_cmd=exit
+                             break
                              ;;
                         esac
                         shift
                         ;;
 
-        --no-finish)
-                        opt_finishing=false
-                        func_append preserve_args " $_G_opt"
-                        ;;
-
         --no-silent|--no-quiet)
                         opt_quiet=false
                         func_append preserve_args " $_G_opt"
@@ -2638,24 +2608,6 @@
                         func_append preserve_args " $_G_opt"
                         ;;
 
-        --reorder-cache)
-                        opt_reorder_cache=true
-                        shared_lib_dirs=$1
-                        if test -n "$shared_lib_dirs"; then
-                          case $1 in
-                            # Must begin with /:
-                            /*) ;;
-
-                            # Catch anything else as an error (relative paths)
-                            *) func_error "invalid argument '$1' for $_G_opt"
-                               func_error "absolute paths are required for $_G_opt"
-                               exit_cmd=exit
-                               ;;
-                          esac
-                        fi
-                        shift
-                        ;;
-
         --silent|--quiet)
                         opt_quiet=:
                         opt_verbose=false
@@ -2692,18 +2644,6 @@
 func_add_hook func_parse_options libtool_parse_options
 
 
-# func_warning ARG...
-# -------------------
-# Libtool warnings are not categorized, so override funclib.sh
-# func_warning with this simpler definition.
-func_warning ()
-{
-    if $opt_warning; then
-        $debug_cmd
-        $warning_func ${1+"$@"}
-    fi
-}
-
 
 # libtool_validate_options [ARG]...
 # ---------------------------------
@@ -2720,10 +2660,10 @@
     # preserve --debug
     test : = "$debug_cmd" || func_append preserve_args " --debug"
 
-    case $host_os in
+    case $host in
       # Solaris2 added to fix http://debbugs.gnu.org/cgi/bugreport.cgi?bug=16452
       # see also: http://gcc.gnu.org/bugzilla/show_bug.cgi?id=59788
-      cygwin* | mingw* | windows* | pw32* | cegcc* | solaris2* | os2*)
+      *cygwin* | *mingw* | *pw32* | *cegcc* | *solaris2* | *os2*)
         # don't eliminate duplications in $postdeps and $predeps
         opt_duplicate_compiler_generated_deps=:
         ;;
@@ -3055,7 +2995,7 @@
 
 # func_convert_core_file_wine_to_w32 ARG
 # Helper function used by file name conversion functions when $build is *nix,
-# and $host is mingw, windows, cygwin, or some other w32 environment. Relies on a
+# and $host is mingw, cygwin, or some other w32 environment. Relies on a
 # correctly configured wine environment available, with the winepath program
 # in $build's $PATH.
 #
@@ -3087,10 +3027,9 @@
 
 # func_convert_core_path_wine_to_w32 ARG
 # Helper function used by path conversion functions when $build is *nix, and
-# $host is mingw, windows, cygwin, or some other w32 environment. Relies on a
-# correctly configured wine environment available, with the winepath program
-# in $build's $PATH. Assumes ARG has no leading or trailing path separator
-# characters.
+# $host is mingw, cygwin, or some other w32 environment. Relies on a correctly
+# configured wine environment available, with the winepath program in $build's
+# $PATH. Assumes ARG has no leading or trailing path separator characters.
 #
 # ARG is path to be converted from $build format to win32.
 # Result is available in $func_convert_core_path_wine_to_w32_result.
@@ -3233,15 +3172,6 @@
 # end func_convert_path_front_back_pathsep
 
 
-# func_convert_delimited_path PATH ORIG_DELIMITER NEW_DELIMITER
-# Replaces a delimiter for a given path.
-func_convert_delimited_path ()
-{
-	converted_path=`$ECHO "$1" | $SED "s#$2#$3#g"`
-}
-# end func_convert_delimited_path
-
-
 ##################################################
 # $build to $host FILE NAME CONVERSION FUNCTIONS #
 ##################################################
@@ -3576,65 +3506,6 @@
 }
 
 
-# func_reorder_shared_lib_cache DIRS
-# Reorder the shared library cache by unconfiguring previous shared library cache
-# and configuring preferred search directories before previous search directories.
-# Previous shared library cache: /usr/lib /usr/local/lib
-# Preferred search directories: /tmp/testing
-# Reordered shared library cache: /tmp/testing /usr/lib /usr/local/lib
-func_reorder_shared_lib_cache ()
-{
-	$debug_cmd
-
-	case $host_os in
-	  openbsd*)
-	    get_search_directories=`PATH="$PATH:/sbin" ldconfig -r | $GREP "search directories" | $SED "s#.*search directories:\ ##g"`
-	    func_convert_delimited_path "$get_search_directories" ':' '\ '
-	    save_search_directories=$converted_path
-	    func_convert_delimited_path "$1" ':' '\ '
-
-	    # Ensure directories exist
-	    for dir in $converted_path; do
-	      # Ensure each directory is an absolute path
-	      case $dir in
-	        /*) ;;
-	        *) func_error "Directory '$dir' is not an absolute path"
-	           exit $EXIT_FAILURE ;;
-	      esac
-	      # Ensure no trailing slashes
-	      func_stripname '' '/' "$dir"
-	      dir=$func_stripname_result
-	      if test -d "$dir"; then
-	        if test -n "$preferred_search_directories"; then
-	          preferred_search_directories="$preferred_search_directories $dir"
-	        else
-	          preferred_search_directories=$dir
-	        fi
-	      else
-	        func_error "Directory '$dir' does not exist"
-	        exit $EXIT_FAILURE
-	      fi
-	    done
-
-	    PATH="$PATH:/sbin" ldconfig -U $save_search_directories
-	    PATH="$PATH:/sbin" ldconfig -m $preferred_search_directories $save_search_directories
-	    get_search_directories=`PATH="$PATH:/sbin" ldconfig -r | $GREP "search directories" | $SED "s#.*search directories:\ ##g"`
-	    func_convert_delimited_path "$get_search_directories" ':' '\ '
-	    reordered_search_directories=$converted_path
-
-	    $ECHO "Original: $save_search_directories"
-	    $ECHO "Reordered: $reordered_search_directories"
-	    exit $EXIT_SUCCESS
-	  ;;
-	  *)
-	    func_error "--reorder-cache is not supported for host_os=$host_os."
-	    exit $EXIT_FAILURE
-	  ;;
-	esac
-}
-# end func_reorder_shared_lib_cache
-
-
 # func_mode_compile arg...
 func_mode_compile ()
 {
@@ -3813,7 +3684,7 @@
 
     # On Cygwin there's no "real" PIC flag so we must build both object types
     case $host_os in
-    cygwin* | mingw* | windows* | pw32* | os2* | cegcc*)
+    cygwin* | mingw* | pw32* | os2* | cegcc*)
       pic_mode=default
       ;;
     esac
@@ -4207,12 +4078,6 @@
 fi
 
 
-# If option '--reorder-cache', reorder the shared library cache and exit.
-if $opt_reorder_cache; then
-    func_reorder_shared_lib_cache $shared_lib_dirs
-fi
-
-
 # func_mode_execute arg...
 func_mode_execute ()
 {
@@ -4397,7 +4262,7 @@
       fi
     fi
 
-    if test -n "$finish_cmds$finish_eval" && test -n "$libdirs" && $opt_finishing; then
+    if test -n "$finish_cmds$finish_eval" && test -n "$libdirs"; then
       for libdir in $libdirs; do
 	if test -n "$finish_cmds"; then
 	  # Do each command in the finish commands.
@@ -4422,12 +4287,6 @@
       for libdir in $libdirs; do
 	$ECHO "   $libdir"
       done
-      if test "false" = "$opt_finishing"; then
-        echo
-        echo "NOTE: finish_cmds were not executed during testing, so you must"
-        echo "manually run ldconfig to add a given test directory, LIBDIR, to"
-        echo "the search path for generated executables."
-      fi
       echo
       echo "If you ever happen to want to link against installed libraries"
       echo "in a given directory, LIBDIR, you must either use libtool, and"
@@ -4664,15 +4523,8 @@
 	func_append dir "$objdir"
 
 	if test -n "$relink_command"; then
-	  # Strip any trailing slash from the destination.
-	  func_stripname '' '/' "$libdir"
-	  destlibdir=$func_stripname_result
-
-	  func_stripname '' '/' "$destdir"
-	  s_destdir=$func_stripname_result
-
 	  # Determine the prefix the user has applied to our future dir.
-	  inst_prefix_dir=`$ECHO "X$s_destdir" | $Xsed -e "s%$destlibdir\$%%"`
+	  inst_prefix_dir=`$ECHO "$destdir" | $SED -e "s%$libdir\$%%"`
 
 	  # Don't allow the user to place us outside of our expected
 	  # location b/c this prevents finding dependent libraries that
@@ -4709,7 +4561,7 @@
 	      'exit $?'
 	  tstripme=$stripme
 	  case $host_os in
-	  cygwin* | mingw* | windows* | pw32* | cegcc*)
+	  cygwin* | mingw* | pw32* | cegcc*)
 	    case $realname in
 	    *.dll.a)
 	      tstripme=
@@ -4822,7 +4674,7 @@
 
 	# Do a test to see if this is really a libtool program.
 	case $host in
-	*cygwin* | *mingw* | *windows*)
+	*cygwin* | *mingw*)
 	    if func_ltwrapper_executable_p "$file"; then
 	      func_ltwrapper_scriptname "$file"
 	      wrapper=$func_ltwrapper_scriptname_result
@@ -5050,7 +4902,7 @@
 	      $RM $export_symbols
 	      eval "$SED -n -e '/^: @PROGRAM@ $/d' -e 's/^.* \(.*\)$/\1/p' "'< "$nlist" > "$export_symbols"'
 	      case $host in
-	      *cygwin* | *mingw* | *windows* | *cegcc* )
+	      *cygwin* | *mingw* | *cegcc* )
                 eval "echo EXPORTS "'> "$output_objdir/$outputname.def"'
                 eval 'cat "$export_symbols" >> "$output_objdir/$outputname.def"'
 	        ;;
@@ -5062,7 +4914,7 @@
 	      eval '$GREP -f "$output_objdir/$outputname.exp" < "$nlist" > "$nlist"T'
 	      eval '$MV "$nlist"T "$nlist"'
 	      case $host in
-	        *cygwin* | *mingw* | *windows* | *cegcc* )
+	        *cygwin* | *mingw* | *cegcc* )
 	          eval "echo EXPORTS "'> "$output_objdir/$outputname.def"'
 	          eval 'cat "$nlist" >> "$output_objdir/$outputname.def"'
 	          ;;
@@ -5076,7 +4928,7 @@
 	  func_basename "$dlprefile"
 	  name=$func_basename_result
           case $host in
-	    *cygwin* | *mingw* | *windows* | *cegcc* )
+	    *cygwin* | *mingw* | *cegcc* )
 	      # if an import library, we need to obtain dlname
 	      if func_win32_import_lib_p "$dlprefile"; then
 	        func_tr_sh "$dlprefile"
@@ -5102,16 +4954,8 @@
 	            eval '$ECHO ": $name " >> "$nlist"'
 	          fi
 	          func_to_tool_file "$dlprefile" func_convert_file_msys_to_w32
-	          case $host in
-	            i[3456]86-*-mingw32*)
-	              eval "$NM \"$func_to_tool_file_result\" 2>/dev/null | $global_symbol_pipe |
-	                $SED -e '/I __imp/d' -e 's/I __nm_/D /;s/_nm__//' >> '$nlist'"
-	            ;;
-	            *)
-	              eval "$NM \"$func_to_tool_file_result\" 2>/dev/null | $global_symbol_pipe |
-	                $SED -e '/I __imp/d' -e 's/I __nm_/D /;s/__nm_//' >> '$nlist'"
-	            ;;
-	          esac
+	          eval "$NM \"$func_to_tool_file_result\" 2>/dev/null | $global_symbol_pipe |
+	            $SED -e '/I __imp/d' -e 's/I __nm_/D /;s/_nm__//' >> '$nlist'"
 	        }
 	      else # not an import lib
 	        $opt_dry_run || {
@@ -5259,7 +5103,7 @@
 	# Transform the symbol file into the correct name.
 	symfileobj=$output_objdir/${my_outputname}S.$objext
 	case $host in
-	*cygwin* | *mingw* | *windows* | *cegcc* )
+	*cygwin* | *mingw* | *cegcc* )
 	  if test -f "$output_objdir/$my_outputname.def"; then
 	    compile_command=`$ECHO "$compile_command" | $SED "s%@SYMFILE@%$output_objdir/$my_outputname.def $symfileobj%"`
 	    finalize_command=`$ECHO "$finalize_command" | $SED "s%@SYMFILE@%$output_objdir/$my_outputname.def $symfileobj%"`
@@ -5335,7 +5179,7 @@
   *ar\ archive*) # could be an import, or static
     # Keep the egrep pattern in sync with the one in _LT_CHECK_MAGIC_METHOD.
     if eval $OBJDUMP -f $1 | $SED -e '10q' 2>/dev/null |
-       $EGREP 'file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64|pe-aarch64)' >/dev/null; then
+       $EGREP 'file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64)' >/dev/null; then
       case $nm_interface in
       "MS dumpbin")
 	if func_cygming_ms_implib_p "$1" ||
@@ -5602,7 +5446,7 @@
 #
 # Emit a libtool wrapper script on stdout.
 # Don't directly open a file because we may want to
-# incorporate the script contents within a cygwin/mingw/windows
+# incorporate the script contents within a cygwin/mingw
 # wrapper executable.  Must ONLY be called from within
 # func_mode_link because it depends on a number of variables
 # set therein.
@@ -5610,7 +5454,7 @@
 # ARG is the value that the WRAPPER_SCRIPT_BELONGS_IN_OBJDIR
 # variable will take.  If 'yes', then the emitted script
 # will assume that the directory where it is stored is
-# the $objdir directory.  This is a cygwin/mingw/windows-specific
+# the $objdir directory.  This is a cygwin/mingw-specific
 # behavior.
 func_emit_wrapper ()
 {
@@ -5735,7 +5579,7 @@
 "
   case $host in
   # Backslashes separate directories on plain windows
-  *-*-mingw* | *-*-windows* | *-*-os2* | *-cegcc*)
+  *-*-mingw | *-*-os2* | *-cegcc*)
     $ECHO "\
       if test -n \"\$lt_option_debug\"; then
         \$ECHO \"$outputname:$output:\$LINENO: newargv[0]: \$progdir\\\\\$program\" 1>&2
@@ -5803,7 +5647,7 @@
     file=\`ls -ld \"\$thisdir/\$file\" | $SED -n 's/.*-> //p'\`
   done
 
-  # Usually 'no', except on cygwin/mingw/windows when embedded into
+  # Usually 'no', except on cygwin/mingw when embedded into
   # the cwrapper.
   WRAPPER_SCRIPT_BELONGS_IN_OBJDIR=$func_emit_wrapper_arg1
   if test \"\$WRAPPER_SCRIPT_BELONGS_IN_OBJDIR\" = \"yes\"; then
@@ -5935,7 +5779,7 @@
 #endif
 #include <stdio.h>
 #include <stdlib.h>
-#if defined _WIN32 && !defined __GNUC__
+#ifdef _MSC_VER
 # include <direct.h>
 # include <process.h>
 # include <io.h>
@@ -5960,7 +5804,7 @@
 /* declarations of non-ANSI functions */
 #if defined __MINGW32__
 # ifdef __STRICT_ANSI__
-_CRTIMP int __cdecl _putenv (const char *);
+int _putenv (const char *);
 # endif
 #elif defined __CYGWIN__
 # ifdef __STRICT_ANSI__
@@ -6158,7 +6002,7 @@
 	{
 EOF
 	    case $host in
-	      *mingw* | *windows* | *cygwin* )
+	      *mingw* | *cygwin* )
 		# make stdout use "unix" line endings
 		echo "          setmode(1,_O_BINARY);"
 		;;
@@ -6177,7 +6021,7 @@
         {
           /* however, if there is an option in the LTWRAPPER_OPTION_PREFIX
              namespace, but it is not one of the ones we know about and
-             have already dealt with, above (including dump-script), then
+             have already dealt with, above (inluding dump-script), then
              report an error. Otherwise, targets might begin to believe
              they are allowed to use options in the LTWRAPPER_OPTION_PREFIX
              namespace. The first time any user complains about this, we'll
@@ -6261,7 +6105,7 @@
 EOF
 
 	    case $host_os in
-	      mingw* | windows*)
+	      mingw*)
 	    cat <<"EOF"
   {
     char* p;
@@ -6303,7 +6147,7 @@
 EOF
 
 	    case $host_os in
-	      mingw* | windows*)
+	      mingw*)
 		cat <<"EOF"
   /* execv doesn't actually work on mingw as expected on unix */
   newargz = prepare_spawn (newargz);
@@ -6722,7 +6566,7 @@
 
 EOF
 	    case $host_os in
-	      mingw* | windows*)
+	      mingw*)
 		cat <<"EOF"
 
 /* Prepares an argument vector before calling spawn().
@@ -6897,7 +6741,7 @@
     $debug_cmd
 
     case $host in
-    *-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-os2* | *-cegcc*)
+    *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)
       # It is impossible to link a dll without this setting, and
       # we shouldn't force the makefile maintainer to figure out
       # what system we are compiling for in order to pass an extra
@@ -6921,7 +6765,6 @@
     finalize_command=$nonopt
 
     compile_rpath=
-    compile_rpath_tail=
     finalize_rpath=
     compile_shlibpath=
     finalize_shlibpath=
@@ -6962,12 +6805,10 @@
     xrpath=
     perm_rpath=
     temp_rpath=
-    temp_rpath_tail=
     thread_safe=no
     vinfo=
     vinfo_number=no
     weak_libs=
-    rpath_arg=
     single_module=$wl-single_module
     func_infer_tag $base_compile
 
@@ -7230,7 +7071,7 @@
 	  case $arg in
 	  [\\/]* | [A-Za-z]:[\\/]*) ;;
 	  *)
-	    func_fatal_error "argument to -rpath is not absolute: $arg"
+	    func_fatal_error "only absolute run-paths are allowed"
 	    ;;
 	  esac
 	  if test rpath = "$prev"; then
@@ -7406,7 +7247,7 @@
 	  ;;
 	esac
 	case $host in
-	*-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-os2* | *-cegcc*)
+	*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)
 	  testbindir=`$ECHO "$dir" | $SED 's*/lib$*/bin*'`
 	  case :$dllsearchpath: in
 	  *":$dir:"*) ;;
@@ -7426,7 +7267,7 @@
       -l*)
 	if test X-lc = "X$arg" || test X-lm = "X$arg"; then
 	  case $host in
-	  *-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-beos* | *-cegcc* | *-*-haiku*)
+	  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-beos* | *-cegcc* | *-*-haiku*)
 	    # These systems don't actually have a C or math library (as such)
 	    continue
 	    ;;
@@ -7434,7 +7275,7 @@
 	    # These systems don't actually have a C library (as such)
 	    test X-lc = "X$arg" && continue
 	    ;;
-	  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly* | *-*-midnightbsd*)
+	  *-*-openbsd* | *-*-freebsd* | *-*-dragonfly* | *-*-bitrig* | *-*-midnightbsd*)
 	    # Do not include libc due to us having libc/libc_r.
 	    test X-lc = "X$arg" && continue
 	    ;;
@@ -7454,7 +7295,7 @@
 	  esac
 	elif test X-lc_r = "X$arg"; then
 	 case $host in
-	 *-*-openbsd* | *-*-freebsd* | *-*-dragonfly* | *-*-midnightbsd*)
+	 *-*-openbsd* | *-*-freebsd* | *-*-dragonfly* | *-*-bitrig* | *-*-midnightbsd*)
 	   # Do not include libc_r directly, use -pthread flag.
 	   continue
 	   ;;
@@ -7477,8 +7318,7 @@
       # Tru64 UNIX uses -model [arg] to determine the layout of C++
       # classes, name mangling, and exception handling.
       # Darwin uses the -arch flag to determine output architecture.
-      # -q <option> for IBM XL C/C++ compiler.
-      -model|-arch|-isysroot|--sysroot|-q)
+      -model|-arch|-isysroot|--sysroot)
 	func_append compiler_flags " $arg"
 	func_append compile_command " $arg"
 	func_append finalize_command " $arg"
@@ -7499,7 +7339,7 @@
 	continue
 	;;
       -mt|-mthreads|-kthread|-Kthread|-pthreads|--thread-safe \
-      |-threads|-fopenmp|-fopenmp=*|-openmp|-mp|-xopenmp|-omp|-qsmp=*)
+      |-threads|-fopenmp|-openmp|-mp|-xopenmp|-omp|-qsmp=*)
 	func_append compiler_flags " $arg"
 	func_append compile_command " $arg"
 	func_append finalize_command " $arg"
@@ -7522,7 +7362,7 @@
 
       -no-install)
 	case $host in
-	*-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-os2* | *-*-darwin* | *-cegcc*)
+	*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-darwin* | *-cegcc*)
 	  # The PATH hackery in wrapper scripts is required on Windows
 	  # and Darwin in order for the loader to find any dlls it needs.
 	  func_warning "'-no-install' is ignored for $host"
@@ -7582,7 +7422,7 @@
 	  dir=$lt_sysroot$func_stripname_result
 	  ;;
 	*)
-	  func_fatal_error "argument ($arg) to '-R' is not an absolute path: $dir"
+	  func_fatal_error "only absolute run-paths are allowed"
 	  ;;
 	esac
 	case "$xrpath " in
@@ -7707,29 +7547,15 @@
       # -O*, -g*, -flto*, -fwhopr*, -fuse-linker-plugin GCC link-time optimization
       # -specs=*             GCC specs files
       # -stdlib=*            select c++ std lib with clang
-      # -fdiagnostics-color* simply affects output
-      # -frecord-gcc-switches used to verify flags were respected
       # -fsanitize=*         Clang/GCC memory and address sanitizer
-      # -fno-sanitize*       Clang/GCC memory and address sanitizer
-      # -shared-libsan       Link with shared sanitizer runtimes (Clang)
-      # -static-libsan       Link with static sanitizer runtimes (Clang)
-      # -no-canonical-prefixes Do not expand any symbolic links
       # -fuse-ld=*           Linker select flags for GCC
       # -static-*            direct GCC to link specific libraries statically
       # -fcilkplus           Cilk Plus language extension features for C/C++
-      # -rtlib=*             select c runtime lib with clang
-      # --unwindlib=*        select unwinder library with clang
-      # -f{file|debug|macro|profile}-prefix-map=* needed for lto linking
       # -Wa,*                Pass flags directly to the assembler
-      # -Werror, -Werror=*   Report (specified) warnings as errors
       -64|-mips[0-9]|-r[0-9][0-9]*|-xarch=*|-xtarget=*|+DA*|+DD*|-q*|-m*| \
       -t[45]*|-txscale*|-p|-pg|--coverage|-fprofile-*|-F*|@*|-tp=*|--sysroot=*| \
-      -O*|-g*|-flto*|-fwhopr*|-fuse-linker-plugin|-fstack-protector*|-no-canonical-prefixes| \
-      -stdlib=*|-rtlib=*|--unwindlib=*| \
-      -specs=*|-fsanitize=*|-fno-sanitize*|-shared-libsan|-static-libsan| \
-      -ffile-prefix-map=*|-fdebug-prefix-map=*|-fmacro-prefix-map=*|-fprofile-prefix-map=*| \
-      -fdiagnostics-color*|-frecord-gcc-switches| \
-      -fuse-ld=*|-static-*|-fcilkplus|-Wa,*|-Werror|-Werror=*)
+      -O*|-g*|-flto*|-fwhopr*|-fuse-linker-plugin|-fstack-protector*|-stdlib=*| \
+      -specs=*|-fsanitize=*|-fuse-ld=*|-static-*|-fcilkplus|-Wa,*)
         func_quote_arg pretty "$arg"
 	arg=$func_quote_arg_result
         func_append compile_command " $arg"
@@ -7887,20 +7713,8 @@
 
       # Now actually substitute the argument into the commands.
       if test -n "$arg"; then
-	if test -n "$rpath_arg"; then
-          func_append finalize_rpath " ${arg##*,}"
-	  unset rpath_arg
-	else
-	  case $arg in
-          -Wl,-rpath,*)
-	    func_append finalize_rpath " ${arg##*,}";;
-          -Wl,-rpath)
-	    rpath_arg=1;;
-          *)
-            func_append compile_command " $arg"
-	    func_append finalize_command " $arg"
-	  esac
-        fi
+	func_append compile_command " $arg"
+	func_append finalize_command " $arg"
       fi
     done # argument parsing loop
 
@@ -8034,7 +7848,10 @@
 	case $pass in
 	dlopen) libs=$dlfiles ;;
 	dlpreopen) libs=$dlprefiles ;;
-	link) libs="$deplibs %DEPLIBS% $dependency_libs" ;;
+	link)
+	  libs="$deplibs %DEPLIBS%"
+	  test "X$link_all_deplibs" != Xno && libs="$libs $dependency_libs"
+	  ;;
 	esac
       fi
       if test lib,dlpreopen = "$linkmode,$pass"; then
@@ -8071,7 +7888,7 @@
 	found=false
 	case $deplib in
 	-mt|-mthreads|-kthread|-Kthread|-pthread|-pthreads|--thread-safe \
-        |-threads|-fopenmp|-fopenmp=*|-openmp|-mp|-xopenmp|-omp|-qsmp=*)
+        |-threads|-fopenmp|-openmp|-mp|-xopenmp|-omp|-qsmp=*)
 	  if test prog,link = "$linkmode,$pass"; then
 	    compile_deplibs="$deplib $compile_deplibs"
 	    finalize_deplibs="$deplib $finalize_deplibs"
@@ -8248,15 +8065,18 @@
 		;;
 	      esac
 	      if $valid_a_lib; then
-		func_warning "Linking the shared library $output against the static library $deplib is not portable!"
+		echo
+		$ECHO "*** Warning: Linking the shared library $output against the"
+		$ECHO "*** static library $deplib is not portable!"
 		deplibs="$deplib $deplibs"
 	      else
-		func_warning "Trying to link with static lib archive $deplib."
-		func_warning "I have the capability to make that library automatically link in when"
-		func_warning "you link to this library.  But I can only do this if you have a"
-		func_warning "shared version of the library, which you do not appear to have"
-		func_warning "because the file extensions .$libext of this argument makes me believe"
-		func_warning "that it is just a static archive that I should not use here."
+		echo
+		$ECHO "*** Warning: Trying to link with static lib archive $deplib."
+		echo "*** I have the capability to make that library automatically link in when"
+		echo "*** you link to this library.  But I can only do this if you have a"
+		echo "*** shared version of the library, which you do not appear to have"
+		echo "*** because the file extensions .$libext of this argument makes me believe"
+		echo "*** that it is just a static archive that I should not use here."
 	      fi
 	      ;;
 	    esac
@@ -8350,19 +8170,19 @@
 	    # It is a libtool convenience library, so add in its objects.
 	    func_append convenience " $ladir/$objdir/$old_library"
 	    func_append old_convenience " $ladir/$objdir/$old_library"
+	    tmp_libs=
+	    for deplib in $dependency_libs; do
+	      deplibs="$deplib $deplibs"
+	      if $opt_preserve_dup_deps; then
+		case "$tmp_libs " in
+		*" $deplib "*) func_append specialdeplibs " $deplib" ;;
+		esac
+	      fi
+	      func_append tmp_libs " $deplib"
+	    done
 	  elif test prog != "$linkmode" && test lib != "$linkmode"; then
 	    func_fatal_error "'$lib' is not a convenience library"
 	  fi
-	  tmp_libs=
-	  for deplib in $dependency_libs; do
-	    deplibs="$deplib $deplibs"
-	    if $opt_preserve_dup_deps; then
-	      case "$tmp_libs " in
-	      *" $deplib "*) func_append specialdeplibs " $deplib" ;;
-	      esac
-	    fi
-	    func_append tmp_libs " $deplib"
-	  done
 	  continue
 	fi # $pass = conv
 
@@ -8451,7 +8271,7 @@
 	  fi
 	  case $host in
 	    # special handling for platforms with PE-DLLs.
-	    *cygwin* | *mingw* | *windows* | *cegcc* )
+	    *cygwin* | *mingw* | *cegcc* )
 	      # Linker will automatically link against shared library if both
 	      # static and shared are present.  Therefore, ensure we extract
 	      # symbols from the import library if a shared library is present
@@ -8551,10 +8371,7 @@
 	      # Make sure the rpath contains only unique directories.
 	      case $temp_rpath: in
 	      *"$absdir:"*) ;;
-              *) case $absdir in
-                 "$progdir/"*) func_append temp_rpath "$absdir:" ;;
-                 *)            func_append temp_rpath_tail "$absdir:" ;;
-                 esac
+	      *) func_append temp_rpath "$absdir:" ;;
 	      esac
 	    fi
 
@@ -8564,12 +8381,9 @@
 	    case " $sys_lib_dlsearch_path " in
 	    *" $absdir "*) ;;
 	    *)
-	      case "$compile_rpath$compile_rpath_tail " in
+	      case "$compile_rpath " in
 	      *" $absdir "*) ;;
-	      *) case $absdir in
-                 "$progdir/"*) func_append compile_rpath " $absdir" ;;
-                 *) func_append compile_rpath_tail " $absdir" ;;
-		 esac
+	      *) func_append compile_rpath " $absdir" ;;
 	      esac
 	      ;;
 	    esac
@@ -8600,8 +8414,8 @@
 	fi
 	if test -n "$library_names" &&
 	   { test no = "$use_static_libs" || test -z "$old_library"; }; then
-	  case $host_os in
-	  cygwin* | mingw* | windows* | cegcc* | os2*)
+	  case $host in
+	  *cygwin* | *mingw* | *cegcc* | *os2*)
 	      # No point in relinking DLLs because paths are not encoded
 	      func_append notinst_deplibs " $lib"
 	      need_relink=no
@@ -8627,11 +8441,11 @@
 	  if test -z "$dlopenmodule" && test yes = "$shouldnotlink" && test link = "$pass"; then
 	    echo
 	    if test prog = "$linkmode"; then
-	      func_warning "Linking the executable $output against the loadable module"
+	      $ECHO "*** Warning: Linking the executable $output against the loadable module"
 	    else
-	      func_warning "Linking the shared library $output against the loadable module"
+	      $ECHO "*** Warning: Linking the shared library $output against the loadable module"
 	    fi
-	    func_warning "$linklib is not portable!"
+	    $ECHO "*** $linklib is not portable!"
 	  fi
 	  if test lib = "$linkmode" &&
 	     test yes = "$hardcode_into_libs"; then
@@ -8641,12 +8455,9 @@
 	    case " $sys_lib_dlsearch_path " in
 	    *" $absdir "*) ;;
 	    *)
-	      case "$compile_rpath$compile_rpath_tail " in
+	      case "$compile_rpath " in
 	      *" $absdir "*) ;;
-	      *) case $absdir in
-                 "$progdir/"*) func_append compile_rpath " $absdir" ;;
-                 *) func_append compile_rpath_tail " $absdir" ;;
-		 esac
+	      *) func_append compile_rpath " $absdir" ;;
 	      esac
 	      ;;
 	    esac
@@ -8673,8 +8484,8 @@
 	      soname=$dlname
 	    elif test -n "$soname_spec"; then
 	      # bleh windows
-	      case $host_os in
-	      cygwin* | mingw* | windows* | cegcc* | os2*)
+	      case $host in
+	      *cygwin* | mingw* | *cegcc* | *os2*)
 	        func_arith $current - $age
 		major=$func_arith_result
 		versuffix=-$major
@@ -8721,7 +8532,6 @@
 		case $host in
 		  *-*-sco3.2v5.0.[024]*) add_dir=-L$dir ;;
 		  *-*-sysv4*uw2*) add_dir=-L$dir ;;
-		  *-*-emscripten*) add_dir=-L$dir ;;
 		  *-*-sysv5OpenUNIX* | *-*-sysv5UnixWare7.[01].[10]* | \
 		    *-*-unixware7*) add_dir=-L$dir ;;
 		  *-*-darwin* )
@@ -8730,10 +8540,11 @@
 		    if /usr/bin/file -L $add 2> /dev/null |
 			 $GREP ": [^:]* bundle" >/dev/null; then
 		      if test "X$dlopenmodule" != "X$lib"; then
-			func_warning "lib $linklib is a module, not a shared library"
+			$ECHO "*** Warning: lib $linklib is a module, not a shared library"
 			if test -z "$old_library"; then
-			  func_warning "And there doesn't seem to be a static archive available"
-			  func_warning "The link will probably fail, sorry"
+			  echo
+			  echo "*** And there doesn't seem to be a static archive available"
+			  echo "*** The link will probably fail, sorry"
 			else
 			  add=$dir/$old_library
 			fi
@@ -8816,7 +8627,7 @@
 	       test no = "$hardcode_direct_absolute"; then
 	      add=$libdir/$linklib
 	    elif test yes = "$hardcode_minus_L"; then
-	      add_dir=-L$lt_sysroot$libdir
+	      add_dir=-L$libdir
 	      add=-l$name
 	    elif test yes = "$hardcode_shlibpath_var"; then
 	      case :$finalize_shlibpath: in
@@ -8833,7 +8644,7 @@
 	      fi
 	    else
 	      # We cannot seem to hardcode it, guess we'll fake it.
-	      add_dir=-L$lt_sysroot$libdir
+	      add_dir=-L$libdir
 	      # Try looking first in the location we're being installed to.
 	      if test -n "$inst_prefix_dir"; then
 		case $libdir in
@@ -8873,19 +8684,21 @@
 
 	    # Just print a warning and add the library to dependency_libs so
 	    # that the program can be linked against the static library.
-	    func_warning "This system cannot link to static lib archive $lib."
-	    func_warning "I have the capability to make that library automatically link in when"
-	    func_warning "you link to this library.  But I can only do this if you have a"
-	    func_warning "shared version of the library, which you do not appear to have."
+	    echo
+	    $ECHO "*** Warning: This system cannot link to static lib archive $lib."
+	    echo "*** I have the capability to make that library automatically link in when"
+	    echo "*** you link to this library.  But I can only do this if you have a"
+	    echo "*** shared version of the library, which you do not appear to have."
 	    if test yes = "$module"; then
-	      func_warning "But as you try to build a module library, libtool will still create "
-	      func_warning "a static module, that should work as long as the dlopening application"
-	      func_warning "is linked with the -dlopen flag to resolve symbols at runtime."
+	      echo "*** But as you try to build a module library, libtool will still create "
+	      echo "*** a static module, that should work as long as the dlopening application"
+	      echo "*** is linked with the -dlopen flag to resolve symbols at runtime."
 	      if test -z "$global_symbol_pipe"; then
-		func_warning "However, this would only work if libtool was able to extract symbol"
-		func_warning "lists from a program, using 'nm' or equivalent, but libtool could"
-		func_warning "not find such a program.  So, this module is probably useless."
-		func_warning "'nm' from GNU binutils and a full rebuild may help."
+		echo
+		echo "*** However, this would only work if libtool was able to extract symbol"
+		echo "*** lists from a program, using 'nm' or equivalent, but libtool could"
+		echo "*** not find such a program.  So, this module is probably useless."
+		echo "*** 'nm' from GNU binutils and a full rebuild may help."
 	      fi
 	      if test no = "$build_old_libs"; then
 		build_libtool_libs=module
@@ -9008,10 +8821,6 @@
 	  fi # link_all_deplibs != no
 	fi # linkmode = lib
       done # for deplib in $libs
-
-      func_append temp_rpath "$temp_rpath_tail"
-      func_append compile_rpath "$compile_rpath_tail"
-
       if test link = "$pass"; then
 	if test prog = "$linkmode"; then
 	  compile_deplibs="$new_inherited_linker_flags $compile_deplibs"
@@ -9049,46 +8858,42 @@
 	  # Add libraries to $var in reverse order
 	  eval tmp_libs=\"\$$var\"
 	  new_libs=
-	  # FIXME: Pedantically, this is the right thing to do, so
-	  #        that some nasty dependency loop isn't accidentally
-	  #        broken: new_libs="$deplib $new_libs"
 	  for deplib in $tmp_libs; do
-	    if $opt_preserve_dup_deps; then
-	      new_libs="$deplib $new_libs"
-	    else
-	      # Pragmatically, this seems to cause very few problems in
-	      # practice:
-	      case $deplib in
-	      -L*) new_libs="$deplib $new_libs" ;;
-	      -R*) ;;
+	    # FIXME: Pedantically, this is the right thing to do, so
+	    #        that some nasty dependency loop isn't accidentally
+	    #        broken:
+	    #new_libs="$deplib $new_libs"
+	    # Pragmatically, this seems to cause very few problems in
+	    # practice:
+	    case $deplib in
+	    -L*) new_libs="$deplib $new_libs" ;;
+	    -R*) ;;
+	    *)
+	      # And here is the reason: when a library appears more
+	      # than once as an explicit dependence of a library, or
+	      # is implicitly linked in more than once by the
+	      # compiler, it is considered special, and multiple
+	      # occurrences thereof are not removed.  Compare this
+	      # with having the same library being listed as a
+	      # dependency of multiple other libraries: in this case,
+	      # we know (pedantically, we assume) the library does not
+	      # need to be listed more than once, so we keep only the
+	      # last copy.  This is not always right, but it is rare
+	      # enough that we require users that really mean to play
+	      # such unportable linking tricks to link the library
+	      # using -Wl,-lname, so that libtool does not consider it
+	      # for duplicate removal.
+	      case " $specialdeplibs " in
+	      *" $deplib "*) new_libs="$deplib $new_libs" ;;
 	      *)
-	        # And here is the reason: when a library appears more
-	        # than once as an explicit dependence of a library, or
-	        # is implicitly linked in more than once by the
-	        # compiler, it is considered special, and multiple
-	        # occurrences thereof are not removed.  Compare this
-	        # with having the same library being listed as a
-	        # dependency of multiple other libraries: in this case,
-	        # we know (pedantically, we assume) the library does not
-	        # need to be listed more than once, so we keep only the
-	        # last copy.  This is not always right, but it is rare
-	        # enough that we require users that really mean to play
-	        # such unportable linking tricks to link the library
-	        # using -Wl,-lname, so that libtool does not consider it
-	        # for duplicate removal.  And if not possible for portability
-	        # reasons, then --preserve-dup-deps should be used.
-	        case " $specialdeplibs " in
-	        *" $deplib "*) new_libs="$deplib $new_libs" ;;
-	        *)
-	          case " $new_libs " in
-	          *" $deplib "*) ;;
-	          *) new_libs="$deplib $new_libs" ;;
-	          esac
-	          ;;
-	        esac
-	        ;;
+		case " $new_libs " in
+		*" $deplib "*) ;;
+		*) new_libs="$deplib $new_libs" ;;
+		esac
+		;;
 	      esac
-	    fi
+	      ;;
+	    esac
 	  done
 	  tmp_libs=
 	  for deplib in $new_libs; do
@@ -9220,7 +9025,9 @@
 	if test pass_all != "$deplibs_check_method"; then
 	  func_fatal_error "cannot build libtool library '$output' from non-libtool objects on this host:$objs"
 	else
-	  func_warning "Linking the shared library $output against the non-libtool objects $objs is not portable!"
+	  echo
+	  $ECHO "*** Warning: Linking the shared library $output against the non-libtool"
+	  $ECHO "*** objects $objs is not portable!"
 	  func_append libobjs " $objs"
 	fi
       fi
@@ -9281,13 +9088,13 @@
 	  #
 	  case $version_type in
 	  # correct linux to gnu/linux during the next big refactor
-	  darwin|freebsd-elf|linux|midnightbsd-elf|osf|qnx|windows|none)
+	  darwin|freebsd-elf|linux|midnightbsd-elf|osf|windows|none)
 	    func_arith $number_major + $number_minor
 	    current=$func_arith_result
 	    age=$number_minor
 	    revision=$number_revision
 	    ;;
-	  freebsd-aout|sco|sunos)
+	  freebsd-aout|qnx|sunos)
 	    current=$number_major
 	    revision=$number_minor
 	    age=0
@@ -9437,9 +9244,8 @@
 	  ;;
 
 	qnx)
-	  func_arith $current - $age
-	  major=.$func_arith_result
-	  versuffix=$major.$age.$revision
+	  major=.$current
+	  versuffix=.$current
 	  ;;
 
 	sco)
@@ -9592,7 +9398,7 @@
       if test yes = "$build_libtool_libs"; then
 	if test -n "$rpath"; then
 	  case $host in
-	  *-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-os2* | *-*-beos* | *-cegcc* | *-*-haiku*)
+	  *-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-*-beos* | *-cegcc* | *-*-haiku*)
 	    # these systems don't actually have a c library (as such)!
 	    ;;
 	  *-*-rhapsody* | *-*-darwin1.[012])
@@ -9643,6 +9449,108 @@
 	  # implementing what was already the behavior.
 	  newdeplibs=$deplibs
 	  ;;
+	test_compile)
+	  # This code stresses the "libraries are programs" paradigm to its
+	  # limits. Maybe even breaks it.  We compile a program, linking it
+	  # against the deplibs as a proxy for the library.  Then we can check
+	  # whether they linked in statically or dynamically with ldd.
+	  $opt_dry_run || $RM conftest.c
+	  cat > conftest.c <<EOF
+	  int main() { return 0; }
+EOF
+	  $opt_dry_run || $RM conftest
+	  if $LTCC $LTCFLAGS -o conftest conftest.c $deplibs; then
+	    ldd_output=`ldd conftest`
+	    for i in $deplibs; do
+	      case $i in
+	      -l*)
+		func_stripname -l '' "$i"
+		name=$func_stripname_result
+		if test yes = "$allow_libtool_libs_with_static_runtimes"; then
+		  case " $predeps $postdeps " in
+		  *" $i "*)
+		    func_append newdeplibs " $i"
+		    i=
+		    ;;
+		  esac
+		fi
+		if test -n "$i"; then
+		  libname=`eval "\\$ECHO \"$libname_spec\""`
+		  deplib_matches=`eval "\\$ECHO \"$library_names_spec\""`
+		  set dummy $deplib_matches; shift
+		  deplib_match=$1
+		  if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0; then
+		    func_append newdeplibs " $i"
+		  else
+		    droppeddeps=yes
+		    echo
+		    $ECHO "*** Warning: dynamic linker does not accept needed library $i."
+		    echo "*** I have the capability to make that library automatically link in when"
+		    echo "*** you link to this library.  But I can only do this if you have a"
+		    echo "*** shared version of the library, which I believe you do not have"
+		    echo "*** because a test_compile did reveal that the linker did not use it for"
+		    echo "*** its dynamic dependency list that programs get resolved with at runtime."
+		  fi
+		fi
+		;;
+	      *)
+		func_append newdeplibs " $i"
+		;;
+	      esac
+	    done
+	  else
+	    # Error occurred in the first compile.  Let's try to salvage
+	    # the situation: Compile a separate program for each library.
+	    for i in $deplibs; do
+	      case $i in
+	      -l*)
+		func_stripname -l '' "$i"
+		name=$func_stripname_result
+		$opt_dry_run || $RM conftest
+		if $LTCC $LTCFLAGS -o conftest conftest.c $i; then
+		  ldd_output=`ldd conftest`
+		  if test yes = "$allow_libtool_libs_with_static_runtimes"; then
+		    case " $predeps $postdeps " in
+		    *" $i "*)
+		      func_append newdeplibs " $i"
+		      i=
+		      ;;
+		    esac
+		  fi
+		  if test -n "$i"; then
+		    libname=`eval "\\$ECHO \"$libname_spec\""`
+		    deplib_matches=`eval "\\$ECHO \"$library_names_spec\""`
+		    set dummy $deplib_matches; shift
+		    deplib_match=$1
+		    if test `expr "$ldd_output" : ".*$deplib_match"` -ne 0; then
+		      func_append newdeplibs " $i"
+		    else
+		      droppeddeps=yes
+		      echo
+		      $ECHO "*** Warning: dynamic linker does not accept needed library $i."
+		      echo "*** I have the capability to make that library automatically link in when"
+		      echo "*** you link to this library.  But I can only do this if you have a"
+		      echo "*** shared version of the library, which you do not appear to have"
+		      echo "*** because a test_compile did reveal that the linker did not use this one"
+		      echo "*** as a dynamic dependency that programs can get resolved with at runtime."
+		    fi
+		  fi
+		else
+		  droppeddeps=yes
+		  echo
+		  $ECHO "*** Warning!  Library $i is needed by this library but I was not able to"
+		  echo "*** make it link in!  You will probably need to install it or some"
+		  echo "*** library that it depends on before this library will be fully"
+		  echo "*** functional.  Installing it before continuing would be even better."
+		fi
+		;;
+	      *)
+		func_append newdeplibs " $i"
+		;;
+	      esac
+	    done
+	  fi
+	  ;;
 	file_magic*)
 	  set dummy $deplibs_check_method; shift
 	  file_magic_regex=`expr "$deplibs_check_method" : "$1 \(.*\)"`
@@ -9706,16 +9614,17 @@
 	      fi
 	      if test -n "$a_deplib"; then
 		droppeddeps=yes
-		func_warning "Linker path does not have real file for library $a_deplib."
-		func_warning "I have the capability to make that library automatically link in when"
-		func_warning "you link to this library.  But I can only do this if you have a"
-		func_warning "shared version of the library, which you do not appear to have"
-		func_warning "because I did check the linker path looking for a file starting"
+		echo
+		$ECHO "*** Warning: linker path does not have real file for library $a_deplib."
+		echo "*** I have the capability to make that library automatically link in when"
+		echo "*** you link to this library.  But I can only do this if you have a"
+		echo "*** shared version of the library, which you do not appear to have"
+		echo "*** because I did check the linker path looking for a file starting"
 		if test -z "$potlib"; then
-		  func_warning "with $libname but no candidates were found. (...for file magic test)"
+		  $ECHO "*** with $libname but no candidates were found. (...for file magic test)"
 		else
-		  func_warning "with $libname and none of the candidates passed a file format test"
-		  func_warning "using a file magic. Last file checked: $potlib"
+		  $ECHO "*** with $libname and none of the candidates passed a file format test"
+		  $ECHO "*** using a file magic. Last file checked: $potlib"
 		fi
 	      fi
 	      ;;
@@ -9759,16 +9668,17 @@
 	      fi
 	      if test -n "$a_deplib"; then
 		droppeddeps=yes
-		func_warning "Linker path does not have real file for library $a_deplib."
-		func_warning "I have the capability to make that library automatically link in when"
-		func_warning "you link to this library.  But I can only do this if you have a"
-		func_warning "shared version of the library, which you do not appear to have"
-		func_warning "because I did check the linker path looking for a file starting"
+		echo
+		$ECHO "*** Warning: linker path does not have real file for library $a_deplib."
+		echo "*** I have the capability to make that library automatically link in when"
+		echo "*** you link to this library.  But I can only do this if you have a"
+		echo "*** shared version of the library, which you do not appear to have"
+		echo "*** because I did check the linker path looking for a file starting"
 		if test -z "$potlib"; then
-		  func_warning "with $libname but no candidates were found. (...for regex pattern test)"
+		  $ECHO "*** with $libname but no candidates were found. (...for regex pattern test)"
 		else
-		  func_warning "with $libname and none of the candidates passed a file format test"
-		  func_warning "using a regex pattern. Last file checked: $potlib"
+		  $ECHO "*** with $libname and none of the candidates passed a file format test"
+		  $ECHO "*** using a regex pattern. Last file checked: $potlib"
 		fi
 	      fi
 	      ;;
@@ -9792,11 +9702,11 @@
 	  *[!\	\ ]*)
 	    echo
 	    if test none = "$deplibs_check_method"; then
-	      func_warning "Inter-library dependencies are not supported in this platform."
+	      echo "*** Warning: inter-library dependencies are not supported in this platform."
 	    else
-	      func_warning "Inter-library dependencies are not known to be supported."
+	      echo "*** Warning: inter-library dependencies are not known to be supported."
 	    fi
-	    func_warning "All declared inter-library dependencies are being dropped."
+	    echo "*** All declared inter-library dependencies are being dropped."
 	    droppeddeps=yes
 	    ;;
 	  esac
@@ -9817,15 +9727,17 @@
 
 	if test yes = "$droppeddeps"; then
 	  if test yes = "$module"; then
-	    func_warning "libtool could not satisfy all declared inter-library"
-	    func_warning "dependencies of module $libname.  Therefore, libtool will create"
-	    func_warning "a static module, that should work as long as the dlopening"
-	    func_warning "application is linked with the -dlopen flag."
+	    echo
+	    echo "*** Warning: libtool could not satisfy all declared inter-library"
+	    $ECHO "*** dependencies of module $libname.  Therefore, libtool will create"
+	    echo "*** a static module, that should work as long as the dlopening"
+	    echo "*** application is linked with the -dlopen flag."
 	    if test -z "$global_symbol_pipe"; then
-	      func_warning "However, this would only work if libtool was able to extract symbol"
-	      func_warning "lists from a program, using 'nm' or equivalent, but libtool could"
-	      func_warning "not find such a program.  So, this module is probably useless."
-	      func_warning "'nm' from GNU binutils and a full rebuild may help."
+	      echo
+	      echo "*** However, this would only work if libtool was able to extract symbol"
+	      echo "*** lists from a program, using 'nm' or equivalent, but libtool could"
+	      echo "*** not find such a program.  So, this module is probably useless."
+	      echo "*** 'nm' from GNU binutils and a full rebuild may help."
 	    fi
 	    if test no = "$build_old_libs"; then
 	      oldlibs=$output_objdir/$libname.$libext
@@ -10000,7 +9912,7 @@
 
 	orig_export_symbols=
 	case $host_os in
-	cygwin* | mingw* | windows* | cegcc*)
+	cygwin* | mingw* | cegcc*)
 	  if test -n "$export_symbols" && test -z "$export_symbols_regex"; then
 	    # exporting using user supplied symfile
 	    func_dll_def_p "$export_symbols" || {
@@ -10198,7 +10110,20 @@
 	  last_robj=
 	  k=1
 
-	  if test -n "$save_libobjs" && test : != "$skipped_export" && test -n "$file_list_spec"; then
+	  if test -n "$save_libobjs" && test : != "$skipped_export" && test yes = "$with_gnu_ld"; then
+	    output=$output_objdir/$output_la.lnkscript
+	    func_verbose "creating GNU ld script: $output"
+	    echo 'INPUT (' > $output
+	    for obj in $save_libobjs
+	    do
+	      func_to_tool_file "$obj"
+	      $ECHO "$func_to_tool_file_result" >> $output
+	    done
+	    echo ')' >> $output
+	    func_append delfiles " $output"
+	    func_to_tool_file "$output"
+	    output=$func_to_tool_file_result
+	  elif test -n "$save_libobjs" && test : != "$skipped_export" && test -n "$file_list_spec"; then
 	    output=$output_objdir/$output_la.lnk
 	    func_verbose "creating linker input file list: $output"
 	    : > $output
@@ -10217,19 +10142,6 @@
 	    func_append delfiles " $output"
 	    func_to_tool_file "$output"
 	    output=$firstobj\"$file_list_spec$func_to_tool_file_result\"
-	  elif test -n "$save_libobjs" && test : != "$skipped_export" && test yes = "$with_gnu_ld"; then
-	    output=$output_objdir/$output_la.lnkscript
-	    func_verbose "creating GNU ld script: $output"
-	    echo 'INPUT (' > $output
-	    for obj in $save_libobjs
-	    do
-	      func_to_tool_file "$obj"
-	      $ECHO "$func_to_tool_file_result" >> $output
-	    done
-	    echo ')' >> $output
-	    func_append delfiles " $output"
-	    func_to_tool_file "$output"
-	    output=$func_to_tool_file_result
 	  else
 	    if test -n "$save_libobjs"; then
 	      func_verbose "creating reloadable object files..."
@@ -10670,7 +10582,7 @@
 	  esac
 	fi
 	case $host in
-	*-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-os2* | *-cegcc*)
+	*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-os2* | *-cegcc*)
 	  testbindir=`$ECHO "$libdir" | $SED -e 's*/lib$*/bin*'`
 	  case :$dllsearchpath: in
 	  *":$libdir:"*) ;;
@@ -10748,7 +10660,7 @@
         # Disable wrappers for cegcc and mingw32ce hosts, we are cross compiling anyway.
         wrappers_required=false
         ;;
-      *cygwin* | *mingw* | *windows* )
+      *cygwin* | *mingw* )
         test yes = "$build_libtool_libs" || wrappers_required=false
         ;;
       *)
@@ -10902,7 +10814,7 @@
 	  *) exeext= ;;
 	esac
 	case $host in
-	  *cygwin* | *mingw* | windows* )
+	  *cygwin* | *mingw* )
 	    func_dirname_and_basename "$output" "" "."
 	    output_name=$func_basename_result
 	    output_path=$func_dirname_result
@@ -11236,7 +11148,7 @@
 	  # tests/bindir.at for full details.
 	  tdlname=$dlname
 	  case $host,$output,$installed,$module,$dlname in
-	    *cygwin*,*lai,yes,no,*.dll | *mingw*,*lai,yes,no,*.dll | *windows*,*lai,yes,no,*.dll | *cegcc*,*lai,yes,no,*.dll)
+	    *cygwin*,*lai,yes,no,*.dll | *mingw*,*lai,yes,no,*.dll | *cegcc*,*lai,yes,no,*.dll)
 	      # If a -bindir argument was supplied, place the dll there.
 	      if test -n "$bindir"; then
 		func_relative_path "$install_libdir" "$bindir"
diff -Nur xz-5.8.1/build-aux/missing xz-5.8.1-irix/build-aux/missing
--- xz-5.8.1/build-aux/missing	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/build-aux/missing	2025-04-25 14:59:03.031574620 +0000
@@ -1,11 +1,9 @@
 #! /bin/sh
-# Common wrapper for a few potentially missing GNU and other programs.
+# Common wrapper for a few potentially missing GNU programs.
 
-scriptversion=2024-06-07.14; # UTC
+scriptversion=2018-03-07.03; # UTC
 
-# shellcheck disable=SC2006,SC2268 # we must support pre-POSIX shells
-
-# Copyright (C) 1996-2024 Free Software Foundation, Inc.
+# Copyright (C) 1996-2021 Free Software Foundation, Inc.
 # Originally written by Fran,cois Pinard <pinard@iro.umontreal.ca>, 1996.
 
 # This program is free software; you can redistribute it and/or modify
@@ -56,20 +54,18 @@
   -v, --version   output version information and exit
 
 Supported PROGRAM values:
-aclocal autoconf autogen  autoheader autom4te automake autoreconf
-bison   flex     help2man lex        makeinfo perl     yacc
+  aclocal   autoconf  autoheader   autom4te  automake  makeinfo
+  bison     yacc      flex         lex       help2man
 
 Version suffixes to PROGRAM as well as the prefixes 'gnu-', 'gnu', and
 'g' are ignored when checking the name.
 
-Report bugs to <bug-automake@gnu.org>.
-GNU Automake home page: <https://www.gnu.org/software/automake/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>."
+Send bug reports to <bug-automake@gnu.org>."
     exit $?
     ;;
 
   -v|--v|--ve|--ver|--vers|--versi|--versio|--version)
-    echo "missing (GNU Automake) $scriptversion"
+    echo "missing $scriptversion (GNU Automake)"
     exit $?
     ;;
 
@@ -112,7 +108,7 @@
 program_details ()
 {
   case $1 in
-    aclocal|automake|autoreconf)
+    aclocal|automake)
       echo "The '$1' program is part of the GNU Automake package:"
       echo "<$gnu_software_URL/automake>"
       echo "It also requires GNU Autoconf, GNU m4 and Perl in order to run:"
@@ -127,9 +123,6 @@
       echo "<$gnu_software_URL/m4/>"
       echo "<$perl_URL>"
       ;;
-    *)
-      :
-      ;;
   esac
 }
 
@@ -144,55 +137,48 @@
   printf '%s\n' "'$1' is $msg."
 
   configure_deps="'configure.ac' or m4 files included by 'configure.ac'"
-  autoheader_deps="'acconfig.h'"
-  automake_deps="'Makefile.am'"
-  aclocal_deps="'acinclude.m4'"
   case $normalized_program in
-    aclocal*)
-      echo "You should only need it if you modified $aclocal_deps or"
-      echo "$configure_deps."
-      ;;
     autoconf*)
-      echo "You should only need it if you modified $configure_deps."
-      ;;
-    autogen*)
-      echo "You should only need it if you modified a '.def' or '.tpl' file."
-      echo "You may want to install the GNU AutoGen package:"
-      echo "<$gnu_software_URL/autogen/>"
+      echo "You should only need it if you modified 'configure.ac',"
+      echo "or m4 files included by it."
+      program_details 'autoconf'
       ;;
     autoheader*)
-      echo "You should only need it if you modified $autoheader_deps or"
+      echo "You should only need it if you modified 'acconfig.h' or"
       echo "$configure_deps."
+      program_details 'autoheader'
       ;;
     automake*)
-      echo "You should only need it if you modified $automake_deps or"
+      echo "You should only need it if you modified 'Makefile.am' or"
+      echo "$configure_deps."
+      program_details 'automake'
+      ;;
+    aclocal*)
+      echo "You should only need it if you modified 'acinclude.m4' or"
       echo "$configure_deps."
+      program_details 'aclocal'
       ;;
-    autom4te*)
+   autom4te*)
       echo "You might have modified some maintainer files that require"
       echo "the 'autom4te' program to be rebuilt."
-      ;;
-    autoreconf*)
-      echo "You should only need it if you modified $aclocal_deps or"
-      echo "$automake_deps or $autoheader_deps or $automake_deps or"
-      echo "$configure_deps."
+      program_details 'autom4te'
       ;;
     bison*|yacc*)
       echo "You should only need it if you modified a '.y' file."
       echo "You may want to install the GNU Bison package:"
       echo "<$gnu_software_URL/bison/>"
       ;;
+    lex*|flex*)
+      echo "You should only need it if you modified a '.l' file."
+      echo "You may want to install the Fast Lexical Analyzer package:"
+      echo "<$flex_URL>"
+      ;;
     help2man*)
       echo "You should only need it if you modified a dependency" \
            "of a man page."
       echo "You may want to install the GNU Help2man package:"
       echo "<$gnu_software_URL/help2man/>"
     ;;
-    lex*|flex*)
-      echo "You should only need it if you modified a '.l' file."
-      echo "You may want to install the Fast Lexical Analyzer package:"
-      echo "<$flex_URL>"
-      ;;
     makeinfo*)
       echo "You should only need it if you modified a '.texi' file, or"
       echo "any other file indirectly affecting the aspect of the manual."
@@ -203,12 +189,6 @@
       echo "want to install GNU make:"
       echo "<$gnu_software_URL/make/>"
       ;;
-    perl*)
-      echo "You should only need it to run GNU Autoconf, GNU Automake, "
-      echo "  assorted other tools, or if you modified a Perl source file."
-      echo "You may want to install the Perl 5 language interpreter:"
-      echo "<$perl_URL>"
-      ;;
     *)
       echo "You might have modified some files without having the proper"
       echo "tools for further handling them.  Check the 'README' file, it"
@@ -217,7 +197,6 @@
       echo "case some other package contains this missing '$1' program."
       ;;
   esac
-  program_details "$normalized_program"
 }
 
 give_advice "$1" | sed -e '1s/^/WARNING: /' \
diff -Nur xz-5.8.1/build-aux/test-driver xz-5.8.1-irix/build-aux/test-driver
--- xz-5.8.1/build-aux/test-driver	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/build-aux/test-driver	2025-04-25 14:59:03.256579192 +0000
@@ -1,9 +1,9 @@
 #! /bin/sh
 # test-driver - basic testsuite driver script.
 
-scriptversion=2024-06-19.01; # UTC
+scriptversion=2018-03-07.03; # UTC
 
-# Copyright (C) 2011-2024 Free Software Foundation, Inc.
+# Copyright (C) 2011-2021 Free Software Foundation, Inc.
 #
 # This program is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
@@ -44,16 +44,11 @@
 Usage:
   test-driver --test-name NAME --log-file PATH --trs-file PATH
               [--expect-failure {yes|no}] [--color-tests {yes|no}]
-              [--collect-skipped-logs {yes|no}]
               [--enable-hard-errors {yes|no}] [--]
               TEST-SCRIPT [TEST-SCRIPT-ARGUMENTS]
 
 The '--test-name', '--log-file' and '--trs-file' options are mandatory.
 See the GNU Automake documentation for information.
-
-Report bugs to <bug-automake@gnu.org>.
-GNU Automake home page: <https://www.gnu.org/software/automake/>.
-General help using GNU software: <https://www.gnu.org/gethelp/>.
 END
 }
 
@@ -62,17 +57,15 @@
 trs_file=  # Where to save the metadata of the test run.
 expect_failure=no
 color_tests=no
-collect_skipped_logs=yes
 enable_hard_errors=yes
 while test $# -gt 0; do
   case $1 in
   --help) print_usage; exit $?;;
-  --version) echo "test-driver (GNU Automake) $scriptversion"; exit $?;;
+  --version) echo "test-driver $scriptversion"; exit $?;;
   --test-name) test_name=$2; shift;;
   --log-file) log_file=$2; shift;;
   --trs-file) trs_file=$2; shift;;
   --color-tests) color_tests=$2; shift;;
-  --collect-skipped-logs) collect_skipped_logs=$2; shift;;
   --expect-failure) expect_failure=$2; shift;;
   --enable-hard-errors) enable_hard_errors=$2; shift;;
   --) shift; break;;
@@ -128,7 +121,7 @@
 case $tweaked_estatus:$expect_failure in
   0:yes) col=$red res=XPASS recheck=yes gcopy=yes;;
   0:*)   col=$grn res=PASS  recheck=no  gcopy=no;;
-  77:*)  col=$blu res=SKIP  recheck=no  gcopy=$collect_skipped_logs;;
+  77:*)  col=$blu res=SKIP  recheck=no  gcopy=yes;;
   99:*)  col=$mgn res=ERROR recheck=yes gcopy=yes;;
   *:yes) col=$lgn res=XFAIL recheck=no  gcopy=yes;;
   *:*)   col=$red res=FAIL  recheck=yes gcopy=yes;;
diff -Nur xz-5.8.1/config.h.in xz-5.8.1-irix/config.h.in
--- xz-5.8.1/config.h.in	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/config.h.in	2025-04-25 14:59:02.674567367 +0000
@@ -26,13 +26,13 @@
 /* Define to 1 if you have the <byteswap.h> header file. */
 #undef HAVE_BYTESWAP_H
 
-/* Define to 1 if you have the 'cap_rights_limit' function. */
+/* Define to 1 if you have the `cap_rights_limit' function. */
 #undef HAVE_CAP_RIGHTS_LIMIT
 
-/* Define to 1 if the system has the type 'CC_SHA256_CTX'. */
+/* Define to 1 if the system has the type `CC_SHA256_CTX'. */
 #undef HAVE_CC_SHA256_CTX
 
-/* Define to 1 if you have the 'CC_SHA256_Init' function. */
+/* Define to 1 if you have the `CC_SHA256_Init' function. */
 #undef HAVE_CC_SHA256_INIT
 
 /* Define to 1 if you have the Mac OS X function
@@ -52,7 +52,7 @@
 /* Define to 1 if sha256 integrity check is enabled. */
 #undef HAVE_CHECK_SHA256
 
-/* Define to 1 if you have the 'clock_gettime' function. */
+/* Define to 1 if you have the `clock_gettime' function. */
 #undef HAVE_CLOCK_GETTIME
 
 /* Define to 1 if 'CLOCK_MONOTONIC' is declared in <time.h>. */
@@ -110,7 +110,7 @@
 /* Define to 1 if you have the <dlfcn.h> header file. */
 #undef HAVE_DLFCN_H
 
-/* Define to 1 if you have the 'elf_aux_info' function. */
+/* Define to 1 if you have the `elf_aux_info' function. */
 #undef HAVE_ELF_AUX_INFO
 
 /* Define to 1 if any of HAVE_ENCODER_foo have been defined. */
@@ -153,22 +153,22 @@
    */
 #undef HAVE_FUNC_ATTRIBUTE_CONSTRUCTOR
 
-/* Define to 1 if you have the 'futimens' function. */
+/* Define to 1 if you have the `futimens' function. */
 #undef HAVE_FUTIMENS
 
-/* Define to 1 if you have the 'futimes' function. */
+/* Define to 1 if you have the `futimes' function. */
 #undef HAVE_FUTIMES
 
-/* Define to 1 if you have the 'futimesat' function. */
+/* Define to 1 if you have the `futimesat' function. */
 #undef HAVE_FUTIMESAT
 
-/* Define to 1 if you have the 'getauxval' function. */
+/* Define to 1 if you have the `getauxval' function. */
 #undef HAVE_GETAUXVAL
 
 /* Define to 1 if you have the <getopt.h> header file. */
 #undef HAVE_GETOPT_H
 
-/* Define to 1 if you have the 'getopt_long' function. */
+/* Define to 1 if you have the `getopt_long' function. */
 #undef HAVE_GETOPT_LONG
 
 /* Define if the GNU gettext() function is already present or preinstalled. */
@@ -217,34 +217,34 @@
 /* Define to 1 if getopt.h declares extern int optreset. */
 #undef HAVE_OPTRESET
 
-/* Define to 1 if you have the 'pledge' function. */
+/* Define to 1 if you have the `pledge' function. */
 #undef HAVE_PLEDGE
 
-/* Define to 1 if you have the 'posix_fadvise' function. */
+/* Define to 1 if you have the `posix_fadvise' function. */
 #undef HAVE_POSIX_FADVISE
 
 /* Define to 1 if 'program_invocation_name' is declared in <errno.h>. */
 #undef HAVE_PROGRAM_INVOCATION_NAME
 
-/* Define to 1 if you have the 'pthread_condattr_setclock' function. */
+/* Define to 1 if you have the `pthread_condattr_setclock' function. */
 #undef HAVE_PTHREAD_CONDATTR_SETCLOCK
 
 /* Have PTHREAD_PRIO_INHERIT. */
 #undef HAVE_PTHREAD_PRIO_INHERIT
 
-/* Define to 1 if you have the 'SHA256Init' function. */
+/* Define to 1 if you have the `SHA256Init' function. */
 #undef HAVE_SHA256INIT
 
-/* Define to 1 if the system has the type 'SHA256_CTX'. */
+/* Define to 1 if the system has the type `SHA256_CTX'. */
 #undef HAVE_SHA256_CTX
 
 /* Define to 1 if you have the <sha256.h> header file. */
 #undef HAVE_SHA256_H
 
-/* Define to 1 if you have the 'SHA256_Init' function. */
+/* Define to 1 if you have the `SHA256_Init' function. */
 #undef HAVE_SHA256_INIT
 
-/* Define to 1 if the system has the type 'SHA2_CTX'. */
+/* Define to 1 if the system has the type `SHA2_CTX'. */
 #undef HAVE_SHA2_CTX
 
 /* Define to 1 if you have the <sha2.h> header file. */
@@ -271,19 +271,19 @@
 /* Define to 1 if you have the <string.h> header file. */
 #undef HAVE_STRING_H
 
-/* Define to 1 if 'st_atimensec' is a member of 'struct stat'. */
+/* Define to 1 if `st_atimensec' is a member of `struct stat'. */
 #undef HAVE_STRUCT_STAT_ST_ATIMENSEC
 
-/* Define to 1 if 'st_atimespec.tv_nsec' is a member of 'struct stat'. */
+/* Define to 1 if `st_atimespec.tv_nsec' is a member of `struct stat'. */
 #undef HAVE_STRUCT_STAT_ST_ATIMESPEC_TV_NSEC
 
-/* Define to 1 if 'st_atim.st__tim.tv_nsec' is a member of 'struct stat'. */
+/* Define to 1 if `st_atim.st__tim.tv_nsec' is a member of `struct stat'. */
 #undef HAVE_STRUCT_STAT_ST_ATIM_ST__TIM_TV_NSEC
 
-/* Define to 1 if 'st_atim.tv_nsec' is a member of 'struct stat'. */
+/* Define to 1 if `st_atim.tv_nsec' is a member of `struct stat'. */
 #undef HAVE_STRUCT_STAT_ST_ATIM_TV_NSEC
 
-/* Define to 1 if 'st_uatime' is a member of 'struct stat'. */
+/* Define to 1 if `st_uatime' is a member of `struct stat'. */
 #undef HAVE_STRUCT_STAT_ST_UATIME
 
 /* Define to 1 to if GNU/Linux-specific details are unconditionally wanted for
@@ -293,7 +293,7 @@
    must be used together with liblzma_linux.map. */
 #undef HAVE_SYMBOL_VERSIONS_LINUX
 
-/* Define to 1 if you have the 'sysctlbyname' function. */
+/* Define to 1 if you have the `sysctlbyname' function. */
 #undef HAVE_SYSCTLBYNAME
 
 /* Define to 1 if you have the <sys/byteorder.h> header file. */
@@ -314,7 +314,7 @@
 /* Define to 1 if you have the <sys/types.h> header file. */
 #undef HAVE_SYS_TYPES_H
 
-/* Define to 1 if the system has the type 'uintptr_t'. */
+/* Define to 1 if the system has the type `uintptr_t'. */
 #undef HAVE_UINTPTR_T
 
 /* Define to 1 if you have the <unistd.h> header file. */
@@ -324,13 +324,13 @@
    configure.ac for details. */
 #undef HAVE_USABLE_CLMUL
 
-/* Define to 1 if you have the 'utime' function. */
+/* Define to 1 if you have the `utime' function. */
 #undef HAVE_UTIME
 
-/* Define to 1 if you have the 'utimes' function. */
+/* Define to 1 if you have the `utimes' function. */
 #undef HAVE_UTIMES
 
-/* Define to 1 if you have the 'vasprintf' function. */
+/* Define to 1 if you have the `vasprintf' function. */
 #undef HAVE_VASPRINTF
 
 /* Define to 1 or 0, depending whether the compiler supports simple visibility
@@ -340,13 +340,13 @@
 /* Define to 1 if you have the <wchar.h> header file. */
 #undef HAVE_WCHAR_H
 
-/* Define to 1 if you have the 'wcwidth' function. */
+/* Define to 1 if you have the `wcwidth' function. */
 #undef HAVE_WCWIDTH
 
-/* Define to 1 if the system has the type '_Bool'. */
+/* Define to 1 if the system has the type `_Bool'. */
 #undef HAVE__BOOL
 
-/* Define to 1 if you have the '_futime' function. */
+/* Define to 1 if you have the `_futime' function. */
 #undef HAVE__FUTIME
 
 /* Define to 1 if _mm_movemask_epi8 is available. */
@@ -402,10 +402,10 @@
    your system. */
 #undef PTHREAD_CREATE_JOINABLE
 
-/* The size of 'size_t', as computed by sizeof. */
+/* The size of `size_t', as computed by sizeof. */
 #undef SIZEOF_SIZE_T
 
-/* Define to 1 if all of the C89 standard headers exist (not just the ones
+/* Define to 1 if all of the C90 standard headers exist (not just the ones
    required in a freestanding environment). This macro is provided for
    backward compatibility; new code need not use it. */
 #undef STDC_HEADERS
@@ -467,7 +467,7 @@
    and might result in broken code. */
 #undef TUKLIB_USE_UNSAFE_TYPE_PUNNING
 
-/* Enable extensions on AIX, Interix, z/OS.  */
+/* Enable extensions on AIX 3, Interix.  */
 #ifndef _ALL_SOURCE
 # undef _ALL_SOURCE
 #endif
@@ -528,15 +528,11 @@
 #ifndef __STDC_WANT_IEC_60559_DFP_EXT__
 # undef __STDC_WANT_IEC_60559_DFP_EXT__
 #endif
-/* Enable extensions specified by C23 Annex F.  */
-#ifndef __STDC_WANT_IEC_60559_EXT__
-# undef __STDC_WANT_IEC_60559_EXT__
-#endif
 /* Enable extensions specified by ISO/IEC TS 18661-4:2015.  */
 #ifndef __STDC_WANT_IEC_60559_FUNCS_EXT__
 # undef __STDC_WANT_IEC_60559_FUNCS_EXT__
 #endif
-/* Enable extensions specified by C23 Annex H and ISO/IEC TS 18661-3:2015.  */
+/* Enable extensions specified by ISO/IEC TS 18661-3:2015.  */
 #ifndef __STDC_WANT_IEC_60559_TYPES_EXT__
 # undef __STDC_WANT_IEC_60559_TYPES_EXT__
 #endif
@@ -577,12 +573,9 @@
 /* Number of bits in a file offset, on hosts where this is settable. */
 #undef _FILE_OFFSET_BITS
 
-/* Define to 1 on platforms where this makes off_t a 64-bit type. */
+/* Define for large files, on AIX-style hosts. */
 #undef _LARGE_FILES
 
-/* Number of bits in time_t, on hosts where this is settable. */
-#undef _TIME_BITS
-
 /* Define for Solaris 2.5.1 so the uint32_t typedef from <sys/synch.h>,
    <pthread.h>, or <semaphore.h> is not used. If the typedef were allowed, the
    #define below would cause a syntax error. */
@@ -602,9 +595,6 @@
    used. */
 #undef __GETOPT_PREFIX
 
-/* Define to 1 on platforms where this makes time_t a 64-bit type. */
-#undef __MINGW_USE_VC2005_COMPAT
-
 /* Define to the type of a signed integer type of width exactly 32 bits if
    such a type exists and the standard includes do not define it. */
 #undef int32_t
diff -Nur xz-5.8.1/configure xz-5.8.1-irix/configure
--- xz-5.8.1/configure	2025-04-03 11:35:20.000000000 +0000
+++ xz-5.8.1-irix/configure	2025-04-25 14:59:02.423562267 +0000
@@ -1,11 +1,11 @@
 #! /bin/sh
 # Guess values for system-dependent variables and create Makefiles.
-# Generated by GNU Autoconf 2.72 for XZ Utils 5.8.1.
+# Generated by GNU Autoconf 2.71 for XZ Utils 5.8.1.
 #
 # Report bugs to <xz@tukaani.org>.
 #
 #
-# Copyright (C) 1992-1996, 1998-2017, 2020-2023 Free Software Foundation,
+# Copyright (C) 1992-1996, 1998-2017, 2020-2021 Free Software Foundation,
 # Inc.
 #
 #
@@ -17,6 +17,7 @@
 
 # Be more Bourne compatible
 DUALCASE=1; export DUALCASE # for MKS sh
+as_nop=:
 if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
@@ -25,13 +26,12 @@
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
   setopt NO_GLOB_SUBST
-else case e in #(
-  e) case `(set -o) 2>/dev/null` in #(
+else $as_nop
+  case `(set -o) 2>/dev/null` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
-esac ;;
 esac
 fi
 
@@ -103,7 +103,7 @@
 
      ;;
 esac
-# We did not find ourselves, most probably we were run as 'sh COMMAND'
+# We did not find ourselves, most probably we were run as `sh COMMAND'
 # in which case we are not to be found in the path.
 if test "x$as_myself" = x; then
   as_myself=$0
@@ -133,14 +133,15 @@
 esac
 exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
 # Admittedly, this is quite paranoid, since all the known shells bail
-# out after a failed 'exec'.
+# out after a failed `exec'.
 printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
 exit 255
   fi
   # We don't want this to propagate to other subprocesses.
           { _as_can_reexec=; unset _as_can_reexec;}
 if test "x$CONFIG_SHELL" = x; then
-  as_bourne_compatible="if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
+  as_bourne_compatible="as_nop=:
+if test \${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
   NULLCMD=:
@@ -148,13 +149,12 @@
   # is contrary to our usage.  Disable this feature.
   alias -g '\${1+\"\$@\"}'='\"\$@\"'
   setopt NO_GLOB_SUBST
-else case e in #(
-  e) case \`(set -o) 2>/dev/null\` in #(
+else \$as_nop
+  case \`(set -o) 2>/dev/null\` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
-esac ;;
 esac
 fi
 "
@@ -172,9 +172,8 @@
 if ( set x; as_fn_ret_success y && test x = \"\$1\" )
 then :
 
-else case e in #(
-  e) exitcode=1; echo positional parameters were not saved. ;;
-esac
+else \$as_nop
+  exitcode=1; echo positional parameters were not saved.
 fi
 test x\$exitcode = x0 || exit 1
 blah=\$(echo \$(echo blah))
@@ -196,15 +195,14 @@
   if (eval "$as_required") 2>/dev/null
 then :
   as_have_required=yes
-else case e in #(
-  e) as_have_required=no ;;
-esac
+else $as_nop
+  as_have_required=no
 fi
   if test x$as_have_required = xyes && (eval "$as_suggested") 2>/dev/null
 then :
 
-else case e in #(
-  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else $as_nop
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 as_found=false
 for as_dir in /bin$PATH_SEPARATOR/usr/bin$PATH_SEPARATOR$PATH
 do
@@ -237,13 +235,12 @@
 if $as_found
 then :
 
-else case e in #(
-  e) if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
+else $as_nop
+  if { test -f "$SHELL" || test -f "$SHELL.exe"; } &&
 	      as_run=a "$SHELL" -c "$as_bourne_compatible""$as_required" 2>/dev/null
 then :
   CONFIG_SHELL=$SHELL as_have_required=yes
-fi ;;
-esac
+fi
 fi
 
 
@@ -265,7 +262,7 @@
 esac
 exec $CONFIG_SHELL $as_opts "$as_myself" ${1+"$@"}
 # Admittedly, this is quite paranoid, since all the known shells bail
-# out after a failed 'exec'.
+# out after a failed `exec'.
 printf "%s\n" "$0: could not re-execute with $CONFIG_SHELL" >&2
 exit 255
 fi
@@ -285,8 +282,7 @@
 $0: have one."
   fi
   exit 1
-fi ;;
-esac
+fi
 fi
 fi
 SHELL=${CONFIG_SHELL-/bin/sh}
@@ -325,6 +321,14 @@
   as_fn_set_status $1
   exit $1
 } # as_fn_exit
+# as_fn_nop
+# ---------
+# Do nothing but, unlike ":", preserve the value of $?.
+as_fn_nop ()
+{
+  return $?
+}
+as_nop=as_fn_nop
 
 # as_fn_mkdir_p
 # -------------
@@ -393,12 +397,11 @@
   {
     eval $1+=\$2
   }'
-else case e in #(
-  e) as_fn_append ()
+else $as_nop
+  as_fn_append ()
   {
     eval $1=\$$1\$2
-  } ;;
-esac
+  }
 fi # as_fn_append
 
 # as_fn_arith ARG...
@@ -412,14 +415,21 @@
   {
     as_val=$(( $* ))
   }'
-else case e in #(
-  e) as_fn_arith ()
+else $as_nop
+  as_fn_arith ()
   {
     as_val=`expr "$@" || test $? -eq 1`
-  } ;;
-esac
+  }
 fi # as_fn_arith
 
+# as_fn_nop
+# ---------
+# Do nothing but, unlike ":", preserve the value of $?.
+as_fn_nop ()
+{
+  return $?
+}
+as_nop=as_fn_nop
 
 # as_fn_error STATUS ERROR [LINENO LOG_FD]
 # ----------------------------------------
@@ -493,8 +503,6 @@
     /[$]LINENO/=
   ' <$as_myself |
     sed '
-      t clear
-      :clear
       s/[$]LINENO.*/&-/
       t lineno
       b
@@ -543,6 +551,7 @@
 as_echo='printf %s\n'
 as_echo_n='printf %s'
 
+
 rm -f conf$$ conf$$.exe conf$$.file
 if test -d conf$$.dir; then
   rm -f conf$$.dir/conf$$.file
@@ -554,9 +563,9 @@
   if ln -s conf$$.file conf$$ 2>/dev/null; then
     as_ln_s='ln -s'
     # ... but there are two gotchas:
-    # 1) On MSYS, both 'ln -s file dir' and 'ln file dir' fail.
-    # 2) DJGPP < 2.04 has no symlinks; 'ln -s' creates a wrapper executable.
-    # In both cases, we have to default to 'cp -pR'.
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -pR'.
     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
       as_ln_s='cp -pR'
   elif ln conf$$.file conf$$ 2>/dev/null; then
@@ -581,12 +590,10 @@
 as_executable_p=as_fn_executable_p
 
 # Sed expression to map a string onto a valid CPP name.
-as_sed_cpp="y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
-as_tr_cpp="eval sed '$as_sed_cpp'" # deprecated
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
 
 # Sed expression to map a string onto a valid variable name.
-as_sed_sh="y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
-as_tr_sh="eval sed '$as_sed_sh'" # deprecated
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 SHELL=${CONFIG_SHELL-/bin/sh}
 
@@ -653,7 +660,6 @@
 
 ac_header_c_list=
 gt_needs=
-enable_year2038=no
 ac_subst_vars='am__EXEEXT_FALSE
 am__EXEEXT_TRUE
 LTLIBOBJS
@@ -667,8 +673,6 @@
 COND_INTERNAL_SHA256_TRUE
 GETOPT_H
 LIBOBJS
-localedir_c_make
-localedir_c
 POSUB
 LTLIBINTL
 LIBINTL
@@ -709,8 +713,6 @@
 DUMPBIN
 LD
 FGREP
-EGREP
-GREP
 LIBTOOL
 OBJDUMP
 DLLTOOL
@@ -722,6 +724,8 @@
 PTHREAD_CXX
 PTHREAD_CC
 ax_pthread_config
+EGREP
+GREP
 CPP
 SED
 am__fastdepCCAS_FALSE
@@ -746,8 +750,6 @@
 CFLAGS
 CC
 LN_S
-am__xargs_n
-am__rm_f_notfound
 AM_BACKSLASH
 AM_DEFAULT_VERBOSITY
 AM_DEFAULT_V
@@ -976,10 +978,8 @@
 enable_dependency_tracking
 enable_shared
 enable_static
-enable_pic
 with_pic
 enable_fast_install
-enable_aix_soname
 with_aix_soname
 with_gnu_ld
 with_sysroot
@@ -993,7 +993,6 @@
 enable_unaligned_access
 enable_unsafe_type_punning
 enable_werror
-enable_year2038
 '
       ac_precious_vars='build_alias
 host_alias
@@ -1115,7 +1114,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*disable-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid feature name: '$ac_useropt'"
+      as_fn_error $? "invalid feature name: \`$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1141,7 +1140,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*enable-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid feature name: '$ac_useropt'"
+      as_fn_error $? "invalid feature name: \`$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1354,7 +1353,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*with-\([^=]*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid package name: '$ac_useropt'"
+      as_fn_error $? "invalid package name: \`$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1370,7 +1369,7 @@
     ac_useropt=`expr "x$ac_option" : 'x-*without-\(.*\)'`
     # Reject names that are not valid shell variable names.
     expr "x$ac_useropt" : ".*[^-+._$as_cr_alnum]" >/dev/null &&
-      as_fn_error $? "invalid package name: '$ac_useropt'"
+      as_fn_error $? "invalid package name: \`$ac_useropt'"
     ac_useropt_orig=$ac_useropt
     ac_useropt=`printf "%s\n" "$ac_useropt" | sed 's/[-+.]/_/g'`
     case $ac_user_opts in
@@ -1400,8 +1399,8 @@
   | --x-librar=* | --x-libra=* | --x-libr=* | --x-lib=* | --x-li=* | --x-l=*)
     x_libraries=$ac_optarg ;;
 
-  -*) as_fn_error $? "unrecognized option: '$ac_option'
-Try '$0 --help' for more information"
+  -*) as_fn_error $? "unrecognized option: \`$ac_option'
+Try \`$0 --help' for more information"
     ;;
 
   *=*)
@@ -1409,7 +1408,7 @@
     # Reject names that are not valid shell variable names.
     case $ac_envvar in #(
       '' | [0-9]* | *[!_$as_cr_alnum]* )
-      as_fn_error $? "invalid variable name: '$ac_envvar'" ;;
+      as_fn_error $? "invalid variable name: \`$ac_envvar'" ;;
     esac
     eval $ac_envvar=\$ac_optarg
     export $ac_envvar ;;
@@ -1459,7 +1458,7 @@
   as_fn_error $? "expected an absolute directory name for --$ac_var: $ac_val"
 done
 
-# There might be people who depend on the old broken behavior: '$host'
+# There might be people who depend on the old broken behavior: `$host'
 # used to hold the argument of --host etc.
 # FIXME: To remove some day.
 build=$build_alias
@@ -1527,7 +1526,7 @@
   test "$ac_srcdir_defaulted" = yes && srcdir="$ac_confdir or .."
   as_fn_error $? "cannot find sources ($ac_unique_file) in $srcdir"
 fi
-ac_msg="sources are in $srcdir, but 'cd $srcdir' does not work"
+ac_msg="sources are in $srcdir, but \`cd $srcdir' does not work"
 ac_abs_confdir=`(
 	cd "$srcdir" && test -r "./$ac_unique_file" || as_fn_error $? "$ac_msg"
 	pwd)`
@@ -1555,7 +1554,7 @@
   # Omit some internal or obsolete options to make the list less imposing.
   # This message is too long to be a string in the A/UX 3.1 sh.
   cat <<_ACEOF
-'configure' configures XZ Utils 5.8.1 to adapt to many kinds of systems.
+\`configure' configures XZ Utils 5.8.1 to adapt to many kinds of systems.
 
 Usage: $0 [OPTION]... [VAR=VALUE]...
 
@@ -1569,11 +1568,11 @@
       --help=short        display options specific to this package
       --help=recursive    display the short help of all the included packages
   -V, --version           display version information and exit
-  -q, --quiet, --silent   do not print 'checking ...' messages
+  -q, --quiet, --silent   do not print \`checking ...' messages
       --cache-file=FILE   cache test results in FILE [disabled]
-  -C, --config-cache      alias for '--cache-file=config.cache'
+  -C, --config-cache      alias for \`--cache-file=config.cache'
   -n, --no-create         do not create output files
-      --srcdir=DIR        find the sources in DIR [configure dir or '..']
+      --srcdir=DIR        find the sources in DIR [configure dir or \`..']
 
 Installation directories:
   --prefix=PREFIX         install architecture-independent files in PREFIX
@@ -1581,10 +1580,10 @@
   --exec-prefix=EPREFIX   install architecture-dependent files in EPREFIX
                           [PREFIX]
 
-By default, 'make install' will install all the files in
-'$ac_default_prefix/bin', '$ac_default_prefix/lib' etc.  You can specify
-an installation prefix other than '$ac_default_prefix' using '--prefix',
-for instance '--prefix=\$HOME'.
+By default, \`make install' will install all the files in
+\`$ac_default_prefix/bin', \`$ac_default_prefix/lib' etc.  You can specify
+an installation prefix other than \`$ac_default_prefix' using \`--prefix',
+for instance \`--prefix=\$HOME'.
 
 For better control, use the options below.
 
@@ -1707,13 +1706,8 @@
                           speeds up one-time build
   --enable-shared[=PKGS]  build shared libraries [default=yes]
   --enable-static[=PKGS]  build static libraries [default=yes]
-  --enable-pic[=PKGS]     try to use only PIC/non-PIC objects [default=use
-                          both]
   --enable-fast-install[=PKGS]
                           optimize for fast installation [default=yes]
-  --enable-aix-soname=aix|svr4|both
-                          shared library versioning (aka "SONAME") variant to
-                          provide on AIX, [default=aix].
   --disable-libtool-lock  avoid locking (might break parallel builds)
   --enable-symbol-versions
                           Use symbol versioning for liblzma. Enabled by
@@ -1737,11 +1731,15 @@
                           on ARMv6 and ARMv7).
   --enable-werror         Enable -Werror to abort compilation on all compiler
                           warnings.
-  --enable-year2038       support timestamps after 2038
 
 Optional Packages:
   --with-PACKAGE[=ARG]    use PACKAGE [ARG=yes]
   --without-PACKAGE       do not use PACKAGE (same as --with-PACKAGE=no)
+  --with-pic[=PKGS]       try to use only PIC/non-PIC objects [default=use
+                          both]
+  --with-aix-soname=aix|svr4|both
+                          shared library versioning (aka "SONAME") variant to
+                          provide on AIX, [default=aix].
   --with-gnu-ld           assume the C compiler uses GNU ld [default=no]
   --with-sysroot[=DIR]    Search for dependent libraries within DIR (or the
                           compiler's sysroot if not specified).
@@ -1765,7 +1763,7 @@
   LT_SYS_LIBRARY_PATH
               User-defined run-time library search path.
 
-Use these variables to override the choices made by 'configure' or to help
+Use these variables to override the choices made by `configure' or to help
 it to find libraries and programs with nonstandard names/locations.
 
 Report bugs to <xz@tukaani.org>.
@@ -1834,9 +1832,9 @@
 if $ac_init_version; then
   cat <<\_ACEOF
 XZ Utils configure 5.8.1
-generated by GNU Autoconf 2.72
+generated by GNU Autoconf 2.71
 
-Copyright (C) 2023 Free Software Foundation, Inc.
+Copyright (C) 2021 Free Software Foundation, Inc.
 This configure script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it.
 _ACEOF
@@ -1875,12 +1873,11 @@
        } && test -s conftest.$ac_objext
 then :
   ac_retval=0
-else case e in #(
-  e) printf "%s\n" "$as_me: failed program was:" >&5
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_retval=1 ;;
-esac
+	ac_retval=1
 fi
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
@@ -1899,8 +1896,8 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
 #include <$2>
@@ -1908,12 +1905,10 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$3=yes"
-else case e in #(
-  e) eval "$3=no" ;;
-esac
+else $as_nop
+  eval "$3=no"
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -1953,12 +1948,11 @@
        }
 then :
   ac_retval=0
-else case e in #(
-  e) printf "%s\n" "$as_me: failed program was:" >&5
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-	ac_retval=1 ;;
-esac
+	ac_retval=1
 fi
   # Delete the IPA/IPO (Inter Procedural Analysis/Optimization) information
   # created by the PGI compiler (conftest_ipa8_conftest.oo), as it would
@@ -1997,12 +1991,11 @@
        }
 then :
   ac_retval=0
-else case e in #(
-  e) printf "%s\n" "$as_me: failed program was:" >&5
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-    ac_retval=1 ;;
-esac
+    ac_retval=1
 fi
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
   as_fn_set_status $ac_retval
@@ -2020,15 +2013,15 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 /* Define $2 to an innocuous variant, in case <limits.h> declares $2.
    For example, HP-UX 11i <limits.h> declares gettimeofday.  */
 #define $2 innocuous_$2
 
 /* System header to define __stub macros and hopefully few prototypes,
-   which can conflict with char $2 (void); below.  */
+   which can conflict with char $2 (); below.  */
 
 #include <limits.h>
 #undef $2
@@ -2039,7 +2032,7 @@
 #ifdef __cplusplus
 extern "C"
 #endif
-char $2 (void);
+char $2 ();
 /* The GNU C library defines this for functions which it implements
     to always fail with ENOSYS.  Some functions are actually named
     something starting with __ and the normal name is an alias.  */
@@ -2058,13 +2051,11 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$3=yes"
-else case e in #(
-  e) eval "$3=no" ;;
-esac
+else $as_nop
+  eval "$3=no"
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2103,13 +2094,12 @@
   test $ac_status = 0; }; }
 then :
   ac_retval=0
-else case e in #(
-  e) printf "%s\n" "$as_me: program exited with status $ac_status" >&5
+else $as_nop
+  printf "%s\n" "$as_me: program exited with status $ac_status" >&5
        printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-       ac_retval=$ac_status ;;
-esac
+       ac_retval=$ac_status
 fi
   rm -rf conftest.dSYM conftest_ipa8_conftest.oo
   eval $as_lineno_stack; ${as_lineno_stack:+:} unset as_lineno
@@ -2129,8 +2119,8 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) eval "$3=no"
+else $as_nop
+  eval "$3=no"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
@@ -2160,14 +2150,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) eval "$3=yes" ;;
-esac
+else $as_nop
+  eval "$3=yes"
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2188,8 +2176,8 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) eval "$3=no"
+else $as_nop
+  eval "$3=no"
      # Order is important - never check a type that is potentially smaller
      # than half of the expected target width.
      for ac_type in uint$2_t 'unsigned int' 'unsigned long int' \
@@ -2221,12 +2209,10 @@
        if eval test \"x\$"$3"\" = x"no"
 then :
 
-else case e in #(
-  e) break ;;
-esac
+else $as_nop
+  break
 fi
-     done ;;
-esac
+     done
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2247,8 +2233,8 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) eval "$3=no"
+else $as_nop
+  eval "$3=no"
      # Order is important - never check a type that is potentially smaller
      # than half of the expected target width.
      for ac_type in int$2_t 'int' 'long int' \
@@ -2289,13 +2275,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) case $ac_type in #(
+else $as_nop
+  case $ac_type in #(
   int$2_t) :
     eval "$3=yes" ;; #(
   *) :
     eval "$3=\$ac_type" ;;
-esac ;;
 esac
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
@@ -2304,12 +2289,10 @@
        if eval test \"x\$"$3"\" = x"no"
 then :
 
-else case e in #(
-  e) break ;;
-esac
+else $as_nop
+  break
 fi
-     done ;;
-esac
+     done
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2363,19 +2346,18 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_hi=$ac_mid; break
-else case e in #(
-  e) as_fn_arith $ac_mid + 1 && ac_lo=$as_val
+else $as_nop
+  as_fn_arith $ac_mid + 1 && ac_lo=$as_val
 			if test $ac_lo -le $ac_mid; then
 			  ac_lo= ac_hi=
 			  break
 			fi
-			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val ;;
-esac
+			as_fn_arith 2 '*' $ac_mid + 1 && ac_mid=$as_val
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   done
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $4
 int
@@ -2410,23 +2392,20 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_lo=$ac_mid; break
-else case e in #(
-  e) as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
+else $as_nop
+  as_fn_arith '(' $ac_mid ')' - 1 && ac_hi=$as_val
 			if test $ac_mid -le $ac_hi; then
 			  ac_lo= ac_hi=
 			  break
 			fi
-			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val ;;
-esac
+			as_fn_arith 2 '*' $ac_mid && ac_mid=$as_val
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   done
-else case e in #(
-  e) ac_lo= ac_hi= ;;
-esac
+else $as_nop
+  ac_lo= ac_hi=
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 # Binary search between lo and hi bounds.
@@ -2449,9 +2428,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_hi=$ac_mid
-else case e in #(
-  e) as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val ;;
-esac
+else $as_nop
+  as_fn_arith '(' $ac_mid ')' + 1 && ac_lo=$as_val
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 done
@@ -2499,9 +2477,8 @@
 if ac_fn_c_try_run "$LINENO"
 then :
   echo >>conftest.val; read $3 <conftest.val; ac_retval=0
-else case e in #(
-  e) ac_retval=1 ;;
-esac
+else $as_nop
+  ac_retval=1
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
   conftest.$ac_objext conftest.beam conftest.$ac_ext
@@ -2525,8 +2502,8 @@
 if eval test \${$4+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $5
 int
@@ -2542,8 +2519,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$4=yes"
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $5
 int
@@ -2559,15 +2536,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$4=yes"
-else case e in #(
-  e) eval "$4=no" ;;
-esac
+else $as_nop
+  eval "$4=no"
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 eval ac_res=\$$4
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2589,8 +2563,8 @@
 if eval test \${$3+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
+else $as_nop
+  as_decl_use=`echo $2|sed -e 's/(/((/' -e 's/)/) 0&/' -e 's/,/) 0& (/g'`
   eval ac_save_FLAGS=\$$6
   as_fn_append $6 " $5"
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -2614,14 +2588,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   eval "$3=yes"
-else case e in #(
-  e) eval "$3=no" ;;
-esac
+else $as_nop
+  eval "$3=no"
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
   eval $6=\$ac_save_FLAGS
- ;;
-esac
+
 fi
 eval ac_res=\$$3
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -2654,7 +2626,7 @@
 running configure, to aid debugging if configure makes a mistake.
 
 It was created by XZ Utils $as_me 5.8.1, which was
-generated by GNU Autoconf 2.72.  Invocation command line was
+generated by GNU Autoconf 2.71.  Invocation command line was
 
   $ $0$ac_configure_args_raw
 
@@ -2900,10 +2872,10 @@
 printf "%s\n" "$as_me: loading site script $ac_site_file" >&6;}
     sed 's/^/| /' "$ac_site_file" >&5
     . "$ac_site_file" \
-      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+      || { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "failed to load site script $ac_site_file
-See 'config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5; }
   fi
 done
 
@@ -2939,7 +2911,9 @@
 /* Most of the following tests are stolen from RCS 5.7 src/conf.sh.  */
 struct buf { int x; };
 struct buf * (*rcsopen) (struct buf *, struct stat *, int);
-static char *e (char **p, int i)
+static char *e (p, i)
+     char **p;
+     int i;
 {
   return p[i];
 }
@@ -2953,21 +2927,6 @@
   return s;
 }
 
-/* C89 style stringification. */
-#define noexpand_stringify(a) #a
-const char *stringified = noexpand_stringify(arbitrary+token=sequence);
-
-/* C89 style token pasting.  Exercises some of the corner cases that
-   e.g. old MSVC gets wrong, but not very hard. */
-#define noexpand_concat(a,b) a##b
-#define expand_concat(a,b) noexpand_concat(a,b)
-extern int vA;
-extern int vbee;
-#define aye A
-#define bee B
-int *pvA = &expand_concat(v,aye);
-int *pvbee = &noexpand_concat(v,bee);
-
 /* OSF 4.0 Compaq cc is some sort of almost-ANSI by default.  It has
    function prototypes and stuff, but not \xHH hex character constants.
    These do not provoke an error unfortunately, instead are silently treated
@@ -2995,19 +2954,16 @@
 
 # Test code for whether the C compiler supports C99 (global declarations)
 ac_c_conftest_c99_globals='
-/* Does the compiler advertise C99 conformance? */
+// Does the compiler advertise C99 conformance?
 #if !defined __STDC_VERSION__ || __STDC_VERSION__ < 199901L
 # error "Compiler does not advertise C99 conformance"
 #endif
 
-// See if C++-style comments work.
-
 #include <stdbool.h>
 extern int puts (const char *);
 extern int printf (const char *, ...);
 extern int dprintf (int, const char *, ...);
 extern void *malloc (size_t);
-extern void free (void *);
 
 // Check varargs macros.  These examples are taken from C99 6.10.3.5.
 // dprintf is used instead of fprintf to avoid needing to declare
@@ -3057,6 +3013,7 @@
 static inline int
 test_restrict (ccp restrict text)
 {
+  // See if C++-style comments work.
   // Iterate through items via the restricted pointer.
   // Also check for declarations in for loops.
   for (unsigned int i = 0; *(text+i) != '\''\0'\''; ++i)
@@ -3122,8 +3079,6 @@
   ia->datasize = 10;
   for (int i = 0; i < ia->datasize; ++i)
     ia->data[i] = i * 1.234;
-  // Work around memory leak warnings.
-  free (ia);
 
   // Check named initializers.
   struct named_init ni = {
@@ -3145,7 +3100,7 @@
 
 # Test code for whether the C compiler supports C11 (global declarations)
 ac_c_conftest_c11_globals='
-/* Does the compiler advertise C11 conformance? */
+// Does the compiler advertise C11 conformance?
 #if !defined __STDC_VERSION__ || __STDC_VERSION__ < 201112L
 # error "Compiler does not advertise C11 conformance"
 #endif
@@ -3341,9 +3296,8 @@
 if $as_found
 then :
 
-else case e in #(
-  e) as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5 ;;
-esac
+else $as_nop
+  as_fn_error $? "cannot find required auxiliary files:$ac_missing_aux_files" "$LINENO" 5
 fi
 
 
@@ -3371,12 +3325,12 @@
   eval ac_new_val=\$ac_env_${ac_var}_value
   case $ac_old_set,$ac_new_set in
     set,)
-      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' was set to '$ac_old_val' in the previous run" >&5
-printf "%s\n" "$as_me: error: '$ac_var' was set to '$ac_old_val' in the previous run" >&2;}
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' was set to \`$ac_old_val' in the previous run" >&2;}
       ac_cache_corrupted=: ;;
     ,set)
-      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' was not set in the previous run" >&5
-printf "%s\n" "$as_me: error: '$ac_var' was not set in the previous run" >&2;}
+      { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' was not set in the previous run" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' was not set in the previous run" >&2;}
       ac_cache_corrupted=: ;;
     ,);;
     *)
@@ -3385,18 +3339,18 @@
 	ac_old_val_w=`echo x $ac_old_val`
 	ac_new_val_w=`echo x $ac_new_val`
 	if test "$ac_old_val_w" != "$ac_new_val_w"; then
-	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: '$ac_var' has changed since the previous run:" >&5
-printf "%s\n" "$as_me: error: '$ac_var' has changed since the previous run:" >&2;}
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: \`$ac_var' has changed since the previous run:" >&5
+printf "%s\n" "$as_me: error: \`$ac_var' has changed since the previous run:" >&2;}
 	  ac_cache_corrupted=:
 	else
-	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in '$ac_var' since the previous run:" >&5
-printf "%s\n" "$as_me: warning: ignoring whitespace changes in '$ac_var' since the previous run:" >&2;}
+	  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&5
+printf "%s\n" "$as_me: warning: ignoring whitespace changes in \`$ac_var' since the previous run:" >&2;}
 	  eval $ac_var=\$ac_old_val
 	fi
-	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  '$ac_old_val'" >&5
-printf "%s\n" "$as_me:   former value:  '$ac_old_val'" >&2;}
-	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: '$ac_new_val'" >&5
-printf "%s\n" "$as_me:   current value: '$ac_new_val'" >&2;}
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   former value:  \`$ac_old_val'" >&5
+printf "%s\n" "$as_me:   former value:  \`$ac_old_val'" >&2;}
+	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}:   current value: \`$ac_new_val'" >&5
+printf "%s\n" "$as_me:   current value: \`$ac_new_val'" >&2;}
       fi;;
   esac
   # Pass precious variables to config.status.
@@ -3412,11 +3366,11 @@
   fi
 done
 if $ac_cache_corrupted; then
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: changes in the environment can compromise the build" >&5
 printf "%s\n" "$as_me: error: changes in the environment can compromise the build" >&2;}
-  as_fn_error $? "run '${MAKE-make} distclean' and/or 'rm $cache_file'
+  as_fn_error $? "run \`${MAKE-make} distclean' and/or \`rm $cache_file'
 	    and start over" "$LINENO" 5
 fi
 ## -------------------- ##
@@ -3454,16 +3408,15 @@
 if test ${ac_cv_build+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_build_alias=$build_alias
+else $as_nop
+  ac_build_alias=$build_alias
 test "x$ac_build_alias" = x &&
   ac_build_alias=`$SHELL "${ac_aux_dir}config.guess"`
 test "x$ac_build_alias" = x &&
   as_fn_error $? "cannot guess build type; you must specify one" "$LINENO" 5
 ac_cv_build=`$SHELL "${ac_aux_dir}config.sub" $ac_build_alias` ||
   as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $ac_build_alias failed" "$LINENO" 5
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_build" >&5
 printf "%s\n" "$ac_cv_build" >&6; }
@@ -3490,15 +3443,14 @@
 if test ${ac_cv_host+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test "x$host_alias" = x; then
+else $as_nop
+  if test "x$host_alias" = x; then
   ac_cv_host=$ac_cv_build
 else
   ac_cv_host=`$SHELL "${ac_aux_dir}config.sub" $host_alias` ||
     as_fn_error $? "$SHELL ${ac_aux_dir}config.sub $host_alias failed" "$LINENO" 5
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_host" >&5
 printf "%s\n" "$ac_cv_host" >&6; }
@@ -3566,9 +3518,8 @@
 if test ${enable_debug+y}
 then :
   enableval=$enable_debug;
-else case e in #(
-  e) enable_debug=no ;;
-esac
+else $as_nop
+  enable_debug=no
 fi
 
 if test "x$enable_debug" = xyes; then
@@ -3630,9 +3581,8 @@
 if test ${enable_encoders+y}
 then :
   enableval=$enable_encoders;
-else case e in #(
-  e) enable_encoders=lzma1,lzma2,delta,x86,powerpc,ia64,arm,armthumb,arm64,sparc,riscv ;;
-esac
+else $as_nop
+  enable_encoders=lzma1,lzma2,delta,x86,powerpc,ia64,arm,armthumb,arm64,sparc,riscv
 fi
 
 enable_encoders=`echo "$enable_encoders" | sed 's/,/ /g'`
@@ -3741,9 +3691,8 @@
 if test ${enable_decoders+y}
 then :
   enableval=$enable_decoders;
-else case e in #(
-  e) enable_decoders=lzma1,lzma2,delta,x86,powerpc,ia64,arm,armthumb,arm64,sparc,riscv ;;
-esac
+else $as_nop
+  enable_decoders=lzma1,lzma2,delta,x86,powerpc,ia64,arm,armthumb,arm64,sparc,riscv
 fi
 
 enable_decoders=`echo "$enable_decoders" | sed 's/,/ /g'`
@@ -4241,9 +4190,8 @@
 if test ${enable_match_finders+y}
 then :
   enableval=$enable_match_finders;
-else case e in #(
-  e) enable_match_finders=hc3,hc4,bt2,bt3,bt4 ;;
-esac
+else $as_nop
+  enable_match_finders=hc3,hc4,bt2,bt3,bt4
 fi
 
 enable_match_finders=`echo "$enable_match_finders" | sed 's/,/ /g'`
@@ -4316,9 +4264,8 @@
 if test ${enable_checks+y}
 then :
   enableval=$enable_checks;
-else case e in #(
-  e) enable_checks=crc32,crc64,sha256 ;;
-esac
+else $as_nop
+  enable_checks=crc32,crc64,sha256
 fi
 
 enable_checks=`echo "$enable_checks" | sed 's/,/ /g'`
@@ -4392,9 +4339,8 @@
 if test ${enable_external_sha256+y}
 then :
   enableval=$enable_external_sha256;
-else case e in #(
-  e) enable_external_sha256=no ;;
-esac
+else $as_nop
+  enable_external_sha256=no
 fi
 
 if test "x$enable_check_sha256" != "xyes"; then
@@ -4419,9 +4365,8 @@
 if test ${enable_microlzma+y}
 then :
   enableval=$enable_microlzma;
-else case e in #(
-  e) enable_microlzma=yes ;;
-esac
+else $as_nop
+  enable_microlzma=yes
 fi
 
 case $enable_microlzma in
@@ -4455,9 +4400,8 @@
 if test ${enable_lzip_decoder+y}
 then :
   enableval=$enable_lzip_decoder;
-else case e in #(
-  e) enable_lzip_decoder=yes ;;
-esac
+else $as_nop
+  enable_lzip_decoder=yes
 fi
 
 if test "x$enable_decoder_lzma1" != xyes; then
@@ -4494,9 +4438,8 @@
 if test ${enable_assembler+y}
 then :
   enableval=$enable_assembler;
-else case e in #(
-  e) enable_assembler=yes ;;
-esac
+else $as_nop
+  enable_assembler=yes
 fi
 
 if test "x$enable_assembler" = xyes; then
@@ -4547,9 +4490,8 @@
 if test ${enable_clmul_crc+y}
 then :
   enableval=$enable_clmul_crc;
-else case e in #(
-  e) enable_clmul_crc=yes ;;
-esac
+else $as_nop
+  enable_clmul_crc=yes
 fi
 
 
@@ -4562,9 +4504,8 @@
 if test ${enable_arm64_crc32+y}
 then :
   enableval=$enable_arm64_crc32;
-else case e in #(
-  e) enable_arm64_crc32=yes ;;
-esac
+else $as_nop
+  enable_arm64_crc32=yes
 fi
 
 
@@ -4577,9 +4518,8 @@
 if test ${enable_loongarch_crc32+y}
 then :
   enableval=$enable_loongarch_crc32;
-else case e in #(
-  e) enable_loongarch_crc32=yes ;;
-esac
+else $as_nop
+  enable_loongarch_crc32=yes
 fi
 
 
@@ -4594,9 +4534,8 @@
 if test ${enable_small+y}
 then :
   enableval=$enable_small;
-else case e in #(
-  e) enable_small=no ;;
-esac
+else $as_nop
+  enable_small=no
 fi
 
 if test "x$enable_small" = xyes; then
@@ -4630,9 +4569,8 @@
 if test ${enable_threads+y}
 then :
   enableval=$enable_threads;
-else case e in #(
-  e) enable_threads=yes ;;
-esac
+else $as_nop
+  enable_threads=yes
 fi
 
 
@@ -4683,9 +4621,8 @@
 if test ${enable_assume_ram+y}
 then :
   enableval=$enable_assume_ram;
-else case e in #(
-  e) enable_assume_ram=128 ;;
-esac
+else $as_nop
+  enable_assume_ram=128
 fi
 
 assume_ram_check=`echo "$enable_assume_ram" | tr -d 0123456789`
@@ -4709,9 +4646,8 @@
 if test ${enable_xz+y}
 then :
   enableval=$enable_xz;
-else case e in #(
-  e) enable_xz=yes ;;
-esac
+else $as_nop
+  enable_xz=yes
 fi
 
  if test x$enable_xz != xno; then
@@ -4727,9 +4663,8 @@
 if test ${enable_xzdec+y}
 then :
   enableval=$enable_xzdec;
-else case e in #(
-  e) enable_xzdec=yes ;;
-esac
+else $as_nop
+  enable_xzdec=yes
 fi
 
 test "x$enable_decoders" = xno && enable_xzdec=no
@@ -4746,9 +4681,8 @@
 if test ${enable_lzmadec+y}
 then :
   enableval=$enable_lzmadec;
-else case e in #(
-  e) enable_lzmadec=yes ;;
-esac
+else $as_nop
+  enable_lzmadec=yes
 fi
 
 test "x$enable_decoder_lzma1" = xno && enable_lzmadec=no
@@ -4765,9 +4699,8 @@
 if test ${enable_lzmainfo+y}
 then :
   enableval=$enable_lzmainfo;
-else case e in #(
-  e) enable_lzmainfo=yes ;;
-esac
+else $as_nop
+  enable_lzmainfo=yes
 fi
 
 test "x$enable_decoder_lzma1" = xno && enable_lzmainfo=no
@@ -4784,9 +4717,8 @@
 if test ${enable_lzma_links+y}
 then :
   enableval=$enable_lzma_links;
-else case e in #(
-  e) enable_lzma_links=yes ;;
-esac
+else $as_nop
+  enable_lzma_links=yes
 fi
 
  if test x$enable_lzma_links != xno; then
@@ -4802,9 +4734,8 @@
 if test ${enable_scripts+y}
 then :
   enableval=$enable_scripts;
-else case e in #(
-  e) enable_scripts=yes ;;
-esac
+else $as_nop
+  enable_scripts=yes
 fi
 
  if test x$enable_scripts != xno; then
@@ -4820,9 +4751,8 @@
 if test ${enable_doc+y}
 then :
   enableval=$enable_doc;
-else case e in #(
-  e) enable_doc=yes ;;
-esac
+else $as_nop
+  enable_doc=yes
 fi
 
  if test x$enable_doc != xno; then
@@ -4838,9 +4768,8 @@
 if test ${enable_doxygen+y}
 then :
   enableval=$enable_doxygen;
-else case e in #(
-  e) enable_doxygen=no ;;
-esac
+else $as_nop
+  enable_doxygen=no
 fi
 
  if test x$enable_doxygen != xno; then
@@ -4863,9 +4792,8 @@
 if test ${enable_sandbox+y}
 then :
   enableval=$enable_sandbox;
-else case e in #(
-  e) enable_sandbox=auto ;;
-esac
+else $as_nop
+  enable_sandbox=auto
 fi
 
 case $enable_xzdec-$enable_xz-$enable_sandbox in
@@ -4900,14 +4828,13 @@
 if test ${enable_path_for_scripts+y}
 then :
   enableval=$enable_path_for_scripts;
-else case e in #(
-  e)
+else $as_nop
+
 		case $host_os in
 			solaris*) enable_path_for_scripts=/usr/xpg4/bin ;;
 			*)        enable_path_for_scripts= ;;
 		esac
-	 ;;
-esac
+
 fi
 
 if test -n "$enable_path_for_scripts" && test "x$enable_path_for_scripts" != xno ; then
@@ -4939,8 +4866,8 @@
 if test ${gl_cv_posix_shell+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gl_test_posix_shell_script='
+else $as_nop
+  gl_test_posix_shell_script='
        func_return () {
          (exit $1)
        }
@@ -4974,8 +4901,7 @@
            "$gl_cv_posix_shell" -c "$gl_test_posix_shell_script" 2>/dev/null \
              && break;;
        esac
-     done ;;
-esac
+     done
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_posix_shell" >&5
 printf "%s\n" "$gl_cv_posix_shell" >&6; }
@@ -5002,7 +4928,7 @@
 # https://debbugs.gnu.org/cgi/bugreport.cgi?bug=17354
 # The -Wno-unsupported is used to silence warnings about missing
 # "subdir-objects".
-am__api_version='1.17'
+am__api_version='1.16'
 
 
   # Find a good install program.  We prefer a C program (faster),
@@ -5025,8 +4951,8 @@
 if test ${ac_cv_path_install+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else $as_nop
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH
 do
   IFS=$as_save_IFS
@@ -5080,8 +5006,7 @@
 IFS=$as_save_IFS
 
 rm -rf conftest.one conftest.two conftest.dir
- ;;
-esac
+
 fi
   if test ${ac_cv_path_install+y}; then
     INSTALL=$ac_cv_path_install
@@ -5104,165 +5029,6 @@
 
 test -z "$INSTALL_DATA" && INSTALL_DATA='${INSTALL} -m 644'
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether sleep supports fractional seconds" >&5
-printf %s "checking whether sleep supports fractional seconds... " >&6; }
-if test ${am_cv_sleep_fractional_seconds+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if sleep 0.001 2>/dev/null
-then :
-  am_cv_sleep_fractional_seconds=yes
-else case e in #(
-  e) am_cv_sleep_fractional_seconds=no ;;
-esac
-fi
- ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_sleep_fractional_seconds" >&5
-printf "%s\n" "$am_cv_sleep_fractional_seconds" >&6; }
-
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking filesystem timestamp resolution" >&5
-printf %s "checking filesystem timestamp resolution... " >&6; }
-if test ${am_cv_filesystem_timestamp_resolution+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) # Default to the worst case.
-am_cv_filesystem_timestamp_resolution=2
-
-# Only try to go finer than 1 sec if sleep can do it.
-# Don't try 1 sec, because if 0.01 sec and 0.1 sec don't work,
-# - 1 sec is not much of a win compared to 2 sec, and
-# - it takes 2 seconds to perform the test whether 1 sec works.
-#
-# Instead, just use the default 2s on platforms that have 1s resolution,
-# accept the extra 1s delay when using $sleep in the Automake tests, in
-# exchange for not incurring the 2s delay for running the test for all
-# packages.
-#
-am_try_resolutions=
-if test "$am_cv_sleep_fractional_seconds" = yes; then
-  # Even a millisecond often causes a bunch of false positives,
-  # so just try a hundredth of a second. The time saved between .001 and
-  # .01 is not terribly consequential.
-  am_try_resolutions="0.01 0.1 $am_try_resolutions"
-fi
-
-# In order to catch current-generation FAT out, we must *modify* files
-# that already exist; the *creation* timestamp is finer.  Use names
-# that make ls -t sort them differently when they have equal
-# timestamps than when they have distinct timestamps, keeping
-# in mind that ls -t prints the *newest* file first.
-rm -f conftest.ts?
-: > conftest.ts1
-: > conftest.ts2
-: > conftest.ts3
-
-# Make sure ls -t actually works.  Do 'set' in a subshell so we don't
-# clobber the current shell's arguments. (Outer-level square brackets
-# are removed by m4; they're present so that m4 does not expand
-# <dollar><star>; be careful, easy to get confused.)
-if (
-     set X `ls -t conftest.ts[12]` &&
-     {
-       test "$*" != "X conftest.ts1 conftest.ts2" ||
-       test "$*" != "X conftest.ts2 conftest.ts1";
-     }
-); then :; else
-  # If neither matched, then we have a broken ls.  This can happen
-  # if, for instance, CONFIG_SHELL is bash and it inherits a
-  # broken ls alias from the environment.  This has actually
-  # happened.  Such a system could not be considered "sane".
-  printf "%s\n" ""Bad output from ls -t: \"`ls -t conftest.ts[12]`\""" >&5
-  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
-as_fn_error $? "ls -t produces unexpected output.
-Make sure there is not a broken ls alias in your environment.
-See 'config.log' for more details" "$LINENO" 5; }
-fi
-
-for am_try_res in $am_try_resolutions; do
-  # Any one fine-grained sleep might happen to cross the boundary
-  # between two values of a coarser actual resolution, but if we do
-  # two fine-grained sleeps in a row, at least one of them will fall
-  # entirely within a coarse interval.
-  echo alpha > conftest.ts1
-  sleep $am_try_res
-  echo beta > conftest.ts2
-  sleep $am_try_res
-  echo gamma > conftest.ts3
-
-  # We assume that 'ls -t' will make use of high-resolution
-  # timestamps if the operating system supports them at all.
-  if (set X `ls -t conftest.ts?` &&
-      test "$2" = conftest.ts3 &&
-      test "$3" = conftest.ts2 &&
-      test "$4" = conftest.ts1); then
-    #
-    # Ok, ls -t worked. If we're at a resolution of 1 second, we're done,
-    # because we don't need to test make.
-    make_ok=true
-    if test $am_try_res != 1; then
-      # But if we've succeeded so far with a subsecond resolution, we
-      # have one more thing to check: make. It can happen that
-      # everything else supports the subsecond mtimes, but make doesn't;
-      # notably on macOS, which ships make 3.81 from 2006 (the last one
-      # released under GPLv2). https://bugs.gnu.org/68808
-      #
-      # We test $MAKE if it is defined in the environment, else "make".
-      # It might get overridden later, but our hope is that in practice
-      # it does not matter: it is the system "make" which is (by far)
-      # the most likely to be broken, whereas if the user overrides it,
-      # probably they did so with a better, or at least not worse, make.
-      # https://lists.gnu.org/archive/html/automake/2024-06/msg00051.html
-      #
-      # Create a Makefile (real tab character here):
-      rm -f conftest.mk
-      echo 'conftest.ts1: conftest.ts2' >conftest.mk
-      echo '	touch conftest.ts2' >>conftest.mk
-      #
-      # Now, running
-      #   touch conftest.ts1; touch conftest.ts2; make
-      # should touch ts1 because ts2 is newer. This could happen by luck,
-      # but most often, it will fail if make's support is insufficient. So
-      # test for several consecutive successes.
-      #
-      # (We reuse conftest.ts[12] because we still want to modify existing
-      # files, not create new ones, per above.)
-      n=0
-      make=${MAKE-make}
-      until test $n -eq 3; do
-        echo one > conftest.ts1
-        sleep $am_try_res
-        echo two > conftest.ts2 # ts2 should now be newer than ts1
-        if $make -f conftest.mk | grep 'up to date' >/dev/null; then
-          make_ok=false
-          break # out of $n loop
-        fi
-        n=`expr $n + 1`
-      done
-    fi
-    #
-    if $make_ok; then
-      # Everything we know to check worked out, so call this resolution good.
-      am_cv_filesystem_timestamp_resolution=$am_try_res
-      break # out of $am_try_res loop
-    fi
-    # Otherwise, we'll go on to check the next resolution.
-  fi
-done
-rm -f conftest.ts?
-# (end _am_filesystem_timestamp_resolution)
- ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_filesystem_timestamp_resolution" >&5
-printf "%s\n" "$am_cv_filesystem_timestamp_resolution" >&6; }
-
-# This check should not be cached, as it may vary across builds of
-# different projects.
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether build environment is sane" >&5
 printf %s "checking whether build environment is sane... " >&6; }
 # Reject unsafe characters in $srcdir or the absolute working directory
@@ -5283,45 +5049,49 @@
 # symlink; some systems play weird games with the mod time of symlinks
 # (eg FreeBSD returns the mod time of the symlink's containing
 # directory).
-am_build_env_is_sane=no
-am_has_slept=no
-rm -f conftest.file
-for am_try in 1 2; do
-  echo "timestamp, slept: $am_has_slept" > conftest.file
-  if (
-    set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
-    if test "$*" = "X"; then
-      # -L didn't work.
-      set X `ls -t "$srcdir/configure" conftest.file`
-    fi
-    test "$2" = conftest.file
-  ); then
-    am_build_env_is_sane=yes
-    break
-  fi
-  # Just in case.
-  sleep "$am_cv_filesystem_timestamp_resolution"
-  am_has_slept=yes
-done
+if (
+   am_has_slept=no
+   for am_try in 1 2; do
+     echo "timestamp, slept: $am_has_slept" > conftest.file
+     set X `ls -Lt "$srcdir/configure" conftest.file 2> /dev/null`
+     if test "$*" = "X"; then
+	# -L didn't work.
+	set X `ls -t "$srcdir/configure" conftest.file`
+     fi
+     if test "$*" != "X $srcdir/configure conftest.file" \
+	&& test "$*" != "X conftest.file $srcdir/configure"; then
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_build_env_is_sane" >&5
-printf "%s\n" "$am_build_env_is_sane" >&6; }
-if test "$am_build_env_is_sane" = no; then
-  as_fn_error $? "newly created file is older than distributed files!
+	# If neither matched, then we have a broken ls.  This can happen
+	# if, for instance, CONFIG_SHELL is bash and it inherits a
+	# broken ls alias from the environment.  This has actually
+	# happened.  Such a system could not be considered "sane".
+	as_fn_error $? "ls -t appears to fail.  Make sure there is not a broken
+  alias in your environment" "$LINENO" 5
+     fi
+     if test "$2" = conftest.file || test $am_try -eq 2; then
+       break
+     fi
+     # Just in case.
+     sleep 1
+     am_has_slept=yes
+   done
+   test "$2" = conftest.file
+   )
+then
+   # Ok.
+   :
+else
+   as_fn_error $? "newly created file is older than distributed files!
 Check your system clock" "$LINENO" 5
 fi
-
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
 # If we didn't sleep, we still need to ensure time stamps of config.status and
 # generated files are strictly newer.
 am_sleep_pid=
-if test -e conftest.file || grep 'slept: no' conftest.file >/dev/null 2>&1
-then :
-
-else case e in #(
-  e)   ( sleep "$am_cv_filesystem_timestamp_resolution" ) &
+if grep 'slept: no' conftest.file >/dev/null 2>&1; then
+  ( sleep 1 ) &
   am_sleep_pid=$!
- ;;
-esac
 fi
 
 rm -f conftest.file
@@ -5332,7 +5102,7 @@
 test "$program_suffix" != NONE &&
   program_transform_name="s&\$&$program_suffix&;$program_transform_name"
 # Double any \ or $.
-# By default was 's,x,x', remove it if useless.
+# By default was `s,x,x', remove it if useless.
 ac_script='s/[\\$]/&&/g;s/;s,x,x,$//'
 program_transform_name=`printf "%s\n" "$program_transform_name" | sed "$ac_script"`
 
@@ -5375,8 +5145,8 @@
 if test ${ac_cv_prog_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$STRIP"; then
+else $as_nop
+  if test -n "$STRIP"; then
   ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5398,8 +5168,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 STRIP=$ac_cv_prog_STRIP
 if test -n "$STRIP"; then
@@ -5421,8 +5190,8 @@
 if test ${ac_cv_prog_ac_ct_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_STRIP"; then
+else $as_nop
+  if test -n "$ac_ct_STRIP"; then
   ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5444,8 +5213,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
 if test -n "$ac_ct_STRIP"; then
@@ -5481,8 +5249,8 @@
   if test ${ac_cv_path_mkdir+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+else $as_nop
+  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/opt/sfw/bin
 do
   IFS=$as_save_IFS
@@ -5496,7 +5264,7 @@
 	   as_fn_executable_p "$as_dir$ac_prog$ac_exec_ext" || continue
 	   case `"$as_dir$ac_prog$ac_exec_ext" --version 2>&1` in #(
 	     'mkdir ('*'coreutils) '* | \
-	     *'BusyBox '* | \
+	     'BusyBox '* | \
 	     'mkdir (fileutils) '4.1*)
 	       ac_cv_path_mkdir=$as_dir$ac_prog$ac_exec_ext
 	       break 3;;
@@ -5505,17 +5273,18 @@
        done
   done
 IFS=$as_save_IFS
- ;;
-esac
+
 fi
 
   test -d ./--version && rmdir ./--version
   if test ${ac_cv_path_mkdir+y}; then
     MKDIR_P="$ac_cv_path_mkdir -p"
   else
-    # As a last resort, use plain mkdir -p,
-    # in the hope it doesn't have the bugs of ancient mkdir.
-    MKDIR_P='mkdir -p'
+    # As a last resort, use the slow shell script.  Don't cache a
+    # value for MKDIR_P within a source directory, because that will
+    # break other packages using the cache if that directory is
+    # removed, or if the value is a relative name.
+    MKDIR_P="$ac_install_sh -d"
   fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $MKDIR_P" >&5
@@ -5530,8 +5299,8 @@
 if test ${ac_cv_prog_AWK+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$AWK"; then
+else $as_nop
+  if test -n "$AWK"; then
   ac_cv_prog_AWK="$AWK" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5553,8 +5322,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 AWK=$ac_cv_prog_AWK
 if test -n "$AWK"; then
@@ -5576,8 +5344,8 @@
 if eval test \${ac_cv_prog_make_${ac_make}_set+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat >conftest.make <<\_ACEOF
+else $as_nop
+  cat >conftest.make <<\_ACEOF
 SHELL = /bin/sh
 all:
 	@echo '@@@%%%=$(MAKE)=@@@%%%'
@@ -5589,8 +5357,7 @@
   *)
     eval ac_cv_prog_make_${ac_make}_set=no;;
 esac
-rm -f conftest.make ;;
-esac
+rm -f conftest.make
 fi
 if eval test \$ac_cv_prog_make_${ac_make}_set = yes; then
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
@@ -5611,21 +5378,25 @@
 fi
 rmdir .tst 2>/dev/null
 
-AM_DEFAULT_VERBOSITY=1
 # Check whether --enable-silent-rules was given.
 if test ${enable_silent_rules+y}
 then :
   enableval=$enable_silent_rules;
 fi
 
+case $enable_silent_rules in # (((
+  yes) AM_DEFAULT_VERBOSITY=0;;
+   no) AM_DEFAULT_VERBOSITY=1;;
+    *) AM_DEFAULT_VERBOSITY=1;;
+esac
 am_make=${MAKE-make}
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether $am_make supports nested variables" >&5
 printf %s "checking whether $am_make supports nested variables... " >&6; }
 if test ${am_cv_make_support_nested_variables+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if printf "%s\n" 'TRUE=$(BAR$(V))
+else $as_nop
+  if printf "%s\n" 'TRUE=$(BAR$(V))
 BAR0=false
 BAR1=true
 V=1
@@ -5635,49 +5406,18 @@
   am_cv_make_support_nested_variables=yes
 else
   am_cv_make_support_nested_variables=no
-fi ;;
-esac
+fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_make_support_nested_variables" >&5
 printf "%s\n" "$am_cv_make_support_nested_variables" >&6; }
-AM_BACKSLASH='\'
-
-am__rm_f_notfound=
-if (rm -f && rm -fr && rm -rf) 2>/dev/null
-then :
-
-else case e in #(
-  e) am__rm_f_notfound='""' ;;
-esac
-fi
-
-
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking xargs -n works" >&5
-printf %s "checking xargs -n works... " >&6; }
-if test ${am_cv_xargs_n_works+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if test "`echo 1 2 3 | xargs -n2 echo`" = "1 2
-3"
-then :
-  am_cv_xargs_n_works=yes
-else case e in #(
-  e) am_cv_xargs_n_works=no ;;
-esac
-fi ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_xargs_n_works" >&5
-printf "%s\n" "$am_cv_xargs_n_works" >&6; }
-if test "$am_cv_xargs_n_works" = yes
-then :
-  am__xargs_n='xargs -n'
-else case e in #(
-  e)   am__xargs_n='am__xargs_n () { shift; sed "s/ /\\n/g" | while read am__xargs_n_arg; do "" "$am__xargs_n_arg"; done; }'
- ;;
-esac
+if test $am_cv_make_support_nested_variables = yes; then
+    AM_V='$(V)'
+  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
+else
+  AM_V=$AM_DEFAULT_VERBOSITY
+  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
 fi
+AM_BACKSLASH='\'
 
 if test "`cd $srcdir && pwd`" != "`pwd`"; then
   # Use -I$(srcdir) only when $(srcdir) != ., so that make's output
@@ -5762,9 +5502,47 @@
 
 
 
+# POSIX will say in a future version that running "rm -f" with no argument
+# is OK; and we want to be able to make that assumption in our Makefile
+# recipes.  So use an aggressive probe to check that the usage we want is
+# actually supported "in the wild" to an acceptable degree.
+# See automake bug#10828.
+# To make any issue more visible, cause the running configure to be aborted
+# by default if the 'rm' program in use doesn't match our expectations; the
+# user can still override this though.
+if rm -f && rm -fr && rm -rf; then : OK; else
+  cat >&2 <<'END'
+Oops!
+
+Your 'rm' program seems unable to run without file operands specified
+on the command line, even when the '-f' option is present.  This is contrary
+to the behaviour of most rm programs out there, and not conforming with
+the upcoming POSIX standard: <http://austingroupbugs.net/view.php?id=542>
+
+Please tell bug-automake@gnu.org about your system, including the value
+of your $PATH and any error possibly output before this message.  This
+can help us improve future automake versions.
 
+END
+  if test x"$ACCEPT_INFERIOR_RM_PROGRAM" = x"yes"; then
+    echo 'Configuration will proceed anyway, since you have set the' >&2
+    echo 'ACCEPT_INFERIOR_RM_PROGRAM variable to "yes"' >&2
+    echo >&2
+  else
+    cat >&2 <<'END'
+Aborting the configuration process, to ensure you take notice of the issue.
 
+You can download and install GNU coreutils to get an 'rm' implementation
+that behaves properly: <https://www.gnu.org/software/coreutils/>.
 
+If you want to complete the configuration process using your problematic
+'rm' anyway, export the environment variable ACCEPT_INFERIOR_RM_PROGRAM
+to "yes", and re-run configure.
+
+END
+    as_fn_error $? "Your 'rm' program is bad, sorry." "$LINENO" 5
+  fi
+fi
 
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether ln -s works" >&5
 printf %s "checking whether ln -s works... " >&6; }
@@ -5864,8 +5642,8 @@
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$CC"; then
+else $as_nop
+  if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5887,8 +5665,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -5910,8 +5687,8 @@
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_CC"; then
+else $as_nop
+  if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5933,8 +5710,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -5969,8 +5745,8 @@
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$CC"; then
+else $as_nop
+  if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -5992,8 +5768,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6015,8 +5790,8 @@
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$CC"; then
+else $as_nop
+  if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
   ac_prog_rejected=no
@@ -6055,8 +5830,7 @@
     ac_cv_prog_CC="$as_dir$ac_word${1+' '}$@"
   fi
 fi
-fi ;;
-esac
+fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6080,8 +5854,8 @@
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$CC"; then
+else $as_nop
+  if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6103,8 +5877,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6130,8 +5903,8 @@
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_CC"; then
+else $as_nop
+  if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6153,8 +5926,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -6192,8 +5964,8 @@
 if test ${ac_cv_prog_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$CC"; then
+else $as_nop
+  if test -n "$CC"; then
   ac_cv_prog_CC="$CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6215,8 +5987,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 CC=$ac_cv_prog_CC
 if test -n "$CC"; then
@@ -6238,8 +6009,8 @@
 if test ${ac_cv_prog_ac_ct_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_CC"; then
+else $as_nop
+  if test -n "$ac_ct_CC"; then
   ac_cv_prog_ac_ct_CC="$ac_ct_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -6261,8 +6032,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_CC=$ac_cv_prog_ac_ct_CC
 if test -n "$ac_ct_CC"; then
@@ -6291,10 +6061,10 @@
 fi
 
 
-test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+test -z "$CC" && { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "no acceptable C compiler found in \$PATH
-See 'config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5; }
 
 # Provide some information about the compiler.
 printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler version" >&5
@@ -6366,8 +6136,8 @@
   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
 then :
-  # Autoconf-2.13 could set the ac_cv_exeext variable to 'no'.
-# So ignore a value of 'no', otherwise this would lead to 'EXEEXT = no'
+  # Autoconf-2.13 could set the ac_cv_exeext variable to `no'.
+# So ignore a value of `no', otherwise this would lead to `EXEEXT = no'
 # in a Makefile.  We should not override ac_cv_exeext if it was cached,
 # so that the user can short-circuit this test for compilers unknown to
 # Autoconf.
@@ -6387,7 +6157,7 @@
 	   ac_cv_exeext=`expr "$ac_file" : '[^.]*\(\..*\)'`
 	fi
 	# We set ac_cv_exeext here because the later test for it is not
-	# safe: cross compilers may not add the suffix if given an '-o'
+	# safe: cross compilers may not add the suffix if given an `-o'
 	# argument, so we may need to know it at that point already.
 	# Even if this section looks crufty: it has the advantage of
 	# actually working.
@@ -6398,9 +6168,8 @@
 done
 test "$ac_cv_exeext" = no && ac_cv_exeext=
 
-else case e in #(
-  e) ac_file='' ;;
-esac
+else $as_nop
+  ac_file=''
 fi
 if test -z "$ac_file"
 then :
@@ -6409,14 +6178,13 @@
 printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "C compiler cannot create executables
-See 'config.log' for more details" "$LINENO" 5; }
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
-printf "%s\n" "yes" >&6; } ;;
-esac
+See \`config.log' for more details" "$LINENO" 5; }
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
+printf "%s\n" "yes" >&6; }
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for C compiler default output file name" >&5
 printf %s "checking for C compiler default output file name... " >&6; }
@@ -6440,10 +6208,10 @@
   printf "%s\n" "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }
 then :
-  # If both 'conftest.exe' and 'conftest' are 'present' (well, observable)
-# catch 'conftest.exe'.  For instance with Cygwin, 'ls conftest' will
-# work properly (i.e., refer to 'conftest.exe'), while it won't with
-# 'rm'.
+  # If both `conftest.exe' and `conftest' are `present' (well, observable)
+# catch `conftest.exe'.  For instance with Cygwin, `ls conftest' will
+# work properly (i.e., refer to `conftest.exe'), while it won't with
+# `rm'.
 for ac_file in conftest.exe conftest conftest.*; do
   test -f "$ac_file" || continue
   case $ac_file in
@@ -6453,12 +6221,11 @@
     * ) break;;
   esac
 done
-else case e in #(
-  e) { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of executables: cannot compile and link
-See 'config.log' for more details" "$LINENO" 5; } ;;
-esac
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 rm -f conftest conftest$ac_cv_exeext
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_exeext" >&5
@@ -6474,8 +6241,6 @@
 main (void)
 {
 FILE *f = fopen ("conftest.out", "w");
- if (!f)
-  return 1;
  return ferror (f) || fclose (f) != 0;
 
   ;
@@ -6515,27 +6280,26 @@
     if test "$cross_compiling" = maybe; then
 	cross_compiling=yes
     else
-	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+	{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot run C compiled programs.
-If you meant to cross compile, use '--host'.
-See 'config.log' for more details" "$LINENO" 5; }
+If you meant to cross compile, use \`--host'.
+See \`config.log' for more details" "$LINENO" 5; }
     fi
   fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $cross_compiling" >&5
 printf "%s\n" "$cross_compiling" >&6; }
 
-rm -f conftest.$ac_ext conftest$ac_cv_exeext \
-  conftest.o conftest.obj conftest.out
+rm -f conftest.$ac_ext conftest$ac_cv_exeext conftest.out
 ac_clean_files=$ac_clean_files_save
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for suffix of object files" >&5
 printf %s "checking for suffix of object files... " >&6; }
 if test ${ac_cv_objext+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6567,18 +6331,16 @@
        break;;
   esac
 done
-else case e in #(
-  e) printf "%s\n" "$as_me: failed program was:" >&5
+else $as_nop
+  printf "%s\n" "$as_me: failed program was:" >&5
 sed 's/^/| /' conftest.$ac_ext >&5
 
-{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+{ { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot compute suffix of object files: cannot compile
-See 'config.log' for more details" "$LINENO" 5; } ;;
-esac
+See \`config.log' for more details" "$LINENO" 5; }
 fi
-rm -f conftest.$ac_cv_objext conftest.$ac_ext ;;
-esac
+rm -f conftest.$ac_cv_objext conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_objext" >&5
 printf "%s\n" "$ac_cv_objext" >&6; }
@@ -6589,8 +6351,8 @@
 if test ${ac_cv_c_compiler_gnu+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6607,14 +6369,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_compiler_gnu=yes
-else case e in #(
-  e) ac_compiler_gnu=no ;;
-esac
+else $as_nop
+  ac_compiler_gnu=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 ac_cv_c_compiler_gnu=$ac_compiler_gnu
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_compiler_gnu" >&5
 printf "%s\n" "$ac_cv_c_compiler_gnu" >&6; }
@@ -6632,8 +6392,8 @@
 if test ${ac_cv_prog_cc_g+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_save_c_werror_flag=$ac_c_werror_flag
+else $as_nop
+  ac_save_c_werror_flag=$ac_c_werror_flag
    ac_c_werror_flag=yes
    ac_cv_prog_cc_g=no
    CFLAGS="-g"
@@ -6651,8 +6411,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_prog_cc_g=yes
-else case e in #(
-  e) CFLAGS=""
+else $as_nop
+  CFLAGS=""
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -6667,8 +6427,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) ac_c_werror_flag=$ac_save_c_werror_flag
+else $as_nop
+  ac_c_werror_flag=$ac_save_c_werror_flag
 	 CFLAGS="-g"
 	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6685,15 +6445,12 @@
 then :
   ac_cv_prog_cc_g=yes
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-   ac_c_werror_flag=$ac_save_c_werror_flag ;;
-esac
+   ac_c_werror_flag=$ac_save_c_werror_flag
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_g" >&5
 printf "%s\n" "$ac_cv_prog_cc_g" >&6; }
@@ -6720,8 +6477,8 @@
 if test ${ac_cv_prog_cc_c11+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_cv_prog_cc_c11=no
+else $as_nop
+  ac_cv_prog_cc_c11=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6738,28 +6495,25 @@
   test "x$ac_cv_prog_cc_c11" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC ;;
-esac
+CC=$ac_save_CC
 fi
 
 if test "x$ac_cv_prog_cc_c11" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else case e in #(
-  e) if test "x$ac_cv_prog_cc_c11" = x
+else $as_nop
+  if test "x$ac_cv_prog_cc_c11" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c11" >&5
 printf "%s\n" "$ac_cv_prog_cc_c11" >&6; }
-     CC="$CC $ac_cv_prog_cc_c11" ;;
-esac
+     CC="$CC $ac_cv_prog_cc_c11"
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c11
-  ac_prog_cc_stdc=c11 ;;
-esac
+  ac_prog_cc_stdc=c11
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -6769,8 +6523,8 @@
 if test ${ac_cv_prog_cc_c99+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_cv_prog_cc_c99=no
+else $as_nop
+  ac_cv_prog_cc_c99=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6787,28 +6541,25 @@
   test "x$ac_cv_prog_cc_c99" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC ;;
-esac
+CC=$ac_save_CC
 fi
 
 if test "x$ac_cv_prog_cc_c99" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else case e in #(
-  e) if test "x$ac_cv_prog_cc_c99" = x
+else $as_nop
+  if test "x$ac_cv_prog_cc_c99" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c99" >&5
 printf "%s\n" "$ac_cv_prog_cc_c99" >&6; }
-     CC="$CC $ac_cv_prog_cc_c99" ;;
-esac
+     CC="$CC $ac_cv_prog_cc_c99"
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c99
-  ac_prog_cc_stdc=c99 ;;
-esac
+  ac_prog_cc_stdc=c99
 fi
 fi
 if test x$ac_prog_cc_stdc = xno
@@ -6818,8 +6569,8 @@
 if test ${ac_cv_prog_cc_c89+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_cv_prog_cc_c89=no
+else $as_nop
+  ac_cv_prog_cc_c89=no
 ac_save_CC=$CC
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -6836,28 +6587,25 @@
   test "x$ac_cv_prog_cc_c89" != "xno" && break
 done
 rm -f conftest.$ac_ext
-CC=$ac_save_CC ;;
-esac
+CC=$ac_save_CC
 fi
 
 if test "x$ac_cv_prog_cc_c89" = xno
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: unsupported" >&5
 printf "%s\n" "unsupported" >&6; }
-else case e in #(
-  e) if test "x$ac_cv_prog_cc_c89" = x
+else $as_nop
+  if test "x$ac_cv_prog_cc_c89" = x
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: none needed" >&5
 printf "%s\n" "none needed" >&6; }
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_prog_cc_c89" >&5
 printf "%s\n" "$ac_cv_prog_cc_c89" >&6; }
-     CC="$CC $ac_cv_prog_cc_c89" ;;
-esac
+     CC="$CC $ac_cv_prog_cc_c89"
 fi
   ac_cv_prog_cc_stdc=$ac_cv_prog_cc_c89
-  ac_prog_cc_stdc=c89 ;;
-esac
+  ac_prog_cc_stdc=c89
 fi
 fi
 
@@ -6878,8 +6626,8 @@
 if test ${am_cv_prog_cc_c_o+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -6909,8 +6657,7 @@
     fi
   done
   rm -f core conftest*
-  unset am_i ;;
-esac
+  unset am_i
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_prog_cc_c_o" >&5
 printf "%s\n" "$am_cv_prog_cc_c_o" >&6; }
@@ -6936,8 +6683,8 @@
 if test ${am_cv_CC_dependencies_compiler_type+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+else $as_nop
+  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
   # We make a subdir and do the tests there.  Otherwise we can end up
   # making bogus files that we don't know about and never remove.  For
   # instance it was reported that on HP-UX the gcc test will end up
@@ -7024,7 +6771,7 @@
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
-      # When given -MP, icc 7.0 and 7.1 complain thus:
+      # When given -MP, icc 7.0 and 7.1 complain thusly:
       #   icc: Command line warning: ignoring option '-M'; no argument required
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
@@ -7041,8 +6788,7 @@
 else
   am_cv_CC_dependencies_compiler_type=none
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CC_dependencies_compiler_type" >&5
 printf "%s\n" "$am_cv_CC_dependencies_compiler_type" >&6; }
@@ -7079,8 +6825,8 @@
 if test ${am_cv_CCAS_dependencies_compiler_type+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
+else $as_nop
+  if test -z "$AMDEP_TRUE" && test -f "$am_depcomp"; then
   # We make a subdir and do the tests there.  Otherwise we can end up
   # making bogus files that we don't know about and never remove.  For
   # instance it was reported that on HP-UX the gcc test will end up
@@ -7165,7 +6911,7 @@
       # icc doesn't choke on unknown options, it will just issue warnings
       # or remarks (even with -Werror).  So we grep stderr for any message
       # that says an option was ignored or not supported.
-      # When given -MP, icc 7.0 and 7.1 complain thus:
+      # When given -MP, icc 7.0 and 7.1 complain thusly:
       #   icc: Command line warning: ignoring option '-M'; no argument required
       # The diagnosis changed in icc 8.0:
       #   icc: Command line remark: option '-MP' not supported
@@ -7182,8 +6928,7 @@
 else
   am_cv_CCAS_dependencies_compiler_type=none
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_CCAS_dependencies_compiler_type" >&5
 printf "%s\n" "$am_cv_CCAS_dependencies_compiler_type" >&6; }
@@ -7241,8 +6986,8 @@
 if test ${ac_cv_safe_to_define___extensions__+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #         define __EXTENSIONS__ 1
@@ -7258,12 +7003,10 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_safe_to_define___extensions__=yes
-else case e in #(
-  e) ac_cv_safe_to_define___extensions__=no ;;
-esac
+else $as_nop
+  ac_cv_safe_to_define___extensions__=no
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_safe_to_define___extensions__" >&5
 printf "%s\n" "$ac_cv_safe_to_define___extensions__" >&6; }
@@ -7273,8 +7016,8 @@
 if test ${ac_cv_should_define__xopen_source+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_cv_should_define__xopen_source=no
+else $as_nop
+  ac_cv_should_define__xopen_source=no
     if test $ac_cv_header_wchar_h = yes
 then :
   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -7293,8 +7036,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
             #define _XOPEN_SOURCE 500
@@ -7312,12 +7055,10 @@
 then :
   ac_cv_should_define__xopen_source=yes
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-fi ;;
-esac
+fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_should_define__xopen_source" >&5
 printf "%s\n" "$ac_cv_should_define__xopen_source" >&6; }
@@ -7342,8 +7083,6 @@
 
   printf "%s\n" "#define __STDC_WANT_IEC_60559_DFP_EXT__ 1" >>confdefs.h
 
-  printf "%s\n" "#define __STDC_WANT_IEC_60559_EXT__ 1" >>confdefs.h
-
   printf "%s\n" "#define __STDC_WANT_IEC_60559_FUNCS_EXT__ 1" >>confdefs.h
 
   printf "%s\n" "#define __STDC_WANT_IEC_60559_TYPES_EXT__ 1" >>confdefs.h
@@ -7363,9 +7102,8 @@
 
     printf "%s\n" "#define _POSIX_1_SOURCE 2" >>confdefs.h
 
-else case e in #(
-  e) MINIX= ;;
-esac
+else $as_nop
+  MINIX=
 fi
   if test $ac_cv_safe_to_define___extensions__ = yes
 then :
@@ -7398,8 +7136,8 @@
 		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
 		as_fn_error $? "
@@ -7412,8 +7150,7 @@
     In case you really want to continue with the current CFLAGS, pass
     'SKIP_WERROR_CHECK=yes' as an argument to 'configure'.
 		" "$LINENO" 5
-	 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 	CFLAGS=$OLD_CFLAGS
@@ -7424,8 +7161,8 @@
 if test ${ac_cv_path_SED+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)           ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
+else $as_nop
+            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
      for ac_i in 1 2 3 4 5 6 7; do
        ac_script="$ac_script$as_nl$ac_script"
      done
@@ -7450,10 +7187,9 @@
       as_fn_executable_p "$ac_path_SED" || continue
 # Check for GNU ac_path_SED and select it if it is found.
   # Check for GNU $ac_path_SED
-case `"$ac_path_SED" --version 2>&1` in #(
+case `"$ac_path_SED" --version 2>&1` in
 *GNU*)
   ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
-#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -7488,8 +7224,7 @@
 else
   ac_cv_path_SED=$SED
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
 printf "%s\n" "$ac_cv_path_SED" >&6; }
@@ -7511,8 +7246,8 @@
   if test ${ac_cv_prog_CPP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)     # Double quotes because $CC needs to be expanded
+else $as_nop
+      # Double quotes because $CC needs to be expanded
     for CPP in "$CC -E" "$CC -E -traditional-cpp" cpp /lib/cpp
     do
       ac_preproc_ok=false
@@ -7530,10 +7265,9 @@
 if ac_fn_c_try_cpp "$LINENO"
 then :
 
-else case e in #(
-  e) # Broken: fails on valid input.
-continue ;;
-esac
+else $as_nop
+  # Broken: fails on valid input.
+continue
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
@@ -7547,16 +7281,15 @@
 then :
   # Broken: success on invalid input.
 continue
-else case e in #(
-  e) # Passes both tests.
+else $as_nop
+  # Passes both tests.
 ac_preproc_ok=:
-break ;;
-esac
+break
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
-# Because of 'break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
 rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok
 then :
@@ -7565,8 +7298,7 @@
 
     done
     ac_cv_prog_CPP=$CPP
-   ;;
-esac
+
 fi
   CPP=$ac_cv_prog_CPP
 else
@@ -7589,10 +7321,9 @@
 if ac_fn_c_try_cpp "$LINENO"
 then :
 
-else case e in #(
-  e) # Broken: fails on valid input.
-continue ;;
-esac
+else $as_nop
+  # Broken: fails on valid input.
+continue
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
@@ -7606,26 +7337,24 @@
 then :
   # Broken: success on invalid input.
 continue
-else case e in #(
-  e) # Passes both tests.
+else $as_nop
+  # Passes both tests.
 ac_preproc_ok=:
-break ;;
-esac
+break
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
 done
-# Because of 'break', _AC_PREPROC_IFELSE's cleaning code was skipped.
+# Because of `break', _AC_PREPROC_IFELSE's cleaning code was skipped.
 rm -f conftest.i conftest.err conftest.$ac_ext
 if $ac_preproc_ok
 then :
 
-else case e in #(
-  e) { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+else $as_nop
+  { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "C preprocessor \"$CPP\" fails sanity check
-See 'config.log' for more details" "$LINENO" 5; } ;;
-esac
+See \`config.log' for more details" "$LINENO" 5; }
 fi
 
 ac_ext=c
@@ -7635,14 +7364,14 @@
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
 
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep -e" >&5
-printf %s "checking for egrep -e... " >&6; }
-if test ${ac_cv_path_EGREP_TRADITIONAL+y}
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
+printf %s "checking for grep that handles long lines and -e... " >&6; }
+if test ${ac_cv_path_GREP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -z "$EGREP_TRADITIONAL"; then
-  ac_path_EGREP_TRADITIONAL_found=false
+else $as_nop
+  if test -z "$GREP"; then
+  ac_path_GREP_found=false
   # Loop through the user's path and test for each of PROGNAME-LIST
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
@@ -7656,14 +7385,13 @@
     for ac_prog in grep ggrep
    do
     for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_EGREP_TRADITIONAL="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_EGREP_TRADITIONAL" || continue
-# Check for GNU ac_path_EGREP_TRADITIONAL and select it if it is found.
-  # Check for GNU $ac_path_EGREP_TRADITIONAL
-case `"$ac_path_EGREP_TRADITIONAL" --version 2>&1` in #(
+      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_GREP" || continue
+# Check for GNU ac_path_GREP and select it if it is found.
+  # Check for GNU $ac_path_GREP
+case `"$ac_path_GREP" --version 2>&1` in
 *GNU*)
-  ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL" ac_path_EGREP_TRADITIONAL_found=:;;
-#(
+  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -7672,14 +7400,14 @@
     cat "conftest.in" "conftest.in" >"conftest.tmp"
     mv "conftest.tmp" "conftest.in"
     cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'EGREP_TRADITIONAL' >> "conftest.nl"
-    "$ac_path_EGREP_TRADITIONAL" -E 'EGR(EP|AC)_TRADITIONAL$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    printf "%s\n" 'GREP' >> "conftest.nl"
+    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
     as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_EGREP_TRADITIONAL_max-0}; then
+    if test $ac_count -gt ${ac_path_GREP_max-0}; then
       # Best one so far, save it but keep looking for a better one
-      ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL"
-      ac_path_EGREP_TRADITIONAL_max=$ac_count
+      ac_cv_path_GREP="$ac_path_GREP"
+      ac_path_GREP_max=$ac_count
     fi
     # 10*(2^10) chars as input seems more than enough
     test $ac_count -gt 10 && break
@@ -7687,24 +7415,35 @@
   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
 esac
 
-      $ac_path_EGREP_TRADITIONAL_found && break 3
+      $ac_path_GREP_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
-  if test -z "$ac_cv_path_EGREP_TRADITIONAL"; then
-    :
+  if test -z "$ac_cv_path_GREP"; then
+    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
-  ac_cv_path_EGREP_TRADITIONAL=$EGREP_TRADITIONAL
+  ac_cv_path_GREP=$GREP
+fi
+
 fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
+printf "%s\n" "$ac_cv_path_GREP" >&6; }
+ GREP="$ac_cv_path_GREP"
+
 
-    if test "$ac_cv_path_EGREP_TRADITIONAL"
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
+printf %s "checking for egrep... " >&6; }
+if test ${ac_cv_path_EGREP+y}
 then :
-  ac_cv_path_EGREP_TRADITIONAL="$ac_cv_path_EGREP_TRADITIONAL -E"
-else case e in #(
-  e) if test -z "$EGREP_TRADITIONAL"; then
-  ac_path_EGREP_TRADITIONAL_found=false
+  printf %s "(cached) " >&6
+else $as_nop
+  if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
+   then ac_cv_path_EGREP="$GREP -E"
+   else
+     if test -z "$EGREP"; then
+  ac_path_EGREP_found=false
   # Loop through the user's path and test for each of PROGNAME-LIST
   as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
 for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
@@ -7718,14 +7457,13 @@
     for ac_prog in egrep
    do
     for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_EGREP_TRADITIONAL="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_EGREP_TRADITIONAL" || continue
-# Check for GNU ac_path_EGREP_TRADITIONAL and select it if it is found.
-  # Check for GNU $ac_path_EGREP_TRADITIONAL
-case `"$ac_path_EGREP_TRADITIONAL" --version 2>&1` in #(
+      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
+      as_fn_executable_p "$ac_path_EGREP" || continue
+# Check for GNU ac_path_EGREP and select it if it is found.
+  # Check for GNU $ac_path_EGREP
+case `"$ac_path_EGREP" --version 2>&1` in
 *GNU*)
-  ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL" ac_path_EGREP_TRADITIONAL_found=:;;
-#(
+  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -7734,14 +7472,14 @@
     cat "conftest.in" "conftest.in" >"conftest.tmp"
     mv "conftest.tmp" "conftest.in"
     cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'EGREP_TRADITIONAL' >> "conftest.nl"
-    "$ac_path_EGREP_TRADITIONAL" 'EGR(EP|AC)_TRADITIONAL$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
+    printf "%s\n" 'EGREP' >> "conftest.nl"
+    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
     diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
     as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_EGREP_TRADITIONAL_max-0}; then
+    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
       # Best one so far, save it but keep looking for a better one
-      ac_cv_path_EGREP_TRADITIONAL="$ac_path_EGREP_TRADITIONAL"
-      ac_path_EGREP_TRADITIONAL_max=$ac_count
+      ac_cv_path_EGREP="$ac_path_EGREP"
+      ac_path_EGREP_max=$ac_count
     fi
     # 10*(2^10) chars as input seems more than enough
     test $ac_count -gt 10 && break
@@ -7749,25 +7487,24 @@
   rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
 esac
 
-      $ac_path_EGREP_TRADITIONAL_found && break 3
+      $ac_path_EGREP_found && break 3
     done
   done
   done
 IFS=$as_save_IFS
-  if test -z "$ac_cv_path_EGREP_TRADITIONAL"; then
+  if test -z "$ac_cv_path_EGREP"; then
     as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
   fi
 else
-  ac_cv_path_EGREP_TRADITIONAL=$EGREP_TRADITIONAL
+  ac_cv_path_EGREP=$EGREP
 fi
- ;;
-esac
-fi ;;
-esac
+
+   fi
 fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP_TRADITIONAL" >&5
-printf "%s\n" "$ac_cv_path_EGREP_TRADITIONAL" >&6; }
- EGREP_TRADITIONAL=$ac_cv_path_EGREP_TRADITIONAL
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
+printf "%s\n" "$ac_cv_path_EGREP" >&6; }
+ EGREP="$ac_cv_path_EGREP"
+
 
 case $enable_threads in #(
   posix) :
@@ -7814,14 +7551,8 @@
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char pthread_join (void);
+   builtin and then its argument prototype would still apply.  */
+char pthread_join ();
 int
 main (void)
 {
@@ -7915,7 +7646,7 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP_TRADITIONAL "AX_PTHREAD_ZOS_MISSING" >/dev/null 2>&1
+  $EGREP "AX_PTHREAD_ZOS_MISSING" >/dev/null 2>&1
 then :
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: IBM z/OS requires -D_OPEN_THREADS or -D_UNIX03_THREADS to enable pthreads support." >&5
 printf "%s\n" "$as_me: WARNING: IBM z/OS requires -D_OPEN_THREADS or -D_UNIX03_THREADS to enable pthreads support." >&2;}
@@ -7945,8 +7676,8 @@
 if test ${ax_cv_PTHREAD_CLANG+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ax_cv_PTHREAD_CLANG=no
+else $as_nop
+  ax_cv_PTHREAD_CLANG=no
      # Note that Autoconf sets GCC=yes for Clang as well as GCC
      if test "x$GCC" = "xyes"; then
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -7958,15 +7689,14 @@
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP_TRADITIONAL "AX_PTHREAD_CC_IS_CLANG" >/dev/null 2>&1
+  $EGREP "AX_PTHREAD_CC_IS_CLANG" >/dev/null 2>&1
 then :
   ax_cv_PTHREAD_CLANG=yes
 fi
 rm -rf conftest*
 
      fi
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_PTHREAD_CLANG" >&5
 printf "%s\n" "$ax_cv_PTHREAD_CLANG" >&6; }
@@ -8016,9 +7746,8 @@
 if test "x$ax_pthread_check_macro" = "x--"
 then :
   ax_pthread_check_cond=0
-else case e in #(
-  e) ax_pthread_check_cond="!defined($ax_pthread_check_macro)" ;;
-esac
+else $as_nop
+  ax_pthread_check_cond="!defined($ax_pthread_check_macro)"
 fi
 
 
@@ -8052,8 +7781,8 @@
 if test ${ac_cv_prog_ax_pthread_config+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ax_pthread_config"; then
+else $as_nop
+  if test -n "$ax_pthread_config"; then
   ac_cv_prog_ax_pthread_config="$ax_pthread_config" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8076,8 +7805,7 @@
 IFS=$as_save_IFS
 
   test -z "$ac_cv_prog_ax_pthread_config" && ac_cv_prog_ax_pthread_config="no"
-fi ;;
-esac
+fi
 fi
 ax_pthread_config=$ac_cv_prog_ax_pthread_config
 if test -n "$ax_pthread_config"; then
@@ -8210,8 +7938,8 @@
 if test ${ax_cv_PTHREAD_CLANG_NO_WARN_FLAG+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ax_cv_PTHREAD_CLANG_NO_WARN_FLAG=unknown
+else $as_nop
+  ax_cv_PTHREAD_CLANG_NO_WARN_FLAG=unknown
              # Create an alternate version of $ac_link that compiles and
              # links in two steps (.c -> .o, .o -> exe) instead of one
              # (.c -> exe), because the warning occurs only in the second
@@ -8257,8 +7985,7 @@
   ax_pthread_try=no
 fi
              ax_cv_PTHREAD_CLANG_NO_WARN_FLAG="$ax_pthread_try"
-             ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_PTHREAD_CLANG_NO_WARN_FLAG" >&5
 printf "%s\n" "$ax_cv_PTHREAD_CLANG_NO_WARN_FLAG" >&6; }
@@ -8285,8 +8012,8 @@
 if test ${ax_cv_PTHREAD_JOINABLE_ATTR+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ax_cv_PTHREAD_JOINABLE_ATTR=unknown
+else $as_nop
+  ax_cv_PTHREAD_JOINABLE_ATTR=unknown
              for ax_pthread_attr in PTHREAD_CREATE_JOINABLE PTHREAD_CREATE_UNDETACHED; do
                  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -8306,8 +8033,7 @@
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
              done
-             ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_PTHREAD_JOINABLE_ATTR" >&5
 printf "%s\n" "$ax_cv_PTHREAD_JOINABLE_ATTR" >&6; }
@@ -8327,15 +8053,14 @@
 if test ${ax_cv_PTHREAD_SPECIAL_FLAGS+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ax_cv_PTHREAD_SPECIAL_FLAGS=no
+else $as_nop
+  ax_cv_PTHREAD_SPECIAL_FLAGS=no
              case $host_os in
              solaris*)
              ax_cv_PTHREAD_SPECIAL_FLAGS="-D_POSIX_PTHREAD_SEMANTICS"
              ;;
              esac
-             ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_PTHREAD_SPECIAL_FLAGS" >&5
 printf "%s\n" "$ax_cv_PTHREAD_SPECIAL_FLAGS" >&6; }
@@ -8351,8 +8076,8 @@
 if test ${ax_cv_PTHREAD_PRIO_INHERIT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <pthread.h>
 int
@@ -8367,14 +8092,12 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ax_cv_PTHREAD_PRIO_INHERIT=yes
-else case e in #(
-  e) ax_cv_PTHREAD_PRIO_INHERIT=no ;;
-esac
+else $as_nop
+  ax_cv_PTHREAD_PRIO_INHERIT=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-             ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ax_cv_PTHREAD_PRIO_INHERIT" >&5
 printf "%s\n" "$ax_cv_PTHREAD_PRIO_INHERIT" >&6; }
@@ -8424,8 +8147,8 @@
 if test ${ac_cv_prog_PTHREAD_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$PTHREAD_CC"; then
+else $as_nop
+  if test -n "$PTHREAD_CC"; then
   ac_cv_prog_PTHREAD_CC="$PTHREAD_CC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8447,8 +8170,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 PTHREAD_CC=$ac_cv_prog_PTHREAD_CC
 if test -n "$PTHREAD_CC"; then
@@ -8475,8 +8197,8 @@
 if test ${ac_cv_prog_PTHREAD_CXX+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$PTHREAD_CXX"; then
+else $as_nop
+  if test -n "$PTHREAD_CXX"; then
   ac_cv_prog_PTHREAD_CXX="$PTHREAD_CXX" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -8498,8 +8220,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 PTHREAD_CXX=$ac_cv_prog_PTHREAD_CXX
 if test -n "$PTHREAD_CXX"; then
@@ -8606,8 +8327,8 @@
 
 
 
-macro_version='2.5.4.1-baa1-dirty'
-macro_revision='2.5.4.1'
+macro_version='2.4.7'
+macro_revision='2.4.7'
 
 
 
@@ -8698,8 +8419,8 @@
 if test ${ac_cv_path_SED+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)           ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
+else $as_nop
+            ac_script=s/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb/
      for ac_i in 1 2 3 4 5 6 7; do
        ac_script="$ac_script$as_nl$ac_script"
      done
@@ -8724,10 +8445,9 @@
       as_fn_executable_p "$ac_path_SED" || continue
 # Check for GNU ac_path_SED and select it if it is found.
   # Check for GNU $ac_path_SED
-case `"$ac_path_SED" --version 2>&1` in #(
+case `"$ac_path_SED" --version 2>&1` in
 *GNU*)
   ac_cv_path_SED="$ac_path_SED" ac_path_SED_found=:;;
-#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -8762,8 +8482,7 @@
 else
   ac_cv_path_SED=$SED
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_SED" >&5
 printf "%s\n" "$ac_cv_path_SED" >&6; }
@@ -8783,161 +8502,13 @@
 
 
 
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for grep that handles long lines and -e" >&5
-printf %s "checking for grep that handles long lines and -e... " >&6; }
-if test ${ac_cv_path_GREP+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if test -z "$GREP"; then
-  ac_path_GREP_found=false
-  # Loop through the user's path and test for each of PROGNAME-LIST
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
-do
-  IFS=$as_save_IFS
-  case $as_dir in #(((
-    '') as_dir=./ ;;
-    */) ;;
-    *) as_dir=$as_dir/ ;;
-  esac
-    for ac_prog in grep ggrep
-   do
-    for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_GREP="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_GREP" || continue
-# Check for GNU ac_path_GREP and select it if it is found.
-  # Check for GNU $ac_path_GREP
-case `"$ac_path_GREP" --version 2>&1` in #(
-*GNU*)
-  ac_cv_path_GREP="$ac_path_GREP" ac_path_GREP_found=:;;
-#(
-*)
-  ac_count=0
-  printf %s 0123456789 >"conftest.in"
-  while :
-  do
-    cat "conftest.in" "conftest.in" >"conftest.tmp"
-    mv "conftest.tmp" "conftest.in"
-    cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'GREP' >> "conftest.nl"
-    "$ac_path_GREP" -e 'GREP$' -e '-(cannot match)-' < "conftest.nl" >"conftest.out" 2>/dev/null || break
-    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
-    as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_GREP_max-0}; then
-      # Best one so far, save it but keep looking for a better one
-      ac_cv_path_GREP="$ac_path_GREP"
-      ac_path_GREP_max=$ac_count
-    fi
-    # 10*(2^10) chars as input seems more than enough
-    test $ac_count -gt 10 && break
-  done
-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
-esac
-
-      $ac_path_GREP_found && break 3
-    done
-  done
-  done
-IFS=$as_save_IFS
-  if test -z "$ac_cv_path_GREP"; then
-    as_fn_error $? "no acceptable grep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
-  fi
-else
-  ac_cv_path_GREP=$GREP
-fi
- ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_GREP" >&5
-printf "%s\n" "$ac_cv_path_GREP" >&6; }
- GREP="$ac_cv_path_GREP"
-
-
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for egrep" >&5
-printf %s "checking for egrep... " >&6; }
-if test ${ac_cv_path_EGREP+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if echo a | $GREP -E '(a|b)' >/dev/null 2>&1
-   then ac_cv_path_EGREP="$GREP -E"
-   else
-     if test -z "$EGREP"; then
-  ac_path_EGREP_found=false
-  # Loop through the user's path and test for each of PROGNAME-LIST
-  as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH$PATH_SEPARATOR/usr/xpg4/bin
-do
-  IFS=$as_save_IFS
-  case $as_dir in #(((
-    '') as_dir=./ ;;
-    */) ;;
-    *) as_dir=$as_dir/ ;;
-  esac
-    for ac_prog in egrep
-   do
-    for ac_exec_ext in '' $ac_executable_extensions; do
-      ac_path_EGREP="$as_dir$ac_prog$ac_exec_ext"
-      as_fn_executable_p "$ac_path_EGREP" || continue
-# Check for GNU ac_path_EGREP and select it if it is found.
-  # Check for GNU $ac_path_EGREP
-case `"$ac_path_EGREP" --version 2>&1` in #(
-*GNU*)
-  ac_cv_path_EGREP="$ac_path_EGREP" ac_path_EGREP_found=:;;
-#(
-*)
-  ac_count=0
-  printf %s 0123456789 >"conftest.in"
-  while :
-  do
-    cat "conftest.in" "conftest.in" >"conftest.tmp"
-    mv "conftest.tmp" "conftest.in"
-    cp "conftest.in" "conftest.nl"
-    printf "%s\n" 'EGREP' >> "conftest.nl"
-    "$ac_path_EGREP" 'EGREP$' < "conftest.nl" >"conftest.out" 2>/dev/null || break
-    diff "conftest.out" "conftest.nl" >/dev/null 2>&1 || break
-    as_fn_arith $ac_count + 1 && ac_count=$as_val
-    if test $ac_count -gt ${ac_path_EGREP_max-0}; then
-      # Best one so far, save it but keep looking for a better one
-      ac_cv_path_EGREP="$ac_path_EGREP"
-      ac_path_EGREP_max=$ac_count
-    fi
-    # 10*(2^10) chars as input seems more than enough
-    test $ac_count -gt 10 && break
-  done
-  rm -f conftest.in conftest.tmp conftest.nl conftest.out;;
-esac
-
-      $ac_path_EGREP_found && break 3
-    done
-  done
-  done
-IFS=$as_save_IFS
-  if test -z "$ac_cv_path_EGREP"; then
-    as_fn_error $? "no acceptable egrep could be found in $PATH$PATH_SEPARATOR/usr/xpg4/bin" "$LINENO" 5
-  fi
-else
-  ac_cv_path_EGREP=$EGREP
-fi
-
-   fi ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_EGREP" >&5
-printf "%s\n" "$ac_cv_path_EGREP" >&6; }
- EGREP="$ac_cv_path_EGREP"
-
-         EGREP_TRADITIONAL=$EGREP
- ac_cv_path_EGREP_TRADITIONAL=$EGREP
-
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for fgrep" >&5
 printf %s "checking for fgrep... " >&6; }
 if test ${ac_cv_path_FGREP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1
+else $as_nop
+  if echo 'ab*c' | $GREP -F 'ab*c' >/dev/null 2>&1
    then ac_cv_path_FGREP="$GREP -F"
    else
      if test -z "$FGREP"; then
@@ -8959,10 +8530,9 @@
       as_fn_executable_p "$ac_path_FGREP" || continue
 # Check for GNU ac_path_FGREP and select it if it is found.
   # Check for GNU $ac_path_FGREP
-case `"$ac_path_FGREP" --version 2>&1` in #(
+case `"$ac_path_FGREP" --version 2>&1` in
 *GNU*)
   ac_cv_path_FGREP="$ac_path_FGREP" ac_path_FGREP_found=:;;
-#(
 *)
   ac_count=0
   printf %s 0123456789 >"conftest.in"
@@ -8998,8 +8568,7 @@
   ac_cv_path_FGREP=$FGREP
 fi
 
-   fi ;;
-esac
+   fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_FGREP" >&5
 printf "%s\n" "$ac_cv_path_FGREP" >&6; }
@@ -9030,9 +8599,8 @@
 if test ${with_gnu_ld+y}
 then :
   withval=$with_gnu_ld; test no = "$withval" || with_gnu_ld=yes
-else case e in #(
-  e) with_gnu_ld=no ;;
-esac
+else $as_nop
+  with_gnu_ld=no
 fi
 
 ac_prog=ld
@@ -9041,7 +8609,7 @@
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for ld used by $CC" >&5
 printf %s "checking for ld used by $CC... " >&6; }
   case $host in
-  *-*-mingw* | *-*-windows*)
+  *-*-mingw*)
     # gcc leaves a trailing carriage return, which upsets mingw
     ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
   *)
@@ -9077,8 +8645,8 @@
 if test ${lt_cv_path_LD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -z "$LD"; then
+else $as_nop
+  if test -z "$LD"; then
   lt_save_ifs=$IFS; IFS=$PATH_SEPARATOR
   for ac_dir in $PATH; do
     IFS=$lt_save_ifs
@@ -9101,8 +8669,7 @@
   IFS=$lt_save_ifs
 else
   lt_cv_path_LD=$LD # Let the user override the test with a path.
-fi ;;
-esac
+fi
 fi
 
 LD=$lt_cv_path_LD
@@ -9119,8 +8686,8 @@
 if test ${lt_cv_prog_gnu_ld+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) # I'd rather use --version here, but apparently some GNU lds only accept -v.
+else $as_nop
+  # I'd rather use --version here, but apparently some GNU lds only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
   lt_cv_prog_gnu_ld=yes
@@ -9128,7 +8695,6 @@
 *)
   lt_cv_prog_gnu_ld=no
   ;;
-esac ;;
 esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_gnu_ld" >&5
@@ -9148,8 +8714,8 @@
 if test ${lt_cv_path_NM+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$NM"; then
+else $as_nop
+  if test -n "$NM"; then
   # Let the user override the test.
   lt_cv_path_NM=$NM
 else
@@ -9170,7 +8736,7 @@
 	# Tru64's nm complains that /dev/null is an invalid object file
 	# MSYS converts /dev/null to NUL, MinGW nm treats NUL as empty
 	case $build_os in
-	mingw* | windows*) lt_bad_file=conftest.nm/nofile ;;
+	mingw*) lt_bad_file=conftest.nm/nofile ;;
 	*) lt_bad_file=/dev/null ;;
 	esac
 	case `"$tmp_nm" -B $lt_bad_file 2>&1 | $SED '1q'` in
@@ -9196,8 +8762,7 @@
     IFS=$lt_save_ifs
   done
   : ${lt_cv_path_NM=no}
-fi ;;
-esac
+fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_NM" >&5
 printf "%s\n" "$lt_cv_path_NM" >&6; }
@@ -9218,8 +8783,8 @@
 if test ${ac_cv_prog_DUMPBIN+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$DUMPBIN"; then
+else $as_nop
+  if test -n "$DUMPBIN"; then
   ac_cv_prog_DUMPBIN="$DUMPBIN" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -9241,8 +8806,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 DUMPBIN=$ac_cv_prog_DUMPBIN
 if test -n "$DUMPBIN"; then
@@ -9268,8 +8832,8 @@
 if test ${ac_cv_prog_ac_ct_DUMPBIN+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_DUMPBIN"; then
+else $as_nop
+  if test -n "$ac_ct_DUMPBIN"; then
   ac_cv_prog_ac_ct_DUMPBIN="$ac_ct_DUMPBIN" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -9291,8 +8855,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_DUMPBIN=$ac_cv_prog_ac_ct_DUMPBIN
 if test -n "$ac_ct_DUMPBIN"; then
@@ -9346,8 +8909,8 @@
 if test ${lt_cv_nm_interface+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_nm_interface="BSD nm"
+else $as_nop
+  lt_cv_nm_interface="BSD nm"
   echo "int some_variable = 0;" > conftest.$ac_ext
   (eval echo "\"\$as_me:$LINENO: $ac_compile\"" >&5)
   (eval "$ac_compile" 2>conftest.err)
@@ -9360,8 +8923,7 @@
   if $GREP 'External.*some_variable' conftest.out > /dev/null; then
     lt_cv_nm_interface="MS dumpbin"
   fi
-  rm -f conftest* ;;
-esac
+  rm -f conftest*
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_nm_interface" >&5
 printf "%s\n" "$lt_cv_nm_interface" >&6; }
@@ -9372,8 +8934,8 @@
 if test ${lt_cv_sys_max_cmd_len+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)   i=0
+else $as_nop
+    i=0
   teststring=ABCD
 
   case $build_os in
@@ -9385,14 +8947,14 @@
     lt_cv_sys_max_cmd_len=12288;    # 12K is about right
     ;;
 
-  gnu* | ironclad*)
-    # Under GNU Hurd and Ironclad, this test is not required because there
-    # is no limit to the length of command line arguments.
+  gnu*)
+    # Under GNU Hurd, this test is not required because there is
+    # no limit to the length of command line arguments.
     # Libtool will interpret -1 as no limit whatsoever
     lt_cv_sys_max_cmd_len=-1;
     ;;
 
-  cygwin* | mingw* | windows* | cegcc*)
+  cygwin* | mingw* | cegcc*)
     # On Win9x/ME, this test blows up -- it succeeds, but takes
     # about 5 minutes as the teststring grows exponentially.
     # Worse, since 9x/ME are not pre-emptively multitasking,
@@ -9414,7 +8976,7 @@
     lt_cv_sys_max_cmd_len=8192;
     ;;
 
-  darwin* | dragonfly* | freebsd* | midnightbsd* | netbsd* | openbsd*)
+  bitrig* | darwin* | dragonfly* | freebsd* | midnightbsd* | netbsd* | openbsd*)
     # This has been around since 386BSD, at least.  Likely further.
     if test -x /sbin/sysctl; then
       lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`
@@ -9495,8 +9057,7 @@
     fi
     ;;
   esac
- ;;
-esac
+
 fi
 
 if test -n "$lt_cv_sys_max_cmd_len"; then
@@ -9553,11 +9114,11 @@
 if test ${lt_cv_to_host_file_cmd+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case $host in
+else $as_nop
+  case $host in
   *-*-mingw* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_host_file_cmd=func_convert_file_msys_to_w32
         ;;
       *-*-cygwin* )
@@ -9570,7 +9131,7 @@
     ;;
   *-*-cygwin* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_host_file_cmd=func_convert_file_msys_to_cygwin
         ;;
       *-*-cygwin* )
@@ -9585,8 +9146,7 @@
     lt_cv_to_host_file_cmd=func_convert_file_noop
     ;;
 esac
- ;;
-esac
+
 fi
 
 to_host_file_cmd=$lt_cv_to_host_file_cmd
@@ -9602,20 +9162,19 @@
 if test ${lt_cv_to_tool_file_cmd+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) #assume ordinary cross tools, or native build.
+else $as_nop
+  #assume ordinary cross tools, or native build.
 lt_cv_to_tool_file_cmd=func_convert_file_noop
 case $host in
-  *-*-mingw* | *-*-windows* )
+  *-*-mingw* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_tool_file_cmd=func_convert_file_msys_to_w32
         ;;
     esac
     ;;
 esac
- ;;
-esac
+
 fi
 
 to_tool_file_cmd=$lt_cv_to_tool_file_cmd
@@ -9631,9 +9190,8 @@
 if test ${lt_cv_ld_reload_flag+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_ld_reload_flag='-r' ;;
-esac
+else $as_nop
+  lt_cv_ld_reload_flag='-r'
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_reload_flag" >&5
 printf "%s\n" "$lt_cv_ld_reload_flag" >&6; }
@@ -9644,7 +9202,7 @@
 esac
 reload_cmds='$LD$reload_flag -o $output$reload_objs'
 case $host_os in
-  cygwin* | mingw* | windows* | pw32* | cegcc*)
+  cygwin* | mingw* | pw32* | cegcc*)
     if test yes != "$GCC"; then
       reload_cmds=false
     fi
@@ -9666,15 +9224,16 @@
 
 
 
-# Extract the first word of "file", so it can be a program name with args.
-set dummy file; ac_word=$2
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}file", so it can be a program name with args.
+set dummy ${ac_tool_prefix}file; ac_word=$2
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
 printf %s "checking for $ac_word... " >&6; }
 if test ${ac_cv_prog_FILECMD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$FILECMD"; then
+else $as_nop
+  if test -n "$FILECMD"; then
   ac_cv_prog_FILECMD="$FILECMD" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -9688,7 +9247,7 @@
   esac
     for ac_exec_ext in '' $ac_executable_extensions; do
   if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
-    ac_cv_prog_FILECMD="file"
+    ac_cv_prog_FILECMD="${ac_tool_prefix}file"
     printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
     break 2
   fi
@@ -9696,9 +9255,7 @@
   done
 IFS=$as_save_IFS
 
-  test -z "$ac_cv_prog_FILECMD" && ac_cv_prog_FILECMD=":"
-fi ;;
-esac
+fi
 fi
 FILECMD=$ac_cv_prog_FILECMD
 if test -n "$FILECMD"; then
@@ -9710,6 +9267,65 @@
 fi
 
 
+fi
+if test -z "$ac_cv_prog_FILECMD"; then
+  ac_ct_FILECMD=$FILECMD
+  # Extract the first word of "file", so it can be a program name with args.
+set dummy file; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_FILECMD+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_FILECMD"; then
+  ac_cv_prog_ac_ct_FILECMD="$ac_ct_FILECMD" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_FILECMD="file"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_FILECMD=$ac_cv_prog_ac_ct_FILECMD
+if test -n "$ac_ct_FILECMD"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_FILECMD" >&5
+printf "%s\n" "$ac_ct_FILECMD" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_ct_FILECMD" = x; then
+    FILECMD=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    FILECMD=$ac_ct_FILECMD
+  fi
+else
+  FILECMD="$ac_cv_prog_FILECMD"
+fi
+
 
 
 
@@ -9724,8 +9340,8 @@
 if test ${ac_cv_prog_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$OBJDUMP"; then
+else $as_nop
+  if test -n "$OBJDUMP"; then
   ac_cv_prog_OBJDUMP="$OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -9747,8 +9363,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 OBJDUMP=$ac_cv_prog_OBJDUMP
 if test -n "$OBJDUMP"; then
@@ -9770,8 +9385,8 @@
 if test ${ac_cv_prog_ac_ct_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_OBJDUMP"; then
+else $as_nop
+  if test -n "$ac_ct_OBJDUMP"; then
   ac_cv_prog_ac_ct_OBJDUMP="$ac_ct_OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -9793,8 +9408,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP
 if test -n "$ac_ct_OBJDUMP"; then
@@ -9832,8 +9446,8 @@
 if test ${lt_cv_deplibs_check_method+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_file_magic_cmd='$MAGIC_CMD'
+else $as_nop
+  lt_cv_file_magic_cmd='$MAGIC_CMD'
 lt_cv_file_magic_test_file=
 lt_cv_deplibs_check_method='unknown'
 # Need to set the preceding variable on all platforms that support
@@ -9841,6 +9455,7 @@
 # 'none' -- dependencies not supported.
 # 'unknown' -- same as none, but documents that we really don't know.
 # 'pass_all' -- all dependencies passed with no checks.
+# 'test_compile' -- check by making test program.
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # that responds to the $file_magic_cmd with a given extended regex.
 # If you have 'file' or equivalent on your system and you're not sure
@@ -9867,7 +9482,7 @@
   lt_cv_file_magic_cmd='func_win32_libid'
   ;;
 
-mingw* | windows* | pw32*)
+mingw* | pw32*)
   # Base MSYS/MinGW do not provide the 'file' command needed by
   # func_win32_libid shell function, so use a weaker test based on 'objdump',
   # unless we find 'file', for example because we are cross-compiling.
@@ -9876,7 +9491,7 @@
     lt_cv_file_magic_cmd='func_win32_libid'
   else
     # Keep this pattern in sync with the one in func_win32_libid.
-    lt_cv_deplibs_check_method='file_magic file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64|pe-aarch64)'
+    lt_cv_deplibs_check_method='file_magic file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64)'
     lt_cv_file_magic_cmd='$OBJDUMP -f'
   fi
   ;;
@@ -9949,10 +9564,6 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-*-mlibc)
-  lt_cv_deplibs_check_method=pass_all
-  ;;
-
 netbsd* | netbsdelf*-gnu)
   if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then
     lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so\.[0-9]+\.[0-9]+|_pic\.a)$'
@@ -9971,7 +9582,7 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-openbsd*)
+openbsd* | bitrig*)
   if test -z "`echo __ELF__ | $CC -E - | $GREP __ELF__`"; then
     lt_cv_deplibs_check_method='match_pattern /lib[^/]+(\.so\.[0-9]+\.[0-9]+|\.so|_pic\.a)$'
   else
@@ -9987,10 +9598,6 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-serenity*)
-  lt_cv_deplibs_check_method=pass_all
-  ;;
-
 solaris*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -10033,8 +9640,7 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 esac
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_deplibs_check_method" >&5
 printf "%s\n" "$lt_cv_deplibs_check_method" >&6; }
@@ -10043,7 +9649,7 @@
 want_nocaseglob=no
 if test "$build" = "$host"; then
   case $host_os in
-  mingw* | windows* | pw32*)
+  mingw* | pw32*)
     if ( shopt | grep nocaseglob ) >/dev/null 2>&1; then
       want_nocaseglob=yes
     else
@@ -10086,8 +9692,8 @@
 if test ${ac_cv_prog_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$DLLTOOL"; then
+else $as_nop
+  if test -n "$DLLTOOL"; then
   ac_cv_prog_DLLTOOL="$DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10109,8 +9715,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 DLLTOOL=$ac_cv_prog_DLLTOOL
 if test -n "$DLLTOOL"; then
@@ -10132,8 +9737,8 @@
 if test ${ac_cv_prog_ac_ct_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_DLLTOOL"; then
+else $as_nop
+  if test -n "$ac_ct_DLLTOOL"; then
   ac_cv_prog_ac_ct_DLLTOOL="$ac_ct_DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10155,8 +9760,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_DLLTOOL=$ac_cv_prog_ac_ct_DLLTOOL
 if test -n "$ac_ct_DLLTOOL"; then
@@ -10195,11 +9799,11 @@
 if test ${lt_cv_sharedlib_from_linklib_cmd+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_sharedlib_from_linklib_cmd='unknown'
+else $as_nop
+  lt_cv_sharedlib_from_linklib_cmd='unknown'
 
 case $host_os in
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   # two different shell functions defined in ltmain.sh;
   # decide which one to use based on capabilities of $DLLTOOL
   case `$DLLTOOL --help 2>&1` in
@@ -10216,8 +9820,7 @@
   lt_cv_sharedlib_from_linklib_cmd=$ECHO
   ;;
 esac
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_sharedlib_from_linklib_cmd" >&5
 printf "%s\n" "$lt_cv_sharedlib_from_linklib_cmd" >&6; }
@@ -10231,110 +9834,6 @@
 
 
 if test -n "$ac_tool_prefix"; then
-  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
-set dummy ${ac_tool_prefix}ranlib; ac_word=$2
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
-printf %s "checking for $ac_word... " >&6; }
-if test ${ac_cv_prog_RANLIB+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$RANLIB"; then
-  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  case $as_dir in #(((
-    '') as_dir=./ ;;
-    */) ;;
-    *) as_dir=$as_dir/ ;;
-  esac
-    for ac_exec_ext in '' $ac_executable_extensions; do
-  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
-    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
-    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-  done
-IFS=$as_save_IFS
-
-fi ;;
-esac
-fi
-RANLIB=$ac_cv_prog_RANLIB
-if test -n "$RANLIB"; then
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
-printf "%s\n" "$RANLIB" >&6; }
-else
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
-printf "%s\n" "no" >&6; }
-fi
-
-
-fi
-if test -z "$ac_cv_prog_RANLIB"; then
-  ac_ct_RANLIB=$RANLIB
-  # Extract the first word of "ranlib", so it can be a program name with args.
-set dummy ranlib; ac_word=$2
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
-printf %s "checking for $ac_word... " >&6; }
-if test ${ac_cv_prog_ac_ct_RANLIB+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_RANLIB"; then
-  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
-else
-as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
-for as_dir in $PATH
-do
-  IFS=$as_save_IFS
-  case $as_dir in #(((
-    '') as_dir=./ ;;
-    */) ;;
-    *) as_dir=$as_dir/ ;;
-  esac
-    for ac_exec_ext in '' $ac_executable_extensions; do
-  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
-    ac_cv_prog_ac_ct_RANLIB="ranlib"
-    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
-    break 2
-  fi
-done
-  done
-IFS=$as_save_IFS
-
-fi ;;
-esac
-fi
-ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
-if test -n "$ac_ct_RANLIB"; then
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
-printf "%s\n" "$ac_ct_RANLIB" >&6; }
-else
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
-printf "%s\n" "no" >&6; }
-fi
-
-  if test "x$ac_ct_RANLIB" = x; then
-    RANLIB=":"
-  else
-    case $cross_compiling:$ac_tool_warned in
-yes:)
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
-printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
-ac_tool_warned=yes ;;
-esac
-    RANLIB=$ac_ct_RANLIB
-  fi
-else
-  RANLIB="$ac_cv_prog_RANLIB"
-fi
-
-if test -n "$ac_tool_prefix"; then
   for ac_prog in ar
   do
     # Extract the first word of "$ac_tool_prefix$ac_prog", so it can be a program name with args.
@@ -10344,8 +9843,8 @@
 if test ${ac_cv_prog_AR+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$AR"; then
+else $as_nop
+  if test -n "$AR"; then
   ac_cv_prog_AR="$AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10367,8 +9866,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 AR=$ac_cv_prog_AR
 if test -n "$AR"; then
@@ -10394,8 +9892,8 @@
 if test ${ac_cv_prog_ac_ct_AR+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_AR"; then
+else $as_nop
+  if test -n "$ac_ct_AR"; then
   ac_cv_prog_ac_ct_AR="$ac_ct_AR" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10417,8 +9915,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_AR=$ac_cv_prog_ac_ct_AR
 if test -n "$ac_ct_AR"; then
@@ -10455,7 +9952,7 @@
 
 # Use ARFLAGS variable as AR's operation code to sync the variable naming with
 # Automake.  If both AR_FLAGS and ARFLAGS are specified, AR_FLAGS should have
-# higher priority because that's what people were doing historically (setting
+# higher priority because thats what people were doing historically (setting
 # ARFLAGS for automake and AR_FLAGS for libtool).  FIXME: Make the AR_FLAGS
 # variable obsoleted/removed.
 
@@ -10480,8 +9977,8 @@
 if test ${lt_cv_ar_at_file+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_ar_at_file=no
+else $as_nop
+  lt_cv_ar_at_file=no
    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -10518,8 +10015,7 @@
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-   ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ar_at_file" >&5
 printf "%s\n" "$lt_cv_ar_at_file" >&6; }
@@ -10544,8 +10040,8 @@
 if test ${ac_cv_prog_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$STRIP"; then
+else $as_nop
+  if test -n "$STRIP"; then
   ac_cv_prog_STRIP="$STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10567,8 +10063,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 STRIP=$ac_cv_prog_STRIP
 if test -n "$STRIP"; then
@@ -10590,8 +10085,8 @@
 if test ${ac_cv_prog_ac_ct_STRIP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_STRIP"; then
+else $as_nop
+  if test -n "$ac_ct_STRIP"; then
   ac_cv_prog_ac_ct_STRIP="$ac_ct_STRIP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -10613,8 +10108,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_STRIP=$ac_cv_prog_ac_ct_STRIP
 if test -n "$ac_ct_STRIP"; then
@@ -10647,6 +10141,107 @@
 
 
 
+if test -n "$ac_tool_prefix"; then
+  # Extract the first word of "${ac_tool_prefix}ranlib", so it can be a program name with args.
+set dummy ${ac_tool_prefix}ranlib; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_RANLIB+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$RANLIB"; then
+  ac_cv_prog_RANLIB="$RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_RANLIB="${ac_tool_prefix}ranlib"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+RANLIB=$ac_cv_prog_RANLIB
+if test -n "$RANLIB"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $RANLIB" >&5
+printf "%s\n" "$RANLIB" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+
+fi
+if test -z "$ac_cv_prog_RANLIB"; then
+  ac_ct_RANLIB=$RANLIB
+  # Extract the first word of "ranlib", so it can be a program name with args.
+set dummy ranlib; ac_word=$2
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $ac_word" >&5
+printf %s "checking for $ac_word... " >&6; }
+if test ${ac_cv_prog_ac_ct_RANLIB+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  if test -n "$ac_ct_RANLIB"; then
+  ac_cv_prog_ac_ct_RANLIB="$ac_ct_RANLIB" # Let the user override the test.
+else
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  case $as_dir in #(((
+    '') as_dir=./ ;;
+    */) ;;
+    *) as_dir=$as_dir/ ;;
+  esac
+    for ac_exec_ext in '' $ac_executable_extensions; do
+  if as_fn_executable_p "$as_dir$ac_word$ac_exec_ext"; then
+    ac_cv_prog_ac_ct_RANLIB="ranlib"
+    printf "%s\n" "$as_me:${as_lineno-$LINENO}: found $as_dir$ac_word$ac_exec_ext" >&5
+    break 2
+  fi
+done
+  done
+IFS=$as_save_IFS
+
+fi
+fi
+ac_ct_RANLIB=$ac_cv_prog_ac_ct_RANLIB
+if test -n "$ac_ct_RANLIB"; then
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_ct_RANLIB" >&5
+printf "%s\n" "$ac_ct_RANLIB" >&6; }
+else
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
+fi
+
+  if test "x$ac_ct_RANLIB" = x; then
+    RANLIB=":"
+  else
+    case $cross_compiling:$ac_tool_warned in
+yes:)
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: using cross tools not prefixed with host triplet" >&5
+printf "%s\n" "$as_me: WARNING: using cross tools not prefixed with host triplet" >&2;}
+ac_tool_warned=yes ;;
+esac
+    RANLIB=$ac_ct_RANLIB
+  fi
+else
+  RANLIB="$ac_cv_prog_RANLIB"
+fi
 
 test -z "$RANLIB" && RANLIB=:
 
@@ -10661,8 +10256,15 @@
 old_postuninstall_cmds=
 
 if test -n "$RANLIB"; then
+  case $host_os in
+  bitrig* | openbsd*)
+    old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB -t \$tool_oldlib"
+    ;;
+  *)
+    old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$tool_oldlib"
+    ;;
+  esac
   old_archive_cmds="$old_archive_cmds~\$RANLIB \$tool_oldlib"
-  old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$tool_oldlib"
 fi
 
 case $host_os in
@@ -10726,8 +10328,8 @@
 if test ${lt_cv_sys_global_symbol_pipe+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
 # These are sane defaults that work on at least a few old systems.
 # [They come from Ultrix.  What could be older than Ultrix?!! ;)]
 
@@ -10742,7 +10344,7 @@
 aix*)
   symcode='[BCDT]'
   ;;
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   symcode='[ABCDGISTW]'
   ;;
 hpux*)
@@ -10757,7 +10359,7 @@
   symcode='[BCDEGQRST]'
   ;;
 solaris*)
-  symcode='[BCDRT]'
+  symcode='[BDRT]'
   ;;
 sco3.2v5*)
   symcode='[DT]'
@@ -10821,7 +10423,7 @@
 # Handle CRLF in mingw tool chain
 opt_cr=
 case $build_os in
-mingw* | windows*)
+mingw*)
   opt_cr=`$ECHO 'x\{0,1\}' | tr x '\015'` # option cr in regexp
   ;;
 esac
@@ -10872,7 +10474,7 @@
 #ifdef __cplusplus
 }
 #endif
-int main(void){nm_test_var='a';nm_test_func();return(0);}
+int main(){nm_test_var='a';nm_test_func();return(0);}
 _LT_EOF
 
   if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
@@ -10979,8 +10581,7 @@
     lt_cv_sys_global_symbol_pipe=
   fi
 done
- ;;
-esac
+
 fi
 
 if test -z "$lt_cv_sys_global_symbol_pipe"; then
@@ -11044,9 +10645,8 @@
 if test ${with_sysroot+y}
 then :
   withval=$with_sysroot;
-else case e in #(
-  e) with_sysroot=no ;;
-esac
+else $as_nop
+  with_sysroot=no
 fi
 
 
@@ -11054,9 +10654,7 @@
 case $with_sysroot in #(
  yes)
    if test yes = "$GCC"; then
-     # Trim trailing / since we'll always append absolute paths and we want
-     # to avoid //, if only for less confusing output for the user.
-     lt_sysroot=`$CC --print-sysroot 2>/dev/null | $SED 's:/\+$::'`
+     lt_sysroot=`$CC --print-sysroot 2>/dev/null`
    fi
    ;; #(
  /*)
@@ -11083,8 +10681,8 @@
 if test ${ac_cv_path_lt_DD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) printf 0123456789abcdef0123456789abcdef >conftest.i
+else $as_nop
+  printf 0123456789abcdef0123456789abcdef >conftest.i
 cat conftest.i conftest.i >conftest2.i
 : ${lt_DD:=$DD}
 if test -z "$lt_DD"; then
@@ -11120,8 +10718,7 @@
   ac_cv_path_lt_DD=$lt_DD
 fi
 
-rm -f conftest.i conftest2.i conftest.out ;;
-esac
+rm -f conftest.i conftest2.i conftest.out
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_path_lt_DD" >&5
 printf "%s\n" "$ac_cv_path_lt_DD" >&6; }
@@ -11132,8 +10729,8 @@
 if test ${lt_cv_truncate_bin+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) printf 0123456789abcdef0123456789abcdef >conftest.i
+else $as_nop
+  printf 0123456789abcdef0123456789abcdef >conftest.i
 cat conftest.i conftest.i >conftest2.i
 lt_cv_truncate_bin=
 if "$ac_cv_path_lt_DD" bs=32 count=1 <conftest2.i >conftest.out 2>/dev/null; then
@@ -11141,8 +10738,7 @@
   && lt_cv_truncate_bin="$ac_cv_path_lt_DD bs=4096 count=1"
 fi
 rm -f conftest.i conftest2.i conftest.out
-test -z "$lt_cv_truncate_bin" && lt_cv_truncate_bin="$SED -e 4q" ;;
-esac
+test -z "$lt_cv_truncate_bin" && lt_cv_truncate_bin="$SED -e 4q"
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_truncate_bin" >&5
 printf "%s\n" "$lt_cv_truncate_bin" >&6; }
@@ -11273,7 +10869,7 @@
   ;;
 
 x86_64-*kfreebsd*-gnu|x86_64-*linux*|powerpc*-*linux*| \
-s390*-*linux*|s390*-*tpf*|sparc*-*linux*|x86_64-gnu*)
+s390*-*linux*|s390*-*tpf*|sparc*-*linux*)
   # Find out what ABI is being produced by ac_compile, and set linker
   # options accordingly.  Note that the listed cases only cover the
   # situations where additional linker options are needed (such as when
@@ -11292,7 +10888,7 @@
 	  x86_64-*kfreebsd*-gnu)
 	    LD="${LD-ld} -m elf_i386_fbsd"
 	    ;;
-	  x86_64-*linux*|x86_64-gnu*)
+	  x86_64-*linux*)
 	    case `$FILECMD conftest.o` in
 	      *x86-64*)
 		LD="${LD-ld} -m elf32_x86_64"
@@ -11321,7 +10917,7 @@
 	  x86_64-*kfreebsd*-gnu)
 	    LD="${LD-ld} -m elf_x86_64_fbsd"
 	    ;;
-	  x86_64-*linux*|x86_64-gnu*)
+	  x86_64-*linux*)
 	    LD="${LD-ld} -m elf_x86_64"
 	    ;;
 	  powerpcle-*linux*)
@@ -11352,8 +10948,8 @@
 if test ${lt_cv_cc_needs_belf+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_ext=c
+else $as_nop
+  ac_ext=c
 ac_cpp='$CPP $CPPFLAGS'
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
@@ -11373,9 +10969,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_cc_needs_belf=yes
-else case e in #(
-  e) lt_cv_cc_needs_belf=no ;;
-esac
+else $as_nop
+  lt_cv_cc_needs_belf=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -11384,8 +10979,7 @@
 ac_compile='$CC -c $CFLAGS $CPPFLAGS conftest.$ac_ext >&5'
 ac_link='$CC -o conftest$ac_exeext $CFLAGS $CPPFLAGS $LDFLAGS conftest.$ac_ext $LIBS >&5'
 ac_compiler_gnu=$ac_cv_c_compiler_gnu
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_cc_needs_belf" >&5
 printf "%s\n" "$lt_cv_cc_needs_belf" >&6; }
@@ -11443,8 +11037,8 @@
 if test ${ac_cv_prog_MANIFEST_TOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$MANIFEST_TOOL"; then
+else $as_nop
+  if test -n "$MANIFEST_TOOL"; then
   ac_cv_prog_MANIFEST_TOOL="$MANIFEST_TOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11466,8 +11060,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 MANIFEST_TOOL=$ac_cv_prog_MANIFEST_TOOL
 if test -n "$MANIFEST_TOOL"; then
@@ -11489,8 +11082,8 @@
 if test ${ac_cv_prog_ac_ct_MANIFEST_TOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_MANIFEST_TOOL"; then
+else $as_nop
+  if test -n "$ac_ct_MANIFEST_TOOL"; then
   ac_cv_prog_ac_ct_MANIFEST_TOOL="$ac_ct_MANIFEST_TOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11512,8 +11105,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_MANIFEST_TOOL=$ac_cv_prog_ac_ct_MANIFEST_TOOL
 if test -n "$ac_ct_MANIFEST_TOOL"; then
@@ -11542,23 +11134,22 @@
 test -z "$MANIFEST_TOOL" && MANIFEST_TOOL=mt
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $MANIFEST_TOOL is a manifest tool" >&5
 printf %s "checking if $MANIFEST_TOOL is a manifest tool... " >&6; }
-if test ${lt_cv_path_manifest_tool+y}
+if test ${lt_cv_path_mainfest_tool+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_path_manifest_tool=no
+else $as_nop
+  lt_cv_path_mainfest_tool=no
   echo "$as_me:$LINENO: $MANIFEST_TOOL '-?'" >&5
   $MANIFEST_TOOL '-?' 2>conftest.err > conftest.out
   cat conftest.err >&5
   if $GREP 'Manifest Tool' conftest.out > /dev/null; then
-    lt_cv_path_manifest_tool=yes
+    lt_cv_path_mainfest_tool=yes
   fi
-  rm -f conftest* ;;
-esac
+  rm -f conftest*
 fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_manifest_tool" >&5
-printf "%s\n" "$lt_cv_path_manifest_tool" >&6; }
-if test yes != "$lt_cv_path_manifest_tool"; then
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_path_mainfest_tool" >&5
+printf "%s\n" "$lt_cv_path_mainfest_tool" >&6; }
+if test yes != "$lt_cv_path_mainfest_tool"; then
   MANIFEST_TOOL=:
 fi
 
@@ -11577,8 +11168,8 @@
 if test ${ac_cv_prog_DSYMUTIL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$DSYMUTIL"; then
+else $as_nop
+  if test -n "$DSYMUTIL"; then
   ac_cv_prog_DSYMUTIL="$DSYMUTIL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11600,8 +11191,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 DSYMUTIL=$ac_cv_prog_DSYMUTIL
 if test -n "$DSYMUTIL"; then
@@ -11623,8 +11213,8 @@
 if test ${ac_cv_prog_ac_ct_DSYMUTIL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_DSYMUTIL"; then
+else $as_nop
+  if test -n "$ac_ct_DSYMUTIL"; then
   ac_cv_prog_ac_ct_DSYMUTIL="$ac_ct_DSYMUTIL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11646,8 +11236,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_DSYMUTIL=$ac_cv_prog_ac_ct_DSYMUTIL
 if test -n "$ac_ct_DSYMUTIL"; then
@@ -11681,8 +11270,8 @@
 if test ${ac_cv_prog_NMEDIT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$NMEDIT"; then
+else $as_nop
+  if test -n "$NMEDIT"; then
   ac_cv_prog_NMEDIT="$NMEDIT" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11704,8 +11293,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 NMEDIT=$ac_cv_prog_NMEDIT
 if test -n "$NMEDIT"; then
@@ -11727,8 +11315,8 @@
 if test ${ac_cv_prog_ac_ct_NMEDIT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_NMEDIT"; then
+else $as_nop
+  if test -n "$ac_ct_NMEDIT"; then
   ac_cv_prog_ac_ct_NMEDIT="$ac_ct_NMEDIT" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11750,8 +11338,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_NMEDIT=$ac_cv_prog_ac_ct_NMEDIT
 if test -n "$ac_ct_NMEDIT"; then
@@ -11785,8 +11372,8 @@
 if test ${ac_cv_prog_LIPO+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$LIPO"; then
+else $as_nop
+  if test -n "$LIPO"; then
   ac_cv_prog_LIPO="$LIPO" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11808,8 +11395,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 LIPO=$ac_cv_prog_LIPO
 if test -n "$LIPO"; then
@@ -11831,8 +11417,8 @@
 if test ${ac_cv_prog_ac_ct_LIPO+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_LIPO"; then
+else $as_nop
+  if test -n "$ac_ct_LIPO"; then
   ac_cv_prog_ac_ct_LIPO="$ac_ct_LIPO" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11854,8 +11440,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_LIPO=$ac_cv_prog_ac_ct_LIPO
 if test -n "$ac_ct_LIPO"; then
@@ -11889,8 +11474,8 @@
 if test ${ac_cv_prog_OTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$OTOOL"; then
+else $as_nop
+  if test -n "$OTOOL"; then
   ac_cv_prog_OTOOL="$OTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11912,8 +11497,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 OTOOL=$ac_cv_prog_OTOOL
 if test -n "$OTOOL"; then
@@ -11935,8 +11519,8 @@
 if test ${ac_cv_prog_ac_ct_OTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_OTOOL"; then
+else $as_nop
+  if test -n "$ac_ct_OTOOL"; then
   ac_cv_prog_ac_ct_OTOOL="$ac_ct_OTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -11958,8 +11542,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_OTOOL=$ac_cv_prog_ac_ct_OTOOL
 if test -n "$ac_ct_OTOOL"; then
@@ -11993,8 +11576,8 @@
 if test ${ac_cv_prog_OTOOL64+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$OTOOL64"; then
+else $as_nop
+  if test -n "$OTOOL64"; then
   ac_cv_prog_OTOOL64="$OTOOL64" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12016,8 +11599,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 OTOOL64=$ac_cv_prog_OTOOL64
 if test -n "$OTOOL64"; then
@@ -12039,8 +11621,8 @@
 if test ${ac_cv_prog_ac_ct_OTOOL64+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_OTOOL64"; then
+else $as_nop
+  if test -n "$ac_ct_OTOOL64"; then
   ac_cv_prog_ac_ct_OTOOL64="$ac_ct_OTOOL64" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12062,8 +11644,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_OTOOL64=$ac_cv_prog_ac_ct_OTOOL64
 if test -n "$ac_ct_OTOOL64"; then
@@ -12120,8 +11701,8 @@
 if test ${lt_cv_apple_cc_single_mod+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_apple_cc_single_mod=no
+else $as_nop
+  lt_cv_apple_cc_single_mod=no
       if test -z "$LT_MULTI_MODULE"; then
 	# By default we will add the -single_module flag. You can override
 	# by either setting the environment variable LT_MULTI_MODULE
@@ -12147,58 +11728,18 @@
 	fi
 	rm -rf libconftest.dylib*
 	rm -f conftest.*
-      fi ;;
-esac
+      fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_apple_cc_single_mod" >&5
 printf "%s\n" "$lt_cv_apple_cc_single_mod" >&6; }
 
-    # Feature test to disable chained fixups since it is not
-    # compatible with '-undefined dynamic_lookup'
-    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for -no_fixup_chains linker flag" >&5
-printf %s "checking for -no_fixup_chains linker flag... " >&6; }
-if test ${lt_cv_support_no_fixup_chains+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e)  save_LDFLAGS=$LDFLAGS
-        LDFLAGS="$LDFLAGS -Wl,-no_fixup_chains"
-        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-
-int
-main (void)
-{
-
-  ;
-  return 0;
-}
-_ACEOF
-if ac_fn_c_try_link "$LINENO"
-then :
-  lt_cv_support_no_fixup_chains=yes
-else case e in #(
-  e) lt_cv_support_no_fixup_chains=no
-         ;;
-esac
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
-        LDFLAGS=$save_LDFLAGS
-
-     ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_support_no_fixup_chains" >&5
-printf "%s\n" "$lt_cv_support_no_fixup_chains" >&6; }
-
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for -exported_symbols_list linker flag" >&5
 printf %s "checking for -exported_symbols_list linker flag... " >&6; }
 if test ${lt_cv_ld_exported_symbols_list+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_ld_exported_symbols_list=no
+else $as_nop
+  lt_cv_ld_exported_symbols_list=no
       save_LDFLAGS=$LDFLAGS
       echo "_main" > conftest.sym
       LDFLAGS="$LDFLAGS -Wl,-exported_symbols_list,conftest.sym"
@@ -12216,15 +11757,13 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_ld_exported_symbols_list=yes
-else case e in #(
-  e) lt_cv_ld_exported_symbols_list=no ;;
-esac
+else $as_nop
+  lt_cv_ld_exported_symbols_list=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 	LDFLAGS=$save_LDFLAGS
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_exported_symbols_list" >&5
 printf "%s\n" "$lt_cv_ld_exported_symbols_list" >&6; }
@@ -12234,8 +11773,8 @@
 if test ${lt_cv_ld_force_load+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_ld_force_load=no
+else $as_nop
+  lt_cv_ld_force_load=no
       cat > conftest.c << _LT_EOF
 int forced_loaded() { return 2;}
 _LT_EOF
@@ -12246,7 +11785,7 @@
       echo "$RANLIB libconftest.a" >&5
       $RANLIB libconftest.a 2>&5
       cat > conftest.c << _LT_EOF
-int main(void) { return 0;}
+int main() { return 0;}
 _LT_EOF
       echo "$LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a" >&5
       $LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a 2>conftest.err
@@ -12260,8 +11799,7 @@
       fi
         rm -f conftest.err libconftest.a conftest conftest.c
         rm -rf conftest.dSYM
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_ld_force_load" >&5
 printf "%s\n" "$lt_cv_ld_force_load" >&6; }
@@ -12275,32 +11813,13 @@
         10.[012],*|,*powerpc*-darwin[5-8]*)
           _lt_dar_allow_undefined='$wl-flat_namespace $wl-undefined ${wl}suppress' ;;
         *)
-          _lt_dar_allow_undefined='$wl-undefined ${wl}dynamic_lookup'
-          if test yes = "$lt_cv_support_no_fixup_chains"; then
-            as_fn_append _lt_dar_allow_undefined ' $wl-no_fixup_chains'
-          fi
-        ;;
+          _lt_dar_allow_undefined='$wl-undefined ${wl}dynamic_lookup' ;;
       esac
     ;;
   esac
     if test yes = "$lt_cv_apple_cc_single_mod"; then
       _lt_dar_single_mod='$single_module'
     fi
-    _lt_dar_needs_single_mod=no
-    case $host_os in
-    rhapsody* | darwin1.*)
-      _lt_dar_needs_single_mod=yes ;;
-    darwin*)
-      # When targeting Mac OS X 10.4 (darwin 8) or later,
-      # -single_module is the default and -multi_module is unsupported.
-      # The toolchain on macOS 10.14 (darwin 18) and later cannot
-      # target any OS version that needs -single_module.
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-      10.0,*-darwin[567].*|10.[0-3],*-darwin[5-9].*|10.[0-3],*-darwin1[0-7].*)
-        _lt_dar_needs_single_mod=yes ;;
-      esac
-    ;;
-    esac
     if test yes = "$lt_cv_ld_exported_symbols_list"; then
       _lt_dar_export_syms=' $wl-exported_symbols_list,$output_objdir/$libname-symbols.expsym'
     else
@@ -12365,7 +11884,7 @@
 enable_win32_dll=yes
 
 case $host in
-*-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-cegcc*)
+*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-cegcc*)
   if test -n "$ac_tool_prefix"; then
   # Extract the first word of "${ac_tool_prefix}as", so it can be a program name with args.
 set dummy ${ac_tool_prefix}as; ac_word=$2
@@ -12374,8 +11893,8 @@
 if test ${ac_cv_prog_AS+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$AS"; then
+else $as_nop
+  if test -n "$AS"; then
   ac_cv_prog_AS="$AS" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12397,8 +11916,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 AS=$ac_cv_prog_AS
 if test -n "$AS"; then
@@ -12420,8 +11938,8 @@
 if test ${ac_cv_prog_ac_ct_AS+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_AS"; then
+else $as_nop
+  if test -n "$ac_ct_AS"; then
   ac_cv_prog_ac_ct_AS="$ac_ct_AS" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12443,8 +11961,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_AS=$ac_cv_prog_ac_ct_AS
 if test -n "$ac_ct_AS"; then
@@ -12478,8 +11995,8 @@
 if test ${ac_cv_prog_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$DLLTOOL"; then
+else $as_nop
+  if test -n "$DLLTOOL"; then
   ac_cv_prog_DLLTOOL="$DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12501,8 +12018,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 DLLTOOL=$ac_cv_prog_DLLTOOL
 if test -n "$DLLTOOL"; then
@@ -12524,8 +12040,8 @@
 if test ${ac_cv_prog_ac_ct_DLLTOOL+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_DLLTOOL"; then
+else $as_nop
+  if test -n "$ac_ct_DLLTOOL"; then
   ac_cv_prog_ac_ct_DLLTOOL="$ac_ct_DLLTOOL" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12547,8 +12063,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_DLLTOOL=$ac_cv_prog_ac_ct_DLLTOOL
 if test -n "$ac_ct_DLLTOOL"; then
@@ -12582,8 +12097,8 @@
 if test ${ac_cv_prog_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$OBJDUMP"; then
+else $as_nop
+  if test -n "$OBJDUMP"; then
   ac_cv_prog_OBJDUMP="$OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12605,8 +12120,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 OBJDUMP=$ac_cv_prog_OBJDUMP
 if test -n "$OBJDUMP"; then
@@ -12628,8 +12142,8 @@
 if test ${ac_cv_prog_ac_ct_OBJDUMP+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_OBJDUMP"; then
+else $as_nop
+  if test -n "$ac_ct_OBJDUMP"; then
   ac_cv_prog_ac_ct_OBJDUMP="$ac_ct_OBJDUMP" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -12651,8 +12165,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_OBJDUMP=$ac_cv_prog_ac_ct_OBJDUMP
 if test -n "$ac_ct_OBJDUMP"; then
@@ -12725,9 +12238,8 @@
       IFS=$lt_save_ifs
       ;;
     esac
-else case e in #(
-  e) enable_shared=yes ;;
-esac
+else $as_nop
+  enable_shared=yes
 fi
 
 
@@ -12758,9 +12270,8 @@
       IFS=$lt_save_ifs
       ;;
     esac
-else case e in #(
-  e) enable_static=yes ;;
-esac
+else $as_nop
+  enable_static=yes
 fi
 
 
@@ -12771,52 +12282,28 @@
 
 
 
-  # Check whether --enable-pic was given.
-if test ${enable_pic+y}
-then :
-  enableval=$enable_pic; lt_p=${PACKAGE-default}
-     case $enableval in
-     yes|no) pic_mode=$enableval ;;
-     *)
-       pic_mode=default
-       # Look at the argument we got.  We use all the common list separators.
-       lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
-       for lt_pkg in $enableval; do
-	 IFS=$lt_save_ifs
-	 if test "X$lt_pkg" = "X$lt_p"; then
-	   pic_mode=yes
-	 fi
-       done
-       IFS=$lt_save_ifs
-       ;;
-     esac
-else case e in #(
-  e)           # Check whether --with-pic was given.
+
+# Check whether --with-pic was given.
 if test ${with_pic+y}
 then :
   withval=$with_pic; lt_p=${PACKAGE-default}
-	 case $withval in
-	 yes|no) pic_mode=$withval ;;
-	 *)
-	   pic_mode=default
-	   # Look at the argument we got.  We use all the common list separators.
-	   lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
-	   for lt_pkg in $withval; do
-	     IFS=$lt_save_ifs
-	     if test "X$lt_pkg" = "X$lt_p"; then
-	       pic_mode=yes
-	     fi
-	   done
-	   IFS=$lt_save_ifs
-	   ;;
-	 esac
-else case e in #(
-  e) pic_mode=default ;;
-esac
-fi
-
-     ;;
-esac
+    case $withval in
+    yes|no) pic_mode=$withval ;;
+    *)
+      pic_mode=default
+      # Look at the argument we got.  We use all the common list separators.
+      lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
+      for lt_pkg in $withval; do
+	IFS=$lt_save_ifs
+	if test "X$lt_pkg" = "X$lt_p"; then
+	  pic_mode=yes
+	fi
+      done
+      IFS=$lt_save_ifs
+      ;;
+    esac
+else $as_nop
+  pic_mode=default
 fi
 
 
@@ -12846,9 +12333,8 @@
       IFS=$lt_save_ifs
       ;;
     esac
-else case e in #(
-  e) enable_fast_install=yes ;;
-esac
+else $as_nop
+  enable_fast_install=yes
 fi
 
 
@@ -12863,46 +12349,29 @@
 power*-*-aix[5-9]*,yes)
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking which variant of shared library versioning to provide" >&5
 printf %s "checking which variant of shared library versioning to provide... " >&6; }
-  # Check whether --enable-aix-soname was given.
-if test ${enable_aix_soname+y}
-then :
-  enableval=$enable_aix_soname; case $enableval in
-     aix|svr4|both)
-       ;;
-     *)
-       as_fn_error $? "Unknown argument to --enable-aix-soname" "$LINENO" 5
-       ;;
-     esac
-     lt_cv_with_aix_soname=$enable_aix_soname
-else case e in #(
-  e) # Check whether --with-aix-soname was given.
+
+# Check whether --with-aix-soname was given.
 if test ${with_aix_soname+y}
 then :
   withval=$with_aix_soname; case $withval in
-         aix|svr4|both)
-           ;;
-         *)
-           as_fn_error $? "Unknown argument to --with-aix-soname" "$LINENO" 5
-           ;;
-         esac
-         lt_cv_with_aix_soname=$with_aix_soname
-else case e in #(
-  e) if test ${lt_cv_with_aix_soname+y}
+    aix|svr4|both)
+      ;;
+    *)
+      as_fn_error $? "Unknown argument to --with-aix-soname" "$LINENO" 5
+      ;;
+    esac
+    lt_cv_with_aix_soname=$with_aix_soname
+else $as_nop
+  if test ${lt_cv_with_aix_soname+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_with_aix_soname=aix ;;
-esac
-fi
- ;;
-esac
+else $as_nop
+  lt_cv_with_aix_soname=aix
 fi
 
-     enable_aix_soname=$lt_cv_with_aix_soname ;;
-esac
+    with_aix_soname=$lt_cv_with_aix_soname
 fi
 
-  with_aix_soname=$enable_aix_soname
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $with_aix_soname" >&5
 printf "%s\n" "$with_aix_soname" >&6; }
   if test aix != "$with_aix_soname"; then
@@ -12991,8 +12460,8 @@
 if test ${lt_cv_objdir+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) rm -f .libs 2>/dev/null
+else $as_nop
+  rm -f .libs 2>/dev/null
 mkdir .libs 2>/dev/null
 if test -d .libs; then
   lt_cv_objdir=.libs
@@ -13000,8 +12469,7 @@
   # MS-DOS does not allow filenames that begin with a dot.
   lt_cv_objdir=_libs
 fi
-rmdir .libs 2>/dev/null ;;
-esac
+rmdir .libs 2>/dev/null
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_objdir" >&5
 printf "%s\n" "$lt_cv_objdir" >&6; }
@@ -13062,8 +12530,8 @@
 if test ${lt_cv_path_MAGIC_CMD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case $MAGIC_CMD in
+else $as_nop
+  case $MAGIC_CMD in
 [\\/*] |  ?:[\\/]*)
   lt_cv_path_MAGIC_CMD=$MAGIC_CMD # Let the user override the test with a path.
   ;;
@@ -13106,7 +12574,6 @@
   IFS=$lt_save_ifs
   MAGIC_CMD=$lt_save_MAGIC_CMD
   ;;
-esac ;;
 esac
 fi
 
@@ -13130,8 +12597,8 @@
 if test ${lt_cv_path_MAGIC_CMD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case $MAGIC_CMD in
+else $as_nop
+  case $MAGIC_CMD in
 [\\/*] |  ?:[\\/]*)
   lt_cv_path_MAGIC_CMD=$MAGIC_CMD # Let the user override the test with a path.
   ;;
@@ -13174,7 +12641,6 @@
   IFS=$lt_save_ifs
   MAGIC_CMD=$lt_save_MAGIC_CMD
   ;;
-esac ;;
 esac
 fi
 
@@ -13218,7 +12684,7 @@
 lt_simple_compile_test_code="int some_variable = 0;"
 
 # Code to be used in simple link tests
-lt_simple_link_test_code='int main(void){return(0);}'
+lt_simple_link_test_code='int main(){return(0);}'
 
 
 
@@ -13274,8 +12740,8 @@
 if test ${lt_cv_prog_compiler_rtti_exceptions+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_rtti_exceptions=no
+else $as_nop
+  lt_cv_prog_compiler_rtti_exceptions=no
    ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="-fno-rtti -fno-exceptions"  ## exclude from sc_useless_quotes_in_assignment
@@ -13303,8 +12769,7 @@
      fi
    fi
    $RM conftest*
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_rtti_exceptions" >&5
 printf "%s\n" "$lt_cv_prog_compiler_rtti_exceptions" >&6; }
@@ -13360,7 +12825,7 @@
       # PIC is the default for these OSes.
       ;;
 
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
+    mingw* | cygwin* | pw32* | os2* | cegcc*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
@@ -13463,7 +12928,7 @@
       esac
       ;;
 
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
+    mingw* | cygwin* | pw32* | os2* | cegcc*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       lt_prog_compiler_pic='-DDLL_EXPORT'
@@ -13504,8 +12969,8 @@
 	lt_prog_compiler_pic='-KPIC'
 	lt_prog_compiler_static='-static'
         ;;
-      *flang* | ftn | f18* | f95*)
-        # Flang compiler.
+      # flang / f18. f95 an alias for gfortran or flang on Debian
+      flang* | f18* | f95*)
 	lt_prog_compiler_wl='-Wl,'
 	lt_prog_compiler_pic='-fPIC'
 	lt_prog_compiler_static='-static'
@@ -13592,12 +13057,6 @@
       lt_prog_compiler_static='-Bstatic'
       ;;
 
-    *-mlibc)
-      lt_prog_compiler_wl='-Wl,'
-      lt_prog_compiler_pic='-fPIC'
-      lt_prog_compiler_static='-static'
-      ;;
-
     *nto* | *qnx*)
       # QNX uses GNU C++, but need to define -shared option too, otherwise
       # it will coredump.
@@ -13614,9 +13073,6 @@
       lt_prog_compiler_static='-non_shared'
       ;;
 
-    serenity*)
-      ;;
-
     solaris*)
       lt_prog_compiler_pic='-KPIC'
       lt_prog_compiler_static='-Bstatic'
@@ -13684,9 +13140,8 @@
 if test ${lt_cv_prog_compiler_pic+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_pic=$lt_prog_compiler_pic ;;
-esac
+else $as_nop
+  lt_cv_prog_compiler_pic=$lt_prog_compiler_pic
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic" >&5
 printf "%s\n" "$lt_cv_prog_compiler_pic" >&6; }
@@ -13701,8 +13156,8 @@
 if test ${lt_cv_prog_compiler_pic_works+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_pic_works=no
+else $as_nop
+  lt_cv_prog_compiler_pic_works=no
    ac_outfile=conftest.$ac_objext
    echo "$lt_simple_compile_test_code" > conftest.$ac_ext
    lt_compiler_flag="$lt_prog_compiler_pic -DPIC"  ## exclude from sc_useless_quotes_in_assignment
@@ -13730,8 +13185,7 @@
      fi
    fi
    $RM conftest*
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic_works" >&5
 printf "%s\n" "$lt_cv_prog_compiler_pic_works" >&6; }
@@ -13767,8 +13221,8 @@
 if test ${lt_cv_prog_compiler_static_works+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_static_works=no
+else $as_nop
+  lt_cv_prog_compiler_static_works=no
    save_LDFLAGS=$LDFLAGS
    LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
@@ -13789,8 +13243,7 @@
    fi
    $RM -r conftest*
    LDFLAGS=$save_LDFLAGS
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_static_works" >&5
 printf "%s\n" "$lt_cv_prog_compiler_static_works" >&6; }
@@ -13812,8 +13265,8 @@
 if test ${lt_cv_prog_compiler_c_o+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_c_o=no
+else $as_nop
+  lt_cv_prog_compiler_c_o=no
    $RM -r conftest 2>/dev/null
    mkdir conftest
    cd conftest
@@ -13853,8 +13306,7 @@
    cd ..
    $RM -r conftest
    $RM conftest*
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o" >&5
 printf "%s\n" "$lt_cv_prog_compiler_c_o" >&6; }
@@ -13869,8 +13321,8 @@
 if test ${lt_cv_prog_compiler_c_o+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_c_o=no
+else $as_nop
+  lt_cv_prog_compiler_c_o=no
    $RM -r conftest 2>/dev/null
    mkdir conftest
    cd conftest
@@ -13910,8 +13362,7 @@
    cd ..
    $RM -r conftest
    $RM conftest*
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_c_o" >&5
 printf "%s\n" "$lt_cv_prog_compiler_c_o" >&6; }
@@ -13990,7 +13441,7 @@
   extract_expsyms_cmds=
 
   case $host_os in
-  cygwin* | mingw* | windows* | pw32* | cegcc*)
+  cygwin* | mingw* | pw32* | cegcc*)
     # FIXME: the MSVC++ and ICC port hasn't been tested in a loooong time
     # When not using gcc, we currently assume that we are using
     # Microsoft Visual C++ or Intel C++ Compiler.
@@ -14002,6 +13453,12 @@
     # we just hope/assume this is gcc and not c89 (= MSVC++ or ICC)
     with_gnu_ld=yes
     ;;
+  openbsd* | bitrig*)
+    with_gnu_ld=no
+    ;;
+  linux* | k*bsd*-gnu | gnu*)
+    link_all_deplibs=no
+    ;;
   esac
 
   ld_shlibs=yes
@@ -14102,7 +13559,7 @@
       fi
       ;;
 
-    cygwin* | mingw* | windows* | pw32* | cegcc*)
+    cygwin* | mingw* | pw32* | cegcc*)
       # _LT_TAGVAR(hardcode_libdir_flag_spec, ) is actually meaningless,
       # as there is no search path for DLLs.
       hardcode_libdir_flag_spec='-L$libdir'
@@ -14112,7 +13569,6 @@
       enable_shared_with_static_runtimes=yes
       export_symbols_cmds='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[BCDGRS][ ]/s/.*[ ]\([^ ]*\)/\1 DATA/;s/^.*[ ]__nm__\([^ ]*\)[ ][^ ]*/\1 DATA/;/^I[ ]/d;/^[AITW][ ]/s/.* //'\'' | sort | uniq > $export_symbols'
       exclude_expsyms='[_]+GLOBAL_OFFSET_TABLE_|[_]+GLOBAL__[FID]_.*|[_]+head_[A-Za-z0-9_]+_dll|[A-Za-z0-9_]+_dll_iname'
-      file_list_spec='@'
 
       if $LD --help 2>&1 | $GREP 'auto-import' > /dev/null; then
         archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname $wl--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
@@ -14132,7 +13588,7 @@
 
     haiku*)
       archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags $wl-soname $wl$soname -o $lib'
-      link_all_deplibs=no
+      link_all_deplibs=yes
       ;;
 
     os2*)
@@ -14159,7 +13615,7 @@
 	cat $export_symbols | $prefix_cmds >> $output_objdir/$libname.def~
 	$CC -Zdll -Zcrtdll -o $output_objdir/$soname $libobjs $deplibs $compiler_flags $output_objdir/$libname.def~
 	emximp -o $lib $output_objdir/$libname.def'
-      old_archive_from_new_cmds='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
+      old_archive_From_new_cmds='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
       enable_shared_with_static_runtimes=yes
       file_list_spec='@'
       ;;
@@ -14259,11 +13715,6 @@
       fi
       ;;
 
-    *-mlibc)
-	archive_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname -o $lib'
-	archive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname $wl-retain-symbols-file $wl$export_symbols -o $lib'
-      ;;
-
     netbsd* | netbsdelf*-gnu)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	archive_cmds='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
@@ -14510,8 +13961,8 @@
   if test ${lt_cv_aix_libpath_+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -14543,8 +13994,7 @@
   if test -z "$lt_cv_aix_libpath_"; then
     lt_cv_aix_libpath_=/usr/lib:/lib
   fi
-   ;;
-esac
+
 fi
 
   aix_libpath=$lt_cv_aix_libpath_
@@ -14566,8 +14016,8 @@
   if test ${lt_cv_aix_libpath_+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 int
@@ -14599,8 +14049,7 @@
   if test -z "$lt_cv_aix_libpath_"; then
     lt_cv_aix_libpath_=/usr/lib:/lib
   fi
-   ;;
-esac
+
 fi
 
   aix_libpath=$lt_cv_aix_libpath_
@@ -14656,7 +14105,7 @@
       export_dynamic_flag_spec=-rdynamic
       ;;
 
-    cygwin* | mingw* | windows* | pw32* | cegcc*)
+    cygwin* | mingw* | pw32* | cegcc*)
       # When not using gcc, we currently assume that we are using
       # Microsoft Visual C++ or Intel C++ Compiler.
       # hardcode_libdir_flag_spec is actually meaningless, as there is
@@ -14673,14 +14122,14 @@
 	# Tell ltmain to make .dll files, not .so files.
 	shrext_cmds=.dll
 	# FIXME: Setting linknames here is a bad hack.
-	archive_cmds='$CC -Fe$output_objdir/$soname $libobjs $compiler_flags $deplibs -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~linknames='
+	archive_cmds='$CC -o $output_objdir/$soname $libobjs $compiler_flags $deplibs -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~linknames='
 	archive_expsym_cmds='if   test DEF = "`$SED -n     -e '\''s/^[	 ]*//'\''     -e '\''/^\(;.*\)*$/d'\''     -e '\''s/^\(EXPORTS\|LIBRARY\)\([	 ].*\)*$/DEF/p'\''     -e q     $export_symbols`" ; then
             cp "$export_symbols" "$output_objdir/$soname.def";
             echo "$tool_output_objdir$soname.def" > "$output_objdir/$soname.exp";
           else
             $SED -e '\''s/^/-link -EXPORT:/'\'' < $export_symbols > $output_objdir/$soname.exp;
           fi~
-          $CC -Fe$tool_output_objdir$soname $libobjs $compiler_flags $deplibs "@$tool_output_objdir$soname.exp" -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~
+          $CC -o $tool_output_objdir$soname $libobjs $compiler_flags $deplibs "@$tool_output_objdir$soname.exp" -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~
           linknames='
 	# The linker will not automatically build a static lib if we build a DLL.
 	# _LT_TAGVAR(old_archive_from_new_cmds, )='true'
@@ -14851,8 +14300,8 @@
 if test ${lt_cv_prog_compiler__b+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler__b=no
+else $as_nop
+  lt_cv_prog_compiler__b=no
    save_LDFLAGS=$LDFLAGS
    LDFLAGS="$LDFLAGS -b"
    echo "$lt_simple_link_test_code" > conftest.$ac_ext
@@ -14873,8 +14322,7 @@
    fi
    $RM -r conftest*
    LDFLAGS=$save_LDFLAGS
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler__b" >&5
 printf "%s\n" "$lt_cv_prog_compiler__b" >&6; }
@@ -14922,8 +14370,8 @@
 if test ${lt_cv_irix_exported_symbol+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) save_LDFLAGS=$LDFLAGS
+else $as_nop
+  save_LDFLAGS=$LDFLAGS
 	   LDFLAGS="$LDFLAGS -shared $wl-exported_symbol ${wl}foo $wl-update_registry $wl/dev/null"
 	   cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -14932,20 +14380,19 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   lt_cv_irix_exported_symbol=yes
-else case e in #(
-  e) lt_cv_irix_exported_symbol=no ;;
-esac
+else $as_nop
+  lt_cv_irix_exported_symbol=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-           LDFLAGS=$save_LDFLAGS ;;
-esac
+           LDFLAGS=$save_LDFLAGS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_irix_exported_symbol" >&5
 printf "%s\n" "$lt_cv_irix_exported_symbol" >&6; }
 	if test yes = "$lt_cv_irix_exported_symbol"; then
           archive_expsym_cmds='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname `test -n "$verstring" && func_echo_all "$wl-set_version $wl$verstring"` $wl-update_registry $wl$output_objdir/so_locations $wl-exports_file $wl$export_symbols -o $lib'
 	fi
+	link_all_deplibs=no
       else
 	archive_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -o $lib'
 	archive_expsym_cmds='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -exports_file $export_symbols -o $lib'
@@ -14968,9 +14415,6 @@
       esac
       ;;
 
-    *-mlibc)
-      ;;
-
     netbsd* | netbsdelf*-gnu)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	archive_cmds='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
@@ -14993,7 +14437,7 @@
     *nto* | *qnx*)
       ;;
 
-    openbsd*)
+    openbsd* | bitrig*)
       if test -f /usr/libexec/ld.so; then
 	hardcode_direct=yes
 	hardcode_shlibpath_var=no
@@ -15036,7 +14480,7 @@
 	cat $export_symbols | $prefix_cmds >> $output_objdir/$libname.def~
 	$CC -Zdll -Zcrtdll -o $output_objdir/$soname $libobjs $deplibs $compiler_flags $output_objdir/$libname.def~
 	emximp -o $lib $output_objdir/$libname.def'
-      old_archive_from_new_cmds='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
+      old_archive_From_new_cmds='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
       enable_shared_with_static_runtimes=yes
       file_list_spec='@'
       ;;
@@ -15072,9 +14516,6 @@
       hardcode_libdir_separator=:
       ;;
 
-    serenity*)
-      ;;
-
     solaris*)
       no_undefined_flag=' -z defs'
       if test yes = "$GCC"; then
@@ -15272,8 +14713,8 @@
 if test ${lt_cv_archive_cmds_need_lc+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) $RM conftest*
+else $as_nop
+  $RM conftest*
 	echo "$lt_simple_compile_test_code" > conftest.$ac_ext
 
 	if { { eval echo "\"\$as_me\":${as_lineno-$LINENO}: \"$ac_compile\""; } >&5
@@ -15309,8 +14750,7 @@
 	  cat conftest.err 1>&5
 	fi
 	$RM conftest*
-	 ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_archive_cmds_need_lc" >&5
 printf "%s\n" "$lt_cv_archive_cmds_need_lc" >&6; }
@@ -15481,7 +14921,7 @@
     *) lt_awk_arg='/^libraries:/' ;;
   esac
   case $host_os in
-    mingw* | windows* | cegcc*) lt_sed_strip_eq='s|=\([A-Za-z]:\)|\1|g' ;;
+    mingw* | cegcc*) lt_sed_strip_eq='s|=\([A-Za-z]:\)|\1|g' ;;
     *) lt_sed_strip_eq='s|=/|/|g' ;;
   esac
   lt_search_path_spec=`$CC -print-search-dirs | awk $lt_awk_arg | $SED -e "s/^libraries://" -e $lt_sed_strip_eq`
@@ -15539,7 +14979,7 @@
   # AWK program above erroneously prepends '/' to C:/dos/paths
   # for these hosts.
   case $host_os in
-    mingw* | windows* | cegcc*) lt_search_path_spec=`$ECHO "$lt_search_path_spec" |\
+    mingw* | cegcc*) lt_search_path_spec=`$ECHO "$lt_search_path_spec" |\
       $SED 's|/\([A-Za-z]:\)|\1|g'` ;;
   esac
   sys_lib_search_path_spec=`$ECHO "$lt_search_path_spec" | $lt_NL2SP`
@@ -15613,7 +15053,7 @@
     # Unfortunately, runtime linking may impact performance, so we do
     # not want this to be the default eventually. Also, we use the
     # versioned .so libs for executables only if there is the -brtl
-    # linker flag in LDFLAGS as well, or --enable-aix-soname=svr4 only.
+    # linker flag in LDFLAGS as well, or --with-aix-soname=svr4 only.
     # To allow for filename-based versioning support, we need to create
     # libNAME.so.V as an archive file, containing:
     # *) an Import File, referring to the versioned filename of the
@@ -15707,7 +15147,7 @@
   # libtool to hard-code these into programs
   ;;
 
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   version_type=windows
   shrext_cmds=.dll
   need_version=no
@@ -15718,29 +15158,15 @@
     # gcc
     library_names_spec='$libname.dll.a'
     # DLL is installed to $(libdir)/../bin by postinstall_cmds
-    # If user builds GCC with multilib enabled,
-    # it should just install on $(libdir)
-    # not on $(libdir)/../bin or 32 bits dlls would override 64 bit ones.
-    if test xyes = x"$multilib"; then
-      postinstall_cmds='base_file=`basename \$file`~
-        dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
-        dldir=$destdir/`dirname \$dlpath`~
-        $install_prog $dir/$dlname $destdir/$dlname~
-        chmod a+x $destdir/$dlname~
-        if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
-          eval '\''$striplib $destdir/$dlname'\'' || exit \$?;
-        fi'
-    else
-      postinstall_cmds='base_file=`basename \$file`~
-        dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
-        dldir=$destdir/`dirname \$dlpath`~
-        test -d \$dldir || mkdir -p \$dldir~
-        $install_prog $dir/$dlname \$dldir/$dlname~
-        chmod a+x \$dldir/$dlname~
-        if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
-          eval '\''$striplib \$dldir/$dlname'\'' || exit \$?;
-        fi'
-    fi
+    postinstall_cmds='base_file=`basename \$file`~
+      dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
+      dldir=$destdir/`dirname \$dlpath`~
+      test -d \$dldir || mkdir -p \$dldir~
+      $install_prog $dir/$dlname \$dldir/$dlname~
+      chmod a+x \$dldir/$dlname~
+      if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
+        eval '\''$striplib \$dldir/$dlname'\'' || exit \$?;
+      fi'
     postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
       dlpath=$dir/\$dldll~
        $RM \$dlpath'
@@ -15753,7 +15179,7 @@
 
       sys_lib_search_path_spec="$sys_lib_search_path_spec /usr/lib/w32api"
       ;;
-    mingw* | windows* | cegcc*)
+    mingw* | cegcc*)
       # MinGW DLLs use traditional 'lib' prefix
       soname_spec='$libname`echo $release | $SED -e 's/[.]/-/g'`$versuffix$shared_ext'
       ;;
@@ -15772,7 +15198,7 @@
     library_names_spec='$libname.dll.lib'
 
     case $build_os in
-    mingw* | windows*)
+    mingw*)
       sys_lib_search_path_spec=
       lt_save_ifs=$IFS
       IFS=';'
@@ -15879,28 +15305,7 @@
       need_version=yes
       ;;
   esac
-  case $host_cpu in
-    powerpc64)
-      # On FreeBSD bi-arch platforms, a different variable is used for 32-bit
-      # binaries.  See <https://man.freebsd.org/cgi/man.cgi?query=ld.so>.
-      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
-/* end confdefs.h.  */
-int test_pointer_size[sizeof (void *) - 5];
-
-_ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
   shlibpath_var=LD_LIBRARY_PATH
-else case e in #(
-  e) shlibpath_var=LD_32_LIBRARY_PATH ;;
-esac
-fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-      ;;
-    *)
-      shlibpath_var=LD_LIBRARY_PATH
-      ;;
-  esac
   case $host_os in
   freebsd2.*)
     shlibpath_overrides_runpath=yes
@@ -15930,9 +15335,8 @@
   soname_spec='$libname$release$shared_ext$major'
   shlibpath_var=LIBRARY_PATH
   shlibpath_overrides_runpath=no
-  sys_lib_search_path_spec='/boot/system/non-packaged/develop/lib /boot/system/develop/lib'
-  sys_lib_dlsearch_path_spec='/boot/home/config/non-packaged/lib /boot/home/config/lib /boot/system/non-packaged/lib /boot/system/lib'
-  hardcode_into_libs=no
+  sys_lib_dlsearch_path_spec='/boot/home/config/lib /boot/common/lib /boot/system/lib'
+  hardcode_into_libs=yes
   ;;
 
 hpux9* | hpux10* | hpux11*)
@@ -16042,7 +15446,7 @@
   version_type=none # Android doesn't support versioned libraries.
   need_lib_prefix=no
   need_version=no
-  library_names_spec='$libname$release$shared_ext $libname$shared_ext'
+  library_names_spec='$libname$release$shared_ext'
   soname_spec='$libname$release$shared_ext'
   finish_cmds=
   shlibpath_var=LD_LIBRARY_PATH
@@ -16054,9 +15458,8 @@
   hardcode_into_libs=yes
 
   dynamic_linker='Android linker'
-  # -rpath works at least for libraries that are not overridden by
-  # libraries installed in system locations.
-  hardcode_libdir_flag_spec='$wl-rpath $wl$libdir'
+  # Don't embed -rpath directories since the linker doesn't support them.
+  hardcode_libdir_flag_spec='-L$libdir'
   ;;
 
 # This must be glibc/ELF.
@@ -16074,8 +15477,8 @@
   if test ${lt_cv_shlibpath_overrides_runpath+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_shlibpath_overrides_runpath=no
+else $as_nop
+  lt_cv_shlibpath_overrides_runpath=no
     save_LDFLAGS=$LDFLAGS
     save_libdir=$libdir
     eval "libdir=/foo; wl=\"$lt_prog_compiler_wl\"; \
@@ -16102,8 +15505,7 @@
     conftest$ac_exeext conftest.$ac_ext
     LDFLAGS=$save_LDFLAGS
     libdir=$save_libdir
-     ;;
-esac
+
 fi
 
   shlibpath_overrides_runpath=$lt_cv_shlibpath_overrides_runpath
@@ -16113,7 +15515,7 @@
   # before this can be enabled.
   hardcode_into_libs=yes
 
-  # Ideally, we could use ldconfig to report *all* directories which are
+  # Ideally, we could use ldconfig to report *all* directores which are
   # searched for libraries, however this is still not possible.  Aside from not
   # being certain /sbin/ldconfig is available, command
   # 'ldconfig -N -X -v | grep ^/' on 64bit Fedora does not report /usr/lib64,
@@ -16137,8 +15539,8 @@
   version_type=linux
   need_lib_prefix=no
   need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
+  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+  soname_spec='${libname}${release}${shared_ext}$major'
   shlibpath_var=LD_LIBRARY_PATH
   shlibpath_overrides_runpath=no
   hardcode_into_libs=yes
@@ -16163,18 +15565,6 @@
   hardcode_into_libs=yes
   ;;
 
-*-mlibc)
-  version_type=linux # correct to gnu/linux during the next big refactor
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
-  dynamic_linker='mlibc ld.so'
-  shlibpath_var=LD_LIBRARY_PATH
-  shlibpath_overrides_runpath=no
-  hardcode_into_libs=yes
-  ;;
-
 newsos6)
   version_type=linux # correct to gnu/linux during the next big refactor
   library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
@@ -16194,7 +15584,7 @@
   dynamic_linker='ldqnx.so'
   ;;
 
-openbsd*)
+openbsd* | bitrig*)
   version_type=sunos
   sys_lib_dlsearch_path_spec=/usr/lib
   need_lib_prefix=no
@@ -16254,17 +15644,6 @@
   dynamic_linker=no
   ;;
 
-serenity*)
-  version_type=linux # correct to gnu/linux during the next big refactor
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
-  shlibpath_var=LD_LIBRARY_PATH
-  shlibpath_overrides_runpath=no
-  dynamic_linker='SerenityOS LibELF'
-  ;;
-
 solaris*)
   version_type=linux # correct to gnu/linux during the next big refactor
   need_lib_prefix=no
@@ -16362,496 +15741,6 @@
   shlibpath_var=LD_LIBRARY_PATH
   ;;
 
-emscripten*)
-  version_type=none
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext'
-  soname_spec='$libname$release$shared_ext'
-  finish_cmds=
-  dynamic_linker="Emscripten linker"
-  lt_prog_compiler_wl=
-lt_prog_compiler_pic=
-lt_prog_compiler_static=
-
-
-  if test yes = "$GCC"; then
-    lt_prog_compiler_wl='-Wl,'
-    lt_prog_compiler_static='-static'
-
-    case $host_os in
-      aix*)
-      # All AIX code is PIC.
-      if test ia64 = "$host_cpu"; then
-	# AIX 5 now supports IA64 processor
-	lt_prog_compiler_static='-Bstatic'
-      fi
-      lt_prog_compiler_pic='-fPIC'
-      ;;
-
-    amigaos*)
-      case $host_cpu in
-      powerpc)
-            # see comment about AmigaOS4 .so support
-            lt_prog_compiler_pic='-fPIC'
-        ;;
-      m68k)
-            # FIXME: we need at least 68020 code to build shared libraries, but
-            # adding the '-m68020' flag to GCC prevents building anything better,
-            # like '-m68040'.
-            lt_prog_compiler_pic='-m68020 -resident32 -malways-restore-a4'
-        ;;
-      esac
-      ;;
-
-    beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
-      # PIC is the default for these OSes.
-      ;;
-
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
-      # This hack is so that the source file can tell whether it is being
-      # built for inclusion in a dll (and should export symbols for example).
-      # Although the cygwin gcc ignores -fPIC, still need this for old-style
-      # (--disable-auto-import) libraries
-      lt_prog_compiler_pic='-DDLL_EXPORT'
-      case $host_os in
-      os2*)
-	lt_prog_compiler_static='$wl-static'
-	;;
-      esac
-      ;;
-
-    darwin* | rhapsody*)
-      # PIC is the default on this platform
-      # Common symbols not allowed in MH_DYLIB files
-      lt_prog_compiler_pic='-fno-common'
-      ;;
-
-    haiku*)
-      # PIC is the default for Haiku.
-      # The "-static" flag exists, but is broken.
-      lt_prog_compiler_static=
-      ;;
-
-    hpux*)
-      # PIC is the default for 64-bit PA HP-UX, but not for 32-bit
-      # PA HP-UX.  On IA64 HP-UX, PIC is the default but the pic flag
-      # sets the default TLS model and affects inlining.
-      case $host_cpu in
-      hppa*64*)
-	# +Z the default
-	;;
-      *)
-	lt_prog_compiler_pic='-fPIC'
-	;;
-      esac
-      ;;
-
-    interix[3-9]*)
-      # Interix 3.x gcc -fpic/-fPIC options generate broken code.
-      # Instead, we relocate shared libraries at runtime.
-      ;;
-
-    msdosdjgpp*)
-      # Just because we use GCC doesn't mean we suddenly get shared libraries
-      # on systems that don't support them.
-      lt_prog_compiler_can_build_shared=no
-      enable_shared=no
-      ;;
-
-    *nto* | *qnx*)
-      # QNX uses GNU C++, but need to define -shared option too, otherwise
-      # it will coredump.
-      lt_prog_compiler_pic='-fPIC -shared'
-      ;;
-
-    sysv4*MP*)
-      if test -d /usr/nec; then
-	lt_prog_compiler_pic=-Kconform_pic
-      fi
-      ;;
-
-    *)
-      lt_prog_compiler_pic='-fPIC'
-      ;;
-    esac
-
-    case $cc_basename in
-    nvcc*) # Cuda Compiler Driver 2.2
-      lt_prog_compiler_wl='-Xlinker '
-      if test -n "$lt_prog_compiler_pic"; then
-        lt_prog_compiler_pic="-Xcompiler $lt_prog_compiler_pic"
-      fi
-      ;;
-    esac
-  else
-    # PORTME Check for flag to pass linker flags through the system compiler.
-    case $host_os in
-    aix*)
-      lt_prog_compiler_wl='-Wl,'
-      if test ia64 = "$host_cpu"; then
-	# AIX 5 now supports IA64 processor
-	lt_prog_compiler_static='-Bstatic'
-      else
-	lt_prog_compiler_static='-bnso -bI:/lib/syscalls.exp'
-      fi
-      ;;
-
-    darwin* | rhapsody*)
-      # PIC is the default on this platform
-      # Common symbols not allowed in MH_DYLIB files
-      lt_prog_compiler_pic='-fno-common'
-      case $cc_basename in
-      nagfor*)
-        # NAG Fortran compiler
-        lt_prog_compiler_wl='-Wl,-Wl,,'
-        lt_prog_compiler_pic='-PIC'
-        lt_prog_compiler_static='-Bstatic'
-        ;;
-      esac
-      ;;
-
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
-      # This hack is so that the source file can tell whether it is being
-      # built for inclusion in a dll (and should export symbols for example).
-      lt_prog_compiler_pic='-DDLL_EXPORT'
-      case $host_os in
-      os2*)
-	lt_prog_compiler_static='$wl-static'
-	;;
-      esac
-      ;;
-
-    hpux9* | hpux10* | hpux11*)
-      lt_prog_compiler_wl='-Wl,'
-      # PIC is the default for IA64 HP-UX and 64-bit HP-UX, but
-      # not for PA HP-UX.
-      case $host_cpu in
-      hppa*64*|ia64*)
-	# +Z the default
-	;;
-      *)
-	lt_prog_compiler_pic='+Z'
-	;;
-      esac
-      # Is there a better lt_prog_compiler_static that works with the bundled CC?
-      lt_prog_compiler_static='$wl-a ${wl}archive'
-      ;;
-
-    irix5* | irix6* | nonstopux*)
-      lt_prog_compiler_wl='-Wl,'
-      # PIC (with -KPIC) is the default.
-      lt_prog_compiler_static='-non_shared'
-      ;;
-
-    linux* | k*bsd*-gnu | kopensolaris*-gnu | gnu*)
-      case $cc_basename in
-      # old Intel for x86_64, which still supported -KPIC.
-      ecc*)
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-KPIC'
-	lt_prog_compiler_static='-static'
-        ;;
-      *flang* | ftn | f18* | f95*)
-        # Flang compiler.
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-fPIC'
-	lt_prog_compiler_static='-static'
-        ;;
-      # icc used to be incompatible with GCC.
-      # ICC 10 doesn't accept -KPIC any more.
-      icc* | ifort*)
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-fPIC'
-	lt_prog_compiler_static='-static'
-        ;;
-      # Lahey Fortran 8.1.
-      lf95*)
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='--shared'
-	lt_prog_compiler_static='--static'
-	;;
-      nagfor*)
-	# NAG Fortran compiler
-	lt_prog_compiler_wl='-Wl,-Wl,,'
-	lt_prog_compiler_pic='-PIC'
-	lt_prog_compiler_static='-Bstatic'
-	;;
-      tcc*)
-	# Fabrice Bellard et al's Tiny C Compiler
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-fPIC'
-	lt_prog_compiler_static='-static'
-	;;
-      pgcc* | pgf77* | pgf90* | pgf95* | pgfortran*)
-        # Portland Group compilers (*not* the Pentium gcc compiler,
-	# which looks to be a dead project)
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-fpic'
-	lt_prog_compiler_static='-Bstatic'
-        ;;
-      ccc*)
-        lt_prog_compiler_wl='-Wl,'
-        # All Alpha code is PIC.
-        lt_prog_compiler_static='-non_shared'
-        ;;
-      xl* | bgxl* | bgf* | mpixl*)
-	# IBM XL C 8.0/Fortran 10.1, 11.1 on PPC and BlueGene
-	lt_prog_compiler_wl='-Wl,'
-	lt_prog_compiler_pic='-qpic'
-	lt_prog_compiler_static='-qstaticlink'
-	;;
-      *)
-	case `$CC -V 2>&1 | $SED 5q` in
-	*Sun\ Ceres\ Fortran* | *Sun*Fortran*\ [1-7].* | *Sun*Fortran*\ 8.[0-3]*)
-	  # Sun Fortran 8.3 passes all unrecognized flags to the linker
-	  lt_prog_compiler_pic='-KPIC'
-	  lt_prog_compiler_static='-Bstatic'
-	  lt_prog_compiler_wl=''
-	  ;;
-	*Sun\ F* | *Sun*Fortran*)
-	  lt_prog_compiler_pic='-KPIC'
-	  lt_prog_compiler_static='-Bstatic'
-	  lt_prog_compiler_wl='-Qoption ld '
-	  ;;
-	*Sun\ C*)
-	  # Sun C 5.9
-	  lt_prog_compiler_pic='-KPIC'
-	  lt_prog_compiler_static='-Bstatic'
-	  lt_prog_compiler_wl='-Wl,'
-	  ;;
-        *Intel*\ [CF]*Compiler*)
-	  lt_prog_compiler_wl='-Wl,'
-	  lt_prog_compiler_pic='-fPIC'
-	  lt_prog_compiler_static='-static'
-	  ;;
-	*Portland\ Group*)
-	  lt_prog_compiler_wl='-Wl,'
-	  lt_prog_compiler_pic='-fpic'
-	  lt_prog_compiler_static='-Bstatic'
-	  ;;
-	esac
-	;;
-      esac
-      ;;
-
-    newsos6)
-      lt_prog_compiler_pic='-KPIC'
-      lt_prog_compiler_static='-Bstatic'
-      ;;
-
-    *-mlibc)
-      lt_prog_compiler_wl='-Wl,'
-      lt_prog_compiler_pic='-fPIC'
-      lt_prog_compiler_static='-static'
-      ;;
-
-    *nto* | *qnx*)
-      # QNX uses GNU C++, but need to define -shared option too, otherwise
-      # it will coredump.
-      lt_prog_compiler_pic='-fPIC -shared'
-      ;;
-
-    osf3* | osf4* | osf5*)
-      lt_prog_compiler_wl='-Wl,'
-      # All OSF/1 code is PIC.
-      lt_prog_compiler_static='-non_shared'
-      ;;
-
-    rdos*)
-      lt_prog_compiler_static='-non_shared'
-      ;;
-
-    serenity*)
-      ;;
-
-    solaris*)
-      lt_prog_compiler_pic='-KPIC'
-      lt_prog_compiler_static='-Bstatic'
-      case $cc_basename in
-      f77* | f90* | f95* | sunf77* | sunf90* | sunf95*)
-	lt_prog_compiler_wl='-Qoption ld ';;
-      *)
-	lt_prog_compiler_wl='-Wl,';;
-      esac
-      ;;
-
-    sunos4*)
-      lt_prog_compiler_wl='-Qoption ld '
-      lt_prog_compiler_pic='-PIC'
-      lt_prog_compiler_static='-Bstatic'
-      ;;
-
-    sysv4 | sysv4.2uw2* | sysv4.3*)
-      lt_prog_compiler_wl='-Wl,'
-      lt_prog_compiler_pic='-KPIC'
-      lt_prog_compiler_static='-Bstatic'
-      ;;
-
-    sysv4*MP*)
-      if test -d /usr/nec; then
-	lt_prog_compiler_pic='-Kconform_pic'
-	lt_prog_compiler_static='-Bstatic'
-      fi
-      ;;
-
-    sysv5* | unixware* | sco3.2v5* | sco5v6* | OpenUNIX*)
-      lt_prog_compiler_wl='-Wl,'
-      lt_prog_compiler_pic='-KPIC'
-      lt_prog_compiler_static='-Bstatic'
-      ;;
-
-    unicos*)
-      lt_prog_compiler_wl='-Wl,'
-      lt_prog_compiler_can_build_shared=no
-      ;;
-
-    uts4*)
-      lt_prog_compiler_pic='-pic'
-      lt_prog_compiler_static='-Bstatic'
-      ;;
-
-    *)
-      lt_prog_compiler_can_build_shared=no
-      ;;
-    esac
-  fi
-
-case $host_os in
-  # For platforms that do not support PIC, -DPIC is meaningless:
-  *djgpp*)
-    lt_prog_compiler_pic=
-    ;;
-  *)
-    lt_prog_compiler_pic="$lt_prog_compiler_pic -DPIC"
-    ;;
-esac
-
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $compiler option to produce PIC" >&5
-printf %s "checking for $compiler option to produce PIC... " >&6; }
-if test ${lt_cv_prog_compiler_pic+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_pic=$lt_prog_compiler_pic ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic" >&5
-printf "%s\n" "$lt_cv_prog_compiler_pic" >&6; }
-lt_prog_compiler_pic=$lt_cv_prog_compiler_pic
-
-#
-# Check to make sure the PIC flag actually works.
-#
-if test -n "$lt_prog_compiler_pic"; then
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $compiler PIC flag $lt_prog_compiler_pic works" >&5
-printf %s "checking if $compiler PIC flag $lt_prog_compiler_pic works... " >&6; }
-if test ${lt_cv_prog_compiler_pic_works+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_pic_works=no
-   ac_outfile=conftest.$ac_objext
-   echo "$lt_simple_compile_test_code" > conftest.$ac_ext
-   lt_compiler_flag="$lt_prog_compiler_pic -DPIC"  ## exclude from sc_useless_quotes_in_assignment
-   # Insert the option either (1) after the last *FLAGS variable, or
-   # (2) before a word containing "conftest.", or (3) at the end.
-   # Note that $ac_compile itself does not contain backslashes and begins
-   # with a dollar sign (not a hyphen), so the echo should work correctly.
-   # The option is referenced via a variable to avoid confusing sed.
-   lt_compile=`echo "$ac_compile" | $SED \
-   -e 's:.*FLAGS}\{0,1\} :&$lt_compiler_flag :; t' \
-   -e 's: [^ ]*conftest\.: $lt_compiler_flag&:; t' \
-   -e 's:$: $lt_compiler_flag:'`
-   (eval echo "\"\$as_me:$LINENO: $lt_compile\"" >&5)
-   (eval "$lt_compile" 2>conftest.err)
-   ac_status=$?
-   cat conftest.err >&5
-   echo "$as_me:$LINENO: \$? = $ac_status" >&5
-   if (exit $ac_status) && test -s "$ac_outfile"; then
-     # The compiler can only warn and ignore the option if not recognized
-     # So say no if there are warnings other than the usual output.
-     $ECHO "$_lt_compiler_boilerplate" | $SED '/^$/d' >conftest.exp
-     $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
-     if test ! -s conftest.er2 || diff conftest.exp conftest.er2 >/dev/null; then
-       lt_cv_prog_compiler_pic_works=yes
-     fi
-   fi
-   $RM conftest*
- ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_pic_works" >&5
-printf "%s\n" "$lt_cv_prog_compiler_pic_works" >&6; }
-
-if test yes = "$lt_cv_prog_compiler_pic_works"; then
-    case $lt_prog_compiler_pic in
-     "" | " "*) ;;
-     *) lt_prog_compiler_pic=" $lt_prog_compiler_pic" ;;
-     esac
-else
-    lt_prog_compiler_pic=
-     lt_prog_compiler_can_build_shared=no
-fi
-
-fi
-
-
-
-
-
-#
-# Check to make sure the static flag actually works.
-#
-wl=$lt_prog_compiler_wl eval lt_tmp_static_flag=\"$lt_prog_compiler_static\"
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking if $compiler static flag $lt_tmp_static_flag works" >&5
-printf %s "checking if $compiler static flag $lt_tmp_static_flag works... " >&6; }
-if test ${lt_cv_prog_compiler_static_works+y}
-then :
-  printf %s "(cached) " >&6
-else case e in #(
-  e) lt_cv_prog_compiler_static_works=no
-   save_LDFLAGS=$LDFLAGS
-   LDFLAGS="$LDFLAGS $lt_tmp_static_flag"
-   echo "$lt_simple_link_test_code" > conftest.$ac_ext
-   if (eval $ac_link 2>conftest.err) && test -s conftest$ac_exeext; then
-     # The linker can only warn and ignore the option if not recognized
-     # So say no if there are warnings
-     if test -s conftest.err; then
-       # Append any errors to the config.log.
-       cat conftest.err 1>&5
-       $ECHO "$_lt_linker_boilerplate" | $SED '/^$/d' > conftest.exp
-       $SED '/^$/d; /^ *+/d' conftest.err >conftest.er2
-       if diff conftest.exp conftest.er2 >/dev/null; then
-         lt_cv_prog_compiler_static_works=yes
-       fi
-     else
-       lt_cv_prog_compiler_static_works=yes
-     fi
-   fi
-   $RM -r conftest*
-   LDFLAGS=$save_LDFLAGS
- ;;
-esac
-fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_prog_compiler_static_works" >&5
-printf "%s\n" "$lt_cv_prog_compiler_static_works" >&6; }
-
-if test yes = "$lt_cv_prog_compiler_static_works"; then
-    :
-else
-    lt_prog_compiler_static=
-fi
-
-
-
-='-fPIC'
-  archive_cmds='$CC -sSIDE_MODULE=2 -shared $libobjs $deplibs $compiler_flags -o $lib'
-  archive_expsym_cmds='$SED "s|^|_|" $export_symbols >$output_objdir/$soname.expsym~$CC -sSIDE_MODULE=2 -shared $libobjs $deplibs $compiler_flags -o $lib -s EXPORTED_FUNCTIONS=@$output_objdir/$soname.expsym'
-  archive_cmds_need_lc=no
-  no_undefined_flag=
-  ;;
-
 *)
   dynamic_linker=no
   ;;
@@ -17036,7 +15925,7 @@
     lt_cv_dlopen_self=yes
     ;;
 
-  mingw* | windows* | pw32* | cegcc*)
+  mingw* | pw32* | cegcc*)
     lt_cv_dlopen=LoadLibrary
     lt_cv_dlopen_libs=
     ;;
@@ -17053,22 +15942,16 @@
 if test ${ac_cv_lib_dl_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_check_lib_save_LIBS=$LIBS
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char dlopen (void);
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
 int
 main (void)
 {
@@ -17080,27 +15963,24 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dl_dlopen=yes
-else case e in #(
-  e) ac_cv_lib_dl_dlopen=no ;;
-esac
+else $as_nop
+  ac_cv_lib_dl_dlopen=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS ;;
-esac
+LIBS=$ac_check_lib_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_dl_dlopen" >&6; }
 if test "x$ac_cv_lib_dl_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl
-else case e in #(
-  e)
+else $as_nop
+
     lt_cv_dlopen=dyld
     lt_cv_dlopen_libs=
     lt_cv_dlopen_self=yes
-     ;;
-esac
+
 fi
 
     ;;
@@ -17118,28 +15998,22 @@
 if test "x$ac_cv_func_shl_load" = xyes
 then :
   lt_cv_dlopen=shl_load
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for shl_load in -ldld" >&5
 printf %s "checking for shl_load in -ldld... " >&6; }
 if test ${ac_cv_lib_dld_shl_load+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_check_lib_save_LIBS=$LIBS
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char shl_load (void);
+   builtin and then its argument prototype would still apply.  */
+char shl_load ();
 int
 main (void)
 {
@@ -17151,47 +16025,39 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dld_shl_load=yes
-else case e in #(
-  e) ac_cv_lib_dld_shl_load=no ;;
-esac
+else $as_nop
+  ac_cv_lib_dld_shl_load=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS ;;
-esac
+LIBS=$ac_check_lib_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_shl_load" >&5
 printf "%s\n" "$ac_cv_lib_dld_shl_load" >&6; }
 if test "x$ac_cv_lib_dld_shl_load" = xyes
 then :
   lt_cv_dlopen=shl_load lt_cv_dlopen_libs=-ldld
-else case e in #(
-  e) ac_fn_c_check_func "$LINENO" "dlopen" "ac_cv_func_dlopen"
+else $as_nop
+  ac_fn_c_check_func "$LINENO" "dlopen" "ac_cv_func_dlopen"
 if test "x$ac_cv_func_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -ldl" >&5
 printf %s "checking for dlopen in -ldl... " >&6; }
 if test ${ac_cv_lib_dl_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_check_lib_save_LIBS=$LIBS
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldl  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char dlopen (void);
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
 int
 main (void)
 {
@@ -17203,42 +16069,34 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dl_dlopen=yes
-else case e in #(
-  e) ac_cv_lib_dl_dlopen=no ;;
-esac
+else $as_nop
+  ac_cv_lib_dl_dlopen=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS ;;
-esac
+LIBS=$ac_check_lib_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dl_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_dl_dlopen" >&6; }
 if test "x$ac_cv_lib_dl_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-ldl
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dlopen in -lsvld" >&5
 printf %s "checking for dlopen in -lsvld... " >&6; }
 if test ${ac_cv_lib_svld_dlopen+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_check_lib_save_LIBS=$LIBS
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-lsvld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char dlopen (void);
+   builtin and then its argument prototype would still apply.  */
+char dlopen ();
 int
 main (void)
 {
@@ -17250,42 +16108,34 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_svld_dlopen=yes
-else case e in #(
-  e) ac_cv_lib_svld_dlopen=no ;;
-esac
+else $as_nop
+  ac_cv_lib_svld_dlopen=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS ;;
-esac
+LIBS=$ac_check_lib_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_svld_dlopen" >&5
 printf "%s\n" "$ac_cv_lib_svld_dlopen" >&6; }
 if test "x$ac_cv_lib_svld_dlopen" = xyes
 then :
   lt_cv_dlopen=dlopen lt_cv_dlopen_libs=-lsvld
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld" >&5
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for dld_link in -ldld" >&5
 printf %s "checking for dld_link in -ldld... " >&6; }
 if test ${ac_cv_lib_dld_dld_link+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_check_lib_save_LIBS=$LIBS
+else $as_nop
+  ac_check_lib_save_LIBS=$LIBS
 LIBS="-ldld  $LIBS"
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char dld_link (void);
+   builtin and then its argument prototype would still apply.  */
+char dld_link ();
 int
 main (void)
 {
@@ -17297,14 +16147,12 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_lib_dld_dld_link=yes
-else case e in #(
-  e) ac_cv_lib_dld_dld_link=no ;;
-esac
+else $as_nop
+  ac_cv_lib_dld_dld_link=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-LIBS=$ac_check_lib_save_LIBS ;;
-esac
+LIBS=$ac_check_lib_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_lib_dld_dld_link" >&5
 printf "%s\n" "$ac_cv_lib_dld_dld_link" >&6; }
@@ -17313,24 +16161,19 @@
   lt_cv_dlopen=dld_link lt_cv_dlopen_libs=-ldld
 fi
 
-	       ;;
-esac
+
 fi
 
-	     ;;
-esac
+
 fi
 
-	   ;;
-esac
+
 fi
 
-	 ;;
-esac
+
 fi
 
-       ;;
-esac
+
 fi
 
     ;;
@@ -17358,8 +16201,8 @@
 if test ${lt_cv_dlopen_self+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) 	  if test yes = "$cross_compiling"; then :
+else $as_nop
+  	  if test yes = "$cross_compiling"; then :
   lt_cv_dlopen_self=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
@@ -17409,11 +16252,11 @@
 /* When -fvisibility=hidden is used, assume the code has been annotated
    correspondingly for the symbols needed.  */
 #if defined __GNUC__ && (((__GNUC__ == 3) && (__GNUC_MINOR__ >= 3)) || (__GNUC__ > 3))
-int fnord (void) __attribute__((visibility("default")));
+int fnord () __attribute__((visibility("default")));
 #endif
 
-int fnord (void) { return 42; }
-int main (void)
+int fnord () { return 42; }
+int main ()
 {
   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
   int status = $lt_dlunknown;
@@ -17453,8 +16296,7 @@
 fi
 rm -fr conftest*
 
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self" >&5
 printf "%s\n" "$lt_cv_dlopen_self" >&6; }
@@ -17466,8 +16308,8 @@
 if test ${lt_cv_dlopen_self_static+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) 	  if test yes = "$cross_compiling"; then :
+else $as_nop
+  	  if test yes = "$cross_compiling"; then :
   lt_cv_dlopen_self_static=cross
 else
   lt_dlunknown=0; lt_dlno_uscore=1; lt_dlneed_uscore=2
@@ -17517,11 +16359,11 @@
 /* When -fvisibility=hidden is used, assume the code has been annotated
    correspondingly for the symbols needed.  */
 #if defined __GNUC__ && (((__GNUC__ == 3) && (__GNUC_MINOR__ >= 3)) || (__GNUC__ > 3))
-int fnord (void) __attribute__((visibility("default")));
+int fnord () __attribute__((visibility("default")));
 #endif
 
-int fnord (void) { return 42; }
-int main (void)
+int fnord () { return 42; }
+int main ()
 {
   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
   int status = $lt_dlunknown;
@@ -17561,8 +16403,7 @@
 fi
 rm -fr conftest*
 
-       ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $lt_cv_dlopen_self_static" >&5
 printf "%s\n" "$lt_cv_dlopen_self_static" >&6; }
@@ -17736,8 +16577,8 @@
 if test ${ac_cv_prog_RC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$RC"; then
+else $as_nop
+  if test -n "$RC"; then
   ac_cv_prog_RC="$RC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -17759,8 +16600,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 RC=$ac_cv_prog_RC
 if test -n "$RC"; then
@@ -17782,8 +16622,8 @@
 if test ${ac_cv_prog_ac_ct_RC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if test -n "$ac_ct_RC"; then
+else $as_nop
+  if test -n "$ac_ct_RC"; then
   ac_cv_prog_ac_ct_RC="$ac_ct_RC" # Let the user override the test.
 else
 as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
@@ -17805,8 +16645,7 @@
   done
 IFS=$as_save_IFS
 
-fi ;;
-esac
+fi
 fi
 ac_ct_RC=$ac_cv_prog_ac_ct_RC
 if test -n "$ac_ct_RC"; then
@@ -17937,9 +16776,8 @@
 if test ${enable_symbol_versions+y}
 then :
   enableval=$enable_symbol_versions;
-else case e in #(
-  e) enable_symbol_versions=auto ;;
-esac
+else $as_nop
+  enable_symbol_versions=auto
 fi
 
 if test "x$enable_symbol_versions" = xauto; then
@@ -17986,8 +16824,8 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no (not building a shared library)" >&5
 printf "%s\n" "no (not building a shared library)" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	# "yes" means that symbol version are to be used but we need to
 	# autodetect which variant to use.
 	if test "x$enable_symbol_versions" = xyes ; then
@@ -18012,12 +16850,11 @@
 					#endif
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP_TRADITIONAL "use_generic_symbol_versioning" >/dev/null 2>&1
+  $EGREP "use_generic_symbol_versioning" >/dev/null 2>&1
 then :
   enable_symbol_versions=generic
-else case e in #(
-  e) enable_symbol_versions=linux ;;
-esac
+else $as_nop
+  enable_symbol_versions=linux
 fi
 rm -rf conftest*
 
@@ -18060,8 +16897,7 @@
 	fi
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes ($enable_symbol_versions)" >&5
 printf "%s\n" "yes ($enable_symbol_versions)" >&6; }
- ;;
-esac
+
 fi
 
  if test "x$enable_symbol_versions" = xlinux; then
@@ -18097,9 +16933,8 @@
 if test ${enable_nls+y}
 then :
   enableval=$enable_nls; USE_NLS=$enableval
-else case e in #(
-  e) USE_NLS=yes ;;
-esac
+else $as_nop
+  USE_NLS=yes
 fi
 
   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $USE_NLS" >&5
@@ -18108,7 +16943,7 @@
 
 
 
-      GETTEXT_MACRO_VERSION=0.22
+      GETTEXT_MACRO_VERSION=0.20
 
 
 
@@ -18147,15 +16982,15 @@
 if test ${ac_cv_path_MSGFMT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case "$MSGFMT" in
+else $as_nop
+  case "$MSGFMT" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_MSGFMT="$MSGFMT" # Let the user override the test with a path.
     ;;
   *)
-    gt_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
+    ac_save_IFS="$IFS"; IFS=$PATH_SEPARATOR
     for ac_dir in $PATH; do
-      IFS="$gt_saved_IFS"
+      IFS="$ac_save_IFS"
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
@@ -18168,10 +17003,9 @@
         fi
       done
     done
-    IFS="$gt_saved_IFS"
+    IFS="$ac_save_IFS"
   test -z "$ac_cv_path_MSGFMT" && ac_cv_path_MSGFMT=":"
     ;;
-esac ;;
 esac
 fi
 MSGFMT="$ac_cv_path_MSGFMT"
@@ -18190,8 +17024,8 @@
 if test ${ac_cv_path_GMSGFMT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case $GMSGFMT in
+else $as_nop
+  case $GMSGFMT in
   [\\/]* | ?:[\\/]*)
   ac_cv_path_GMSGFMT="$GMSGFMT" # Let the user override the test with a path.
   ;;
@@ -18217,7 +17051,6 @@
 
   test -z "$ac_cv_path_GMSGFMT" && ac_cv_path_GMSGFMT="$MSGFMT"
   ;;
-esac ;;
 esac
 fi
 GMSGFMT=$ac_cv_path_GMSGFMT
@@ -18272,15 +17105,15 @@
 if test ${ac_cv_path_XGETTEXT+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case "$XGETTEXT" in
+else $as_nop
+  case "$XGETTEXT" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_XGETTEXT="$XGETTEXT" # Let the user override the test with a path.
     ;;
   *)
-    gt_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
+    ac_save_IFS="$IFS"; IFS=$PATH_SEPARATOR
     for ac_dir in $PATH; do
-      IFS="$gt_saved_IFS"
+      IFS="$ac_save_IFS"
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
@@ -18293,10 +17126,9 @@
         fi
       done
     done
-    IFS="$gt_saved_IFS"
+    IFS="$ac_save_IFS"
   test -z "$ac_cv_path_XGETTEXT" && ac_cv_path_XGETTEXT=":"
     ;;
-esac ;;
 esac
 fi
 XGETTEXT="$ac_cv_path_XGETTEXT"
@@ -18351,15 +17183,15 @@
 if test ${ac_cv_path_MSGMERGE+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case "$MSGMERGE" in
+else $as_nop
+  case "$MSGMERGE" in
   [\\/]* | ?:[\\/]*)
     ac_cv_path_MSGMERGE="$MSGMERGE" # Let the user override the test with a path.
     ;;
   *)
-    gt_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
+    ac_save_IFS="$IFS"; IFS=$PATH_SEPARATOR
     for ac_dir in $PATH; do
-      IFS="$gt_saved_IFS"
+      IFS="$ac_save_IFS"
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
@@ -18371,10 +17203,9 @@
         fi
       done
     done
-    IFS="$gt_saved_IFS"
+    IFS="$ac_save_IFS"
   test -z "$ac_cv_path_MSGMERGE" && ac_cv_path_MSGMERGE=":"
     ;;
-esac ;;
 esac
 fi
 MSGMERGE="$ac_cv_path_MSGMERGE"
@@ -18415,10 +17246,10 @@
   else
     acl_final_exec_prefix="$exec_prefix"
   fi
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
   eval acl_final_exec_prefix=\"$acl_final_exec_prefix\"
-  prefix="$acl_saved_prefix"
+  prefix="$acl_save_prefix"
 
 
 
@@ -18426,9 +17257,8 @@
 if test ${with_gnu_ld+y}
 then :
   withval=$with_gnu_ld; test "$withval" = no || with_gnu_ld=yes
-else case e in #(
-  e) with_gnu_ld=no ;;
-esac
+else $as_nop
+  with_gnu_ld=no
 fi
 
 # Prepare PATH_SEPARATOR.
@@ -18464,14 +17294,14 @@
   if test ${acl_cv_path_LD+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
     acl_cv_path_LD= # Final result of this test
     ac_prog=ld # Program to search in $PATH
     if test "$GCC" = yes; then
       # Check if gcc -print-prog-name=ld gives a path.
       case $host in
-        *-*-mingw* | windows*)
+        *-*-mingw*)
           # gcc leaves a trailing carriage return which upsets mingw
           acl_output=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
         *)
@@ -18501,9 +17331,9 @@
     fi
     if test -n "$ac_prog"; then
       # Search for $ac_prog in $PATH.
-      acl_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
+      acl_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
       for ac_dir in $PATH; do
-        IFS="$acl_saved_IFS"
+        IFS="$acl_save_ifs"
         test -z "$ac_dir" && ac_dir=.
         if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
           acl_cv_path_LD="$ac_dir/$ac_prog"
@@ -18520,13 +17350,13 @@
           esac
         fi
       done
-      IFS="$acl_saved_IFS"
+      IFS="$acl_save_ifs"
     fi
     case $host in
       *-*-aix*)
         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-#if defined __powerpc64__ || defined __LP64__
+#if defined __powerpc64__ || defined _ARCH_PPC64
                 int ok;
                #else
                 error fail
@@ -18558,21 +17388,19 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) # The compiler produces 32-bit code. Add option '-m elf32_sparc'
+else $as_nop
+  # The compiler produces 32-bit code. Add option '-m elf32_sparc'
            # so that the linker groks 32-bit object files.
            case "$acl_cv_path_LD " in
              *" -m elf32_sparc "*) ;;
              *) acl_cv_path_LD="$acl_cv_path_LD -m elf32_sparc" ;;
            esac
-           ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
         ;;
     esac
-   ;;
-esac
+
 fi
 
   LD="$acl_cv_path_LD"
@@ -18590,8 +17418,8 @@
 if test ${acl_cv_prog_gnu_ld+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) # I'd rather use --version here, but apparently some GNU lds only accept -v.
+else $as_nop
+  # I'd rather use --version here, but apparently some GNU lds only accept -v.
 case `$LD -v 2>&1 </dev/null` in
 *GNU* | *'with BFD'*)
   acl_cv_prog_gnu_ld=yes
@@ -18599,7 +17427,6 @@
 *)
   acl_cv_prog_gnu_ld=no
   ;;
-esac ;;
 esac
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $acl_cv_prog_gnu_ld" >&5
@@ -18615,15 +17442,14 @@
 if test ${acl_cv_rpath+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
     CC="$CC" GCC="$GCC" LDFLAGS="$LDFLAGS" LD="$LD" with_gnu_ld="$with_gnu_ld" \
     ${CONFIG_SHELL-/bin/sh} "$ac_aux_dir/config.rpath" "$host" > conftest.sh
     . ./conftest.sh
     rm -f ./conftest.sh
     acl_cv_rpath=done
-   ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $acl_cv_rpath" >&5
 printf "%s\n" "$acl_cv_rpath" >&6; }
@@ -18640,9 +17466,8 @@
 if test ${enable_rpath+y}
 then :
   enableval=$enable_rpath; :
-else case e in #(
-  e) enable_rpath=yes ;;
-esac
+else $as_nop
+  enable_rpath=yes
 fi
 
 
@@ -18653,67 +17478,263 @@
 if test ${gl_cv_host_cpu_c_abi_32bit+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) case "$host_cpu" in
+else $as_nop
+  if test -n "$gl_cv_host_cpu_c_abi"; then
+       case "$gl_cv_host_cpu_c_abi" in
+         i386 | x86_64-x32 | arm | armhf | arm64-ilp32 | hppa | ia64-ilp32 | mips | mipsn32 | powerpc | riscv*-ilp32* | s390 | sparc)
+           gl_cv_host_cpu_c_abi_32bit=yes ;;
+         x86_64 | alpha | arm64 | hppa64 | ia64 | mips64 | powerpc64 | powerpc64-elfv2 | riscv*-lp64* | s390x | sparc64 )
+           gl_cv_host_cpu_c_abi_32bit=no ;;
+         *)
+           gl_cv_host_cpu_c_abi_32bit=unknown ;;
+       esac
+     else
+       case "$host_cpu" in
 
-       # CPUs that only support a 32-bit ABI.
-       arc \
-       | bfin \
-       | cris* \
-       | csky \
-       | epiphany \
-       | ft32 \
-       | h8300 \
-       | m68k \
-       | microblaze | microblazeel \
-       | nds32 | nds32le | nds32be \
-       | nios2 | nios2eb | nios2el \
-       | or1k* \
-       | or32 \
-       | sh | sh1234 | sh1234elb \
-       | tic6x \
-       | xtensa* )
-         gl_cv_host_cpu_c_abi_32bit=yes
-         ;;
+         # CPUs that only support a 32-bit ABI.
+         arc \
+         | bfin \
+         | cris* \
+         | csky \
+         | epiphany \
+         | ft32 \
+         | h8300 \
+         | m68k \
+         | microblaze | microblazeel \
+         | nds32 | nds32le | nds32be \
+         | nios2 | nios2eb | nios2el \
+         | or1k* \
+         | or32 \
+         | sh | sh1234 | sh1234elb \
+         | tic6x \
+         | xtensa* )
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
 
-       # CPUs that only support a 64-bit ABI.
-       alpha | alphaev[4-8] | alphaev56 | alphapca5[67] | alphaev6[78] \
-       | mmix )
-         gl_cv_host_cpu_c_abi_32bit=no
-         ;;
+         # CPUs that only support a 64-bit ABI.
+         alpha | alphaev[4-8] | alphaev56 | alphapca5[67] | alphaev6[78] \
+         | mmix )
+           gl_cv_host_cpu_c_abi_32bit=no
+           ;;
 
-       *)
-         if test -n "$gl_cv_host_cpu_c_abi"; then
-                      case "$gl_cv_host_cpu_c_abi" in
-             i386 | x86_64-x32 | arm | armhf | arm64-ilp32 | hppa | ia64-ilp32 | mips | mipsn32 | powerpc | riscv*-ilp32* | s390 | sparc)
-               gl_cv_host_cpu_c_abi_32bit=yes ;;
-             x86_64 | alpha | arm64 | aarch64c | hppa64 | ia64 | mips64 | powerpc64 | powerpc64-elfv2 | riscv*-lp64* | s390x | sparc64 )
-               gl_cv_host_cpu_c_abi_32bit=no ;;
-             *)
-               gl_cv_host_cpu_c_abi_32bit=unknown ;;
-           esac
-         else
-           gl_cv_host_cpu_c_abi_32bit=unknown
-         fi
-         if test $gl_cv_host_cpu_c_abi_32bit = unknown; then
+         i[34567]86 )
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
+
+         x86_64 )
+           # On x86_64 systems, the C compiler may be generating code in one of
+           # these ABIs:
+           # - 64-bit instruction set, 64-bit pointers, 64-bit 'long': x86_64.
+           # - 64-bit instruction set, 64-bit pointers, 32-bit 'long': x86_64
+           #   with native Windows (mingw, MSVC).
+           # - 64-bit instruction set, 32-bit pointers, 32-bit 'long': x86_64-x32.
+           # - 32-bit instruction set, 32-bit pointers, 32-bit 'long': i386.
            cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-int test_pointer_size[sizeof (void *) - 5];
+#if (defined __x86_64__ || defined __amd64__ \
+                       || defined _M_X64 || defined _M_AMD64) \
+                      && !(defined __ILP32__ || defined _ILP32)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
 
 _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_host_cpu_c_abi_32bit=no
-else case e in #(
-  e) gl_cv_host_cpu_c_abi_32bit=yes ;;
-esac
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-         fi
-         ;;
-     esac
-     ;;
-esac
+           ;;
+
+         arm* | aarch64 )
+           # Assume arm with EABI.
+           # On arm64 systems, the C compiler may be generating code in one of
+           # these ABIs:
+           # - aarch64 instruction set, 64-bit pointers, 64-bit 'long': arm64.
+           # - aarch64 instruction set, 32-bit pointers, 32-bit 'long': arm64-ilp32.
+           # - 32-bit instruction set, 32-bit pointers, 32-bit 'long': arm or armhf.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined __aarch64__ && !(defined __ILP32__ || defined _ILP32)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         hppa1.0 | hppa1.1 | hppa2.0* | hppa64 )
+           # On hppa, the C compiler may be generating 32-bit code or 64-bit
+           # code. In the latter case, it defines _LP64 and __LP64__.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#ifdef __LP64__
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         ia64* )
+           # On ia64 on HP-UX, the C compiler may be generating 64-bit code or
+           # 32-bit code. In the latter case, it defines _ILP32.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#ifdef _ILP32
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=yes
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=no
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         mips* )
+           # We should also check for (_MIPS_SZPTR == 64), but gcc keeps this
+           # at 32.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined _MIPS_SZLONG && (_MIPS_SZLONG == 64)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         powerpc* )
+           # Different ABIs are in use on AIX vs. Mac OS X vs. Linux,*BSD.
+           # No need to distinguish them here; the caller may distinguish
+           # them based on the OS.
+           # On powerpc64 systems, the C compiler may still be generating
+           # 32-bit code. And on powerpc-ibm-aix systems, the C compiler may
+           # be generating 64-bit code.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined __powerpc64__ || defined _ARCH_PPC64
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         rs6000 )
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
+
+         riscv32 | riscv64 )
+           # There are 6 ABIs: ilp32, ilp32f, ilp32d, lp64, lp64f, lp64d.
+           # Size of 'long' and 'void *':
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined __LP64__
+                    int ok;
+                  #else
+                    error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         s390* )
+           # On s390x, the C compiler may be generating 64-bit (= s390x) code
+           # or 31-bit (= s390) code.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined __LP64__ || defined __s390x__
+                    int ok;
+                  #else
+                    error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         sparc | sparc64 )
+           # UltraSPARCs running Linux have `uname -m` = "sparc64", but the
+           # C compiler still generates 32-bit code.
+           cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#if defined __sparcv9 || defined __arch64__
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  gl_cv_host_cpu_c_abi_32bit=no
+else $as_nop
+  gl_cv_host_cpu_c_abi_32bit=yes
+fi
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+           ;;
+
+         *)
+           gl_cv_host_cpu_c_abi_32bit=unknown
+           ;;
+       esac
+     fi
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_host_cpu_c_abi_32bit" >&5
 printf "%s\n" "$gl_cv_host_cpu_c_abi_32bit" >&6; }
@@ -18729,30 +17750,28 @@
 if test ${gl_cv_elf+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-#if defined __ELF__ || (defined __linux__ && (defined __EDG__ || defined __SUNPRO_C))
+#ifdef __ELF__
         Extensible Linking Format
         #endif
 
 _ACEOF
 if (eval "$ac_cpp conftest.$ac_ext") 2>&5 |
-  $EGREP_TRADITIONAL "Extensible Linking Format" >/dev/null 2>&1
+  $EGREP "Extensible Linking Format" >/dev/null 2>&1
 then :
   gl_cv_elf=yes
-else case e in #(
-  e) gl_cv_elf=no ;;
-esac
+else $as_nop
+  gl_cv_elf=no
 fi
 rm -rf conftest*
 
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_elf" >&5
 printf "%s\n" "$gl_cv_elf" >&6; }
-  if test $gl_cv_elf = yes; then
+  if test $gl_cv_elf; then
     # Extract the ELF class of a file (5th byte) in decimal.
     # Cf. https://en.wikipedia.org/wiki/Executable_and_Linkable_Format#File_header
     if od -A x < /dev/null >/dev/null 2>/dev/null; then
@@ -18769,22 +17788,19 @@
         echo
       }
     fi
-    # Use 'expr', not 'test', to compare the values of func_elfclass, because on
-    # Solaris 11 OpenIndiana and Solaris 11 OmniOS, the result is 001 or 002,
-    # not 1 or 2.
     case $HOST_CPU_C_ABI_32BIT in
       yes)
         # 32-bit ABI.
         acl_is_expected_elfclass ()
         {
-          expr "`func_elfclass | sed -e 's/[ 	]//g'`" = 1 > /dev/null
+          test "`func_elfclass | sed -e 's/[ 	]//g'`" = 1
         }
         ;;
       no)
         # 64-bit ABI.
         acl_is_expected_elfclass ()
         {
-          expr "`func_elfclass | sed -e 's/[ 	]//g'`" = 2 > /dev/null
+          test "`func_elfclass | sed -e 's/[ 	]//g'`" = 2
         }
         ;;
       *)
@@ -18807,8 +17823,8 @@
 if test ${acl_cv_libdirstems+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)           acl_libdirstem=lib
+else $as_nop
+            acl_libdirstem=lib
      acl_libdirstem2=
      acl_libdirstem3=
      case "$host_os" in
@@ -18821,13 +17837,6 @@
            esac
          fi
          ;;
-       netbsd*)
-                           if test $HOST_CPU_C_ABI_32BIT != no; then
-           case "$host_cpu" in
-             sparc*) acl_libdirstem2=lib/sparc ;;
-           esac
-         fi
-         ;;
        *)
                                                                                  searchpath=`(LC_ALL=C $CC $CPPFLAGS $CFLAGS -print-search-dirs) 2>/dev/null \
                      | sed -n -e 's,^libraries: ,,p' | sed -e 's,^=,,'`
@@ -18844,7 +17853,7 @@
            fi
          fi
          if test -n "$searchpath"; then
-           acl_saved_IFS="${IFS= 	}"; IFS=":"
+           acl_save_IFS="${IFS= 	}"; IFS=":"
            for searchdir in $searchpath; do
              if test -d "$searchdir"; then
                case "$searchdir" in
@@ -18861,7 +17870,7 @@
                esac
              fi
            done
-           IFS="$acl_saved_IFS"
+           IFS="$acl_save_IFS"
            if test $HOST_CPU_C_ABI_32BIT = yes; then
              # 32-bit ABI.
              acl_libdirstem3=
@@ -18876,8 +17885,7 @@
      test -n "$acl_libdirstem2" || acl_libdirstem2="$acl_libdirstem"
      test -n "$acl_libdirstem3" || acl_libdirstem3="$acl_libdirstem"
      acl_cv_libdirstems="$acl_libdirstem,$acl_libdirstem2,$acl_libdirstem3"
-     ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $acl_cv_libdirstems" >&5
 printf "%s\n" "$acl_cv_libdirstems" >&6; }
@@ -18897,9 +17905,9 @@
 
     use_additional=yes
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
 
     eval additional_includedir=\"$includedir\"
@@ -18907,8 +17915,8 @@
     eval additional_libdir2=\"$exec_prefix/$acl_libdirstem2\"
     eval additional_libdir3=\"$exec_prefix/$acl_libdirstem3\"
 
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
 
 # Check whether --with-libiconv-prefix was given.
@@ -18920,9 +17928,9 @@
     else
       if test "X$withval" = "X"; then
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
 
           eval additional_includedir=\"$includedir\"
@@ -18930,8 +17938,8 @@
           eval additional_libdir2=\"$exec_prefix/$acl_libdirstem2\"
           eval additional_libdir3=\"$exec_prefix/$acl_libdirstem3\"
 
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
       else
         additional_includedir="$withval/include"
@@ -19043,13 +18051,13 @@
           if test "X$found_dir" = "X"; then
             for x in $LDFLAGS $LTLIBICONV; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
               case "$x" in
                 -L*)
@@ -19137,13 +18145,13 @@
                                                                                 haveit=
                     for x in $LDFLAGS $LIBICONV; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                       if test "X$x" = "X-L$found_dir"; then
                         haveit=yes
@@ -19205,13 +18213,13 @@
                 if test -z "$haveit"; then
                   for x in $CPPFLAGS $INCICONV; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                     if test "X$x" = "X-I$additional_includedir"; then
                       haveit=yes
@@ -19227,12 +18235,12 @@
               fi
             fi
                         if test -n "$found_la"; then
-                                                        saved_libdir="$libdir"
+                                                        save_libdir="$libdir"
               case "$found_la" in
                 */* | *\\*) . "$found_la" ;;
                 *) . "./$found_la" ;;
               esac
-              libdir="$saved_libdir"
+              libdir="$save_libdir"
                             for dep in $dependency_libs; do
                 case "$dep" in
                   -L*)
@@ -19254,13 +18262,13 @@
                         haveit=
                         for x in $LDFLAGS $LIBICONV; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                           if test "X$x" = "X-L$dependency_libdir"; then
                             haveit=yes
@@ -19275,13 +18283,13 @@
                         haveit=
                         for x in $LDFLAGS $LTLIBICONV; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                           if test "X$x" = "X-L$dependency_libdir"; then
                             haveit=yes
@@ -19322,14 +18330,7 @@
                     fi
                     ;;
                   -l*)
-                                                                                                                                                                dep=`echo "X$dep" | sed -e 's/^X-l//'`
-                    if test "X$dep" != Xc \
-                       || case $host_os in
-                            linux* | gnu* | k*bsd*-gnu) false ;;
-                            *)                          true ;;
-                          esac; then
-                      names_next_round="$names_next_round $dep"
-                    fi
+                                        names_next_round="$names_next_round "`echo "X$dep" | sed -e 's/^X-l//'`
                     ;;
                   *.la)
                                                                                 names_next_round="$names_next_round "`echo "X$dep" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\.la$,,'`
@@ -19355,17 +18356,17 @@
       for found_dir in $rpathdirs; do
         alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir"
       done
-            acl_saved_libdir="$libdir"
+            acl_save_libdir="$libdir"
       libdir="$alldirs"
       eval flag=\"$acl_hardcode_libdir_flag_spec\"
-      libdir="$acl_saved_libdir"
+      libdir="$acl_save_libdir"
       LIBICONV="${LIBICONV}${LIBICONV:+ }$flag"
     else
             for found_dir in $rpathdirs; do
-        acl_saved_libdir="$libdir"
+        acl_save_libdir="$libdir"
         libdir="$found_dir"
         eval flag=\"$acl_hardcode_libdir_flag_spec\"
-        libdir="$acl_saved_libdir"
+        libdir="$acl_save_libdir"
         LIBICONV="${LIBICONV}${LIBICONV:+ }$flag"
       done
     fi
@@ -19382,52 +18383,6 @@
 
 
 
-  gl_sed_double_backslashes='s/\\/\\\\/g'
-  gl_sed_escape_doublequotes='s/"/\\"/g'
-  gl_sed_escape_for_make_1="s,\\([ \"&'();<>\\\\\`|]\\),\\\\\\1,g"
-  gl_sed_escape_for_make_2='s,\$,\\$$,g'
-      case `echo r | tr -d '\r'` in
-    '') gl_tr_cr='\015' ;;
-    *)  gl_tr_cr='\r' ;;
-  esac
-
-
-    gl_saved_prefix="${prefix}"
-  gl_saved_datarootdir="${datarootdir}"
-  gl_saved_localedir="${localedir}"
-      if test "X$prefix" = "XNONE"; then
-    prefix="$ac_default_prefix"
-  fi
-  eval datarootdir="$datarootdir"
-  eval localedir="$localedir"
-
-
-
-
-
-    gl_final_localedir="$localedir"
-    case "$build_os" in
-    cygwin*)
-      case "$host_os" in
-        mingw* | windows*)
-          gl_final_localedir=`cygpath -w "$gl_final_localedir"` ;;
-      esac
-      ;;
-  esac
-    localedir_c=`printf '%s\n' "$gl_final_localedir" | sed -e "$gl_sed_double_backslashes" -e "$gl_sed_escape_doublequotes" | tr -d "$gl_tr_cr"`
-  localedir_c='"'"$localedir_c"'"'
-
-
-    localedir_c_make=`printf '%s\n' "$localedir_c" | sed -e "$gl_sed_escape_for_make_1" -e "$gl_sed_escape_for_make_2" | tr -d "$gl_tr_cr"`
-      if test "$localedir_c_make" = '\"'"${gl_final_localedir}"'\"'; then
-    localedir_c_make='\"$(localedir)\"'
-  fi
-
-
-  localedir="${gl_saved_localedir}"
-  datarootdir="${gl_saved_datarootdir}"
-  prefix="${gl_saved_prefix}"
-
 
 
 
@@ -19455,8 +18410,8 @@
 if test ${gt_cv_func_CFPreferencesCopyAppValue+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gt_saved_LIBS="$LIBS"
+else $as_nop
+  gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -19472,14 +18427,12 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFPreferencesCopyAppValue=yes
-else case e in #(
-  e) gt_cv_func_CFPreferencesCopyAppValue=no ;;
-esac
+else $as_nop
+  gt_cv_func_CFPreferencesCopyAppValue=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_saved_LIBS" ;;
-esac
+     LIBS="$gt_save_LIBS"
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFPreferencesCopyAppValue" >&5
 printf "%s\n" "$gt_cv_func_CFPreferencesCopyAppValue" >&6; }
@@ -19493,8 +18446,8 @@
 if test ${gt_cv_func_CFLocaleCopyPreferredLanguages+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gt_saved_LIBS="$LIBS"
+else $as_nop
+  gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -19510,14 +18463,12 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   gt_cv_func_CFLocaleCopyPreferredLanguages=yes
-else case e in #(
-  e) gt_cv_func_CFLocaleCopyPreferredLanguages=no ;;
-esac
+else $as_nop
+  gt_cv_func_CFLocaleCopyPreferredLanguages=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-     LIBS="$gt_saved_LIBS" ;;
-esac
+     LIBS="$gt_save_LIBS"
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gt_cv_func_CFLocaleCopyPreferredLanguages" >&5
 printf "%s\n" "$gt_cv_func_CFLocaleCopyPreferredLanguages" >&6; }
@@ -19529,7 +18480,7 @@
   INTL_MACOSX_LIBS=
   if test $gt_cv_func_CFPreferencesCopyAppValue = yes \
      || test $gt_cv_func_CFLocaleCopyPreferredLanguages = yes; then
-                    INTL_MACOSX_LIBS="-Wl,-framework -Wl,CoreFoundation -Wl,-framework -Wl,CoreServices"
+    INTL_MACOSX_LIBS="-Wl,-framework -Wl,CoreFoundation"
   fi
 
 
@@ -19574,8 +18525,8 @@
 if eval test \${$gt_func_gnugettext_libc+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <libintl.h>
@@ -19602,13 +18553,11 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$gt_func_gnugettext_libc=yes"
-else case e in #(
-  e) eval "$gt_func_gnugettext_libc=no" ;;
-esac
+else $as_nop
+  eval "$gt_func_gnugettext_libc=no"
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 eval ac_res=\$$gt_func_gnugettext_libc
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -19620,19 +18569,19 @@
 
 
 
-          gl_saved_CPPFLAGS="$CPPFLAGS"
+          am_save_CPPFLAGS="$CPPFLAGS"
 
   for element in $INCICONV; do
     haveit=
     for x in $CPPFLAGS; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
       if test "X$x" = "X$element"; then
         haveit=yes
@@ -19650,8 +18599,8 @@
 if test ${am_cv_func_iconv+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
     am_cv_func_iconv="no, consider installing GNU libiconv"
     am_cv_lib_iconv=no
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
@@ -19677,7 +18626,7 @@
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
     if test "$am_cv_func_iconv" != yes; then
-      gl_saved_LIBS="$LIBS"
+      am_save_LIBS="$LIBS"
       LIBS="$LIBS $LIBICONV"
       cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -19702,10 +18651,9 @@
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-      LIBS="$gl_saved_LIBS"
+      LIBS="$am_save_LIBS"
     fi
-   ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv" >&5
 printf "%s\n" "$am_cv_func_iconv" >&6; }
@@ -19715,9 +18663,9 @@
 if test ${am_cv_func_iconv_works+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
-                  gl_saved_LIBS="$LIBS"
+else $as_nop
+
+                  am_save_LIBS="$LIBS"
       if test $am_cv_lib_iconv = yes; then
         LIBS="$LIBS $LIBICONV"
       fi
@@ -19729,8 +18677,8 @@
              aix* | hpux*) am_cv_func_iconv_works="guessing no" ;;
              *)            am_cv_func_iconv_works="guessing yes" ;;
            esac
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 #include <iconv.h>
@@ -19744,9 +18692,8 @@
 main (void)
 {
 int result = 0;
-  /* Test against AIX 5.1...7.2 bug: Failures are not distinguishable from
-     successful returns.  This is even documented in
-     <https://www.ibm.com/support/knowledgecenter/ssw_aix_72/i_bostechref/iconv.html> */
+  /* Test against AIX 5.1 bug: Failures are not distinguishable from successful
+     returns.  */
   {
     iconv_t cd_utf8_to_88591 = iconv_open ("ISO8859-1", "UTF-8");
     if (cd_utf8_to_88591 != (iconv_t)(-1))
@@ -19765,35 +18712,6 @@
         iconv_close (cd_utf8_to_88591);
       }
   }
-  /* Test against macOS 14.4 bug: Failures are not distinguishable from
-     successful returns.
-     POSIX:2018 says: "The iconv() function shall ... return the number of
-     non-identical conversions performed."
-     But here, the conversion always does transliteration (the suffixes
-     "//TRANSLIT" and "//IGNORE" have no effect, nor does iconvctl()) and
-     does not report when it does a non-identical conversion.  */
-  {
-    iconv_t cd_utf8_to_88591 = iconv_open ("ISO-8859-1", "UTF-8");
-    if (cd_utf8_to_88591 != (iconv_t)(-1))
-      {
-        static ICONV_CONST char input[] = "\305\202"; /* LATIN SMALL LETTER L WITH STROKE */
-        char buf[10];
-        ICONV_CONST char *inptr = input;
-        size_t inbytesleft = strlen (input);
-        char *outptr = buf;
-        size_t outbytesleft = sizeof (buf);
-        size_t res = iconv (cd_utf8_to_88591,
-                            &inptr, &inbytesleft,
-                            &outptr, &outbytesleft);
-        /* Here:
-           With glibc, GNU libiconv (including macOS up to 13): res == (size_t)-1, errno == EILSEQ.
-           With musl libc, NetBSD 10, Solaris 11: res == 1.
-           With macOS 14.4: res == 0, output is "l".  */
-        if (res == 0)
-          result |= 2;
-        iconv_close (cd_utf8_to_88591);
-      }
-  }
   /* Test against Solaris 10 bug: Failures are not distinguishable from
      successful returns.  */
   {
@@ -19810,7 +18728,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if (res == 0)
-          result |= 4;
+          result |= 2;
         iconv_close (cd_ascii_to_88591);
       }
   }
@@ -19829,7 +18747,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if (res != (size_t)(-1) || outptr - buf > 1 || buf[1] != (char)0xAD)
-          result |= 8;
+          result |= 4;
         iconv_close (cd_88591_to_utf8);
       }
   }
@@ -19849,7 +18767,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if ((int)res > 0)
-          result |= 16;
+          result |= 8;
         iconv_close (cd_88591_to_utf8);
       }
   }
@@ -19867,7 +18785,7 @@
     iconv_t cd4 = iconv_open ("utf8", "eucJP");
     if (cd1 == (iconv_t)(-1) && cd2 == (iconv_t)(-1)
         && cd3 == (iconv_t)(-1) && cd4 == (iconv_t)(-1))
-      result |= 32;
+      result |= 16;
     if (cd1 != (iconv_t)(-1))
       iconv_close (cd1);
     if (cd2 != (iconv_t)(-1))
@@ -19888,15 +18806,13 @@
   am_cv_func_iconv_works=yes
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 
         test "$am_cv_func_iconv_works" = no || break
       done
-      LIBS="$gl_saved_LIBS"
-     ;;
-esac
+      LIBS="$am_save_LIBS"
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $am_cv_func_iconv_works" >&5
 printf "%s\n" "$am_cv_func_iconv_works" >&6; }
@@ -19918,7 +18834,7 @@
     { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $LIBICONV" >&5
 printf "%s\n" "$LIBICONV" >&6; }
   else
-            CPPFLAGS="$gl_saved_CPPFLAGS"
+            CPPFLAGS="$am_save_CPPFLAGS"
     LIBICONV=
     LTLIBICONV=
   fi
@@ -19934,9 +18850,9 @@
 
     use_additional=yes
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
 
     eval additional_includedir=\"$includedir\"
@@ -19944,8 +18860,8 @@
     eval additional_libdir2=\"$exec_prefix/$acl_libdirstem2\"
     eval additional_libdir3=\"$exec_prefix/$acl_libdirstem3\"
 
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
 
 # Check whether --with-libintl-prefix was given.
@@ -19957,9 +18873,9 @@
     else
       if test "X$withval" = "X"; then
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
 
           eval additional_includedir=\"$includedir\"
@@ -19967,8 +18883,8 @@
           eval additional_libdir2=\"$exec_prefix/$acl_libdirstem2\"
           eval additional_libdir3=\"$exec_prefix/$acl_libdirstem3\"
 
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
       else
         additional_includedir="$withval/include"
@@ -20080,13 +18996,13 @@
           if test "X$found_dir" = "X"; then
             for x in $LDFLAGS $LTLIBINTL; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
               case "$x" in
                 -L*)
@@ -20174,13 +19090,13 @@
                                                                                 haveit=
                     for x in $LDFLAGS $LIBINTL; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                       if test "X$x" = "X-L$found_dir"; then
                         haveit=yes
@@ -20242,13 +19158,13 @@
                 if test -z "$haveit"; then
                   for x in $CPPFLAGS $INCINTL; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                     if test "X$x" = "X-I$additional_includedir"; then
                       haveit=yes
@@ -20264,12 +19180,12 @@
               fi
             fi
                         if test -n "$found_la"; then
-                                                        saved_libdir="$libdir"
+                                                        save_libdir="$libdir"
               case "$found_la" in
                 */* | *\\*) . "$found_la" ;;
                 *) . "./$found_la" ;;
               esac
-              libdir="$saved_libdir"
+              libdir="$save_libdir"
                             for dep in $dependency_libs; do
                 case "$dep" in
                   -L*)
@@ -20291,13 +19207,13 @@
                         haveit=
                         for x in $LDFLAGS $LIBINTL; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                           if test "X$x" = "X-L$dependency_libdir"; then
                             haveit=yes
@@ -20312,13 +19228,13 @@
                         haveit=
                         for x in $LDFLAGS $LTLIBINTL; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
                           if test "X$x" = "X-L$dependency_libdir"; then
                             haveit=yes
@@ -20359,14 +19275,7 @@
                     fi
                     ;;
                   -l*)
-                                                                                                                                                                dep=`echo "X$dep" | sed -e 's/^X-l//'`
-                    if test "X$dep" != Xc \
-                       || case $host_os in
-                            linux* | gnu* | k*bsd*-gnu) false ;;
-                            *)                          true ;;
-                          esac; then
-                      names_next_round="$names_next_round $dep"
-                    fi
+                                        names_next_round="$names_next_round "`echo "X$dep" | sed -e 's/^X-l//'`
                     ;;
                   *.la)
                                                                                 names_next_round="$names_next_round "`echo "X$dep" | sed -e 's,^X.*/,,' -e 's,^lib,,' -e 's,\.la$,,'`
@@ -20392,17 +19301,17 @@
       for found_dir in $rpathdirs; do
         alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir"
       done
-            acl_saved_libdir="$libdir"
+            acl_save_libdir="$libdir"
       libdir="$alldirs"
       eval flag=\"$acl_hardcode_libdir_flag_spec\"
-      libdir="$acl_saved_libdir"
+      libdir="$acl_save_libdir"
       LIBINTL="${LIBINTL}${LIBINTL:+ }$flag"
     else
             for found_dir in $rpathdirs; do
-        acl_saved_libdir="$libdir"
+        acl_save_libdir="$libdir"
         libdir="$found_dir"
         eval flag=\"$acl_hardcode_libdir_flag_spec\"
-        libdir="$acl_saved_libdir"
+        libdir="$acl_save_libdir"
         LIBINTL="${LIBINTL}${LIBINTL:+ }$flag"
       done
     fi
@@ -20422,10 +19331,10 @@
 if eval test \${$gt_func_gnugettext_libintl+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gt_saved_CPPFLAGS="$CPPFLAGS"
+else $as_nop
+  gt_save_CPPFLAGS="$CPPFLAGS"
             CPPFLAGS="$CPPFLAGS $INCINTL"
-            gt_saved_LIBS="$LIBS"
+            gt_save_LIBS="$LIBS"
             LIBS="$LIBS $LIBINTL"
                         cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -20458,20 +19367,13 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   eval "$gt_func_gnugettext_libintl=yes"
-else case e in #(
-  e) eval "$gt_func_gnugettext_libintl=no" ;;
-esac
+else $as_nop
+  eval "$gt_func_gnugettext_libintl=no"
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
-                                    gt_LIBINTL_EXTRA="$INTL_MACOSX_LIBS"
-
-            case "$host_os" in
-              aix*) gt_LIBINTL_EXTRA="-lpthread" ;;
-            esac
-            if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" != yes; } \
-               && { test -n "$LIBICONV" || test -n "$gt_LIBINTL_EXTRA"; }; then
-              LIBS="$LIBS $LIBICONV $gt_LIBINTL_EXTRA"
+                        if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" != yes; } && test -n "$LIBICONV"; then
+              LIBS="$LIBS $LIBICONV"
               cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -20502,17 +19404,16 @@
 _ACEOF
 if ac_fn_c_try_link "$LINENO"
 then :
-  LIBINTL="$LIBINTL $LIBICONV $gt_LIBINTL_EXTRA"
-                 LTLIBINTL="$LTLIBINTL $LTLIBICONV $gt_LIBINTL_EXTRA"
+  LIBINTL="$LIBINTL $LIBICONV"
+                 LTLIBINTL="$LTLIBINTL $LTLIBICONV"
                  eval "$gt_func_gnugettext_libintl=yes"
 
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
             fi
-            CPPFLAGS="$gt_saved_CPPFLAGS"
-            LIBS="$gt_saved_LIBS" ;;
-esac
+            CPPFLAGS="$gt_save_CPPFLAGS"
+            LIBS="$gt_save_LIBS"
 fi
 eval ac_res=\$$gt_func_gnugettext_libintl
 	       { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_res" >&5
@@ -20522,8 +19423,7 @@
                                         if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" = "yes"; } \
            || { { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" = "yes"; } \
                 && test "$PACKAGE" != gettext-runtime \
-                && test "$PACKAGE" != gettext-tools \
-                && test "$PACKAGE" != libintl; }; then
+                && test "$PACKAGE" != gettext-tools; }; then
           gt_use_preinstalled_gnugettext=yes
         else
                     LIBINTL=
@@ -20584,13 +19484,13 @@
     haveit=
     for x in $CPPFLAGS; do
 
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   eval x=\"$x\"
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 
       if test "X$x" = "X$element"; then
         haveit=yes
@@ -20617,11 +19517,7 @@
 
 
 
-
-        INTLLIBS="$LIBINTL"
-
-
-
+    INTLLIBS="$LIBINTL"
 
 
 
@@ -20658,16 +19554,15 @@
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
 			as_fn_error $? "
     Translation support (--enable-nls) on native Windows requires
     UCRT and gettext-runtime >= 0.23.1. Use --disable-nls to build
     with MSVCRT or old gettext-runtime." "$LINENO" 5
-		 ;;
-esac
+
 fi
 rm -f conftest.err conftest.i conftest.$ac_ext
 
@@ -20714,25 +19609,25 @@
 
 fi
 
-   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for stdbool.h that conforms to C99 or later" >&5
-printf %s "checking for stdbool.h that conforms to C99 or later... " >&6; }
+   { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for stdbool.h that conforms to C99" >&5
+printf %s "checking for stdbool.h that conforms to C99... " >&6; }
 if test ${ac_cv_header_stdbool_h+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <stdbool.h>
 
-             /* "true" and "false" should be usable in #if expressions and
-                integer constant expressions, and "bool" should be a valid
-                type name.
-
-                Although C99 requires bool, true, and false to be macros,
-                C23 and C++11 overrule that, so do not test for that.
-                Although C99 requires __bool_true_false_are_defined and
-                _Bool, C23 says they are obsolescent, so do not require
-                them.  */
+             #ifndef __bool_true_false_are_defined
+               #error "__bool_true_false_are_defined is not defined"
+             #endif
+             char a[__bool_true_false_are_defined == 1 ? 1 : -1];
+
+             /* Regardless of whether this is C++ or "_Bool" is a
+                valid type name, "true" and "false" should be usable
+                in #if expressions and integer constant expressions,
+                and "bool" should be a valid type name.  */
 
              #if !true
                #error "'true' is not true"
@@ -20766,12 +19661,43 @@
              char n[sizeof m == h * sizeof m[0] ? 1 : -1];
              char o[-1 - (bool) 0 < 0 ? 1 : -1];
              /* Catch a bug in an HP-UX C compiler.  See
-                https://gcc.gnu.org/ml/gcc-patches/2003-12/msg02303.html
-                https://lists.gnu.org/r/bug-coreutils/2005-11/msg00161.html
+         https://gcc.gnu.org/ml/gcc-patches/2003-12/msg02303.html
+         https://lists.gnu.org/archive/html/bug-coreutils/2005-11/msg00161.html
               */
              bool p = true;
              bool *pp = &p;
 
+             /* C 1999 specifies that bool, true, and false are to be
+                macros, but C++ 2011 and later overrule this.  */
+             #if __cplusplus < 201103
+              #ifndef bool
+               #error "bool is not defined"
+              #endif
+              #ifndef false
+               #error "false is not defined"
+              #endif
+              #ifndef true
+               #error "true is not defined"
+              #endif
+             #endif
+
+             /* If _Bool is available, repeat with it all the tests
+                above that used bool.  */
+             #ifdef HAVE__BOOL
+               struct sB { _Bool s: 1; _Bool t; } t;
+
+               char q[(_Bool) 0.5 == true ? 1 : -1];
+               char r[(_Bool) 0.0 == false ? 1 : -1];
+               char u[sizeof (_Bool) > 0 ? 1 : -1];
+               char v[sizeof t.t > 0 ? 1 : -1];
+
+               _Bool w[h];
+               char x[sizeof m == h * sizeof m[0] ? 1 : -1];
+               char y[-1 - (_Bool) 0 < 0 ? 1 : -1];
+               _Bool z = true;
+               _Bool *pz = &p;
+             #endif
+
 int
 main (void)
 {
@@ -20780,10 +19706,20 @@
              *pp |= p;
              *pp |= ! p;
 
+             #ifdef HAVE__BOOL
+               _Bool pt = &t;
+               *pz |= z;
+               *pz |= ! z;
+             #endif
+
              /* Refer to every declared value, so they cannot be
                 discarded as unused.  */
-             return (!b + !c + !d + !e + !f + !g + !h + !i + !j + !k
-                     + !l + !m + !n + !o + !p + !pp + !ps);
+             return (!a + !b + !c + !d + !e + !f + !g + !h + !i + !j + !k
+                     + !l + !m + !n + !o + !p + !pp + !ps
+             #ifdef HAVE__BOOL
+                     + !q + !r + !u + !v + !w + !x + !y + !z + !pt
+             #endif
+                    );
 
   ;
   return 0;
@@ -20792,12 +19728,10 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_header_stdbool_h=yes
-else case e in #(
-  e) ac_cv_header_stdbool_h=no ;;
-esac
+else $as_nop
+  ac_cv_header_stdbool_h=no
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_header_stdbool_h" >&5
 printf "%s\n" "$ac_cv_header_stdbool_h" >&6; }
@@ -20880,8 +19814,8 @@
 
 printf "%s\n" "#define HAVE_UINTPTR_T 1" >>confdefs.h
 
-else case e in #(
-  e) for ac_type in 'unsigned int' 'unsigned long int' \
+else $as_nop
+  for ac_type in 'unsigned int' 'unsigned long int' \
 	'unsigned long long int'; do
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -20906,38 +19840,35 @@
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        test -z "$ac_type" && break
-     done ;;
-esac
+     done
 fi
 
 
 
 # The cast to long int works around a bug in the HP C Compiler
 # version HP92453-01 B.11.11.23709.GP, which incorrectly rejects
-# declarations like 'int a3[[(sizeof (unsigned char)) >= 0]];'.
+# declarations like `int a3[[(sizeof (unsigned char)) >= 0]];'.
 # This bug is HP SR number 8606223364.
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking size of size_t" >&5
 printf %s "checking size of size_t... " >&6; }
 if test ${ac_cv_sizeof_size_t+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"
+else $as_nop
+  if ac_fn_c_compute_int "$LINENO" "(long int) (sizeof (size_t))" "ac_cv_sizeof_size_t"        "$ac_includes_default"
 then :
 
-else case e in #(
-  e) if test "$ac_cv_type_size_t" = yes; then
-     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+else $as_nop
+  if test "$ac_cv_type_size_t" = yes; then
+     { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error 77 "cannot compute sizeof (size_t)
-See 'config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5; }
    else
      ac_cv_sizeof_size_t=0
-   fi ;;
-esac
+   fi
 fi
- ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sizeof_size_t" >&5
 printf "%s\n" "$ac_cv_sizeof_size_t" >&6; }
@@ -20998,34 +19929,31 @@
 then :
   enableval=$enable_largefile;
 fi
-if test "$enable_largefile,$enable_year2038" != no,no
-then :
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option to enable large file support" >&5
-printf %s "checking for $CC option to enable large file support... " >&6; }
-if test ${ac_cv_sys_largefile_opts+y}
+
+if test "$enable_largefile" != no; then
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for special C compiler options needed for large files" >&5
+printf %s "checking for special C compiler options needed for large files... " >&6; }
+if test ${ac_cv_sys_largefile_CC+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_save_CC="$CC"
-  ac_opt_found=no
-  for ac_opt in "none needed" "-D_FILE_OFFSET_BITS=64" "-D_LARGE_FILES=1" "-n32"; do
-    if test x"$ac_opt" != x"none needed"
-then :
-  CC="$ac_save_CC $ac_opt"
-fi
-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  ac_cv_sys_largefile_CC=no
+     if test "$GCC" != yes; then
+       ac_save_CC=$CC
+       while :; do
+	 # IRIX 6.2 and later do not support large files by default,
+	 # so use the C compiler's -n32 option if that helps.
+	 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <sys/types.h>
-#ifndef FTYPE
-# define FTYPE off_t
-#endif
- /* Check that FTYPE can represent 2**63 - 1 correctly.
-    We can't simply define LARGE_FTYPE to be 9223372036854775807,
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
     since some C++ compilers masquerading as C compilers
     incorrectly reject 9223372036854775807.  */
-#define LARGE_FTYPE (((FTYPE) 1 << 31 << 31) - 1 + ((FTYPE) 1 << 31 << 31))
-  int FTYPE_is_large[(LARGE_FTYPE % 2147483629 == 721
-		       && LARGE_FTYPE % 2147483647 == 1)
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
 		      ? 1 : -1];
 int
 main (void)
@@ -21035,88 +19963,142 @@
   return 0;
 }
 _ACEOF
-if ac_fn_c_try_compile "$LINENO"
-then :
-  if test x"$ac_opt" = x"none needed"
-then :
-  # GNU/Linux s390x and alpha need _FILE_OFFSET_BITS=64 for wide ino_t.
-	 CC="$CC -DFTYPE=ino_t"
 	 if ac_fn_c_try_compile "$LINENO"
 then :
-
-else case e in #(
-  e) CC="$CC -D_FILE_OFFSET_BITS=64"
-	    if ac_fn_c_try_compile "$LINENO"
-then :
-  ac_opt='-D_FILE_OFFSET_BITS=64'
+  break
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam
+	 CC="$CC -n32"
+	 if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_largefile_CC=' -n32'; break
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam
+	 break
+       done
+       CC=$ac_save_CC
+       rm -f conftest.$ac_ext
+    fi
 fi
-      ac_cv_sys_largefile_opts=$ac_opt
-      ac_opt_found=yes
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_CC" >&5
+printf "%s\n" "$ac_cv_sys_largefile_CC" >&6; }
+  if test "$ac_cv_sys_largefile_CC" != no; then
+    CC=$CC$ac_cv_sys_largefile_CC
+  fi
+
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for _FILE_OFFSET_BITS value needed for large files" >&5
+printf %s "checking for _FILE_OFFSET_BITS value needed for large files... " >&6; }
+if test ${ac_cv_sys_file_offset_bits+y}
+then :
+  printf %s "(cached) " >&6
+else $as_nop
+  while :; do
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_file_offset_bits=no; break
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-    test $ac_opt_found = no || break
-  done
-  CC="$ac_save_CC"
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#define _FILE_OFFSET_BITS 64
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
 
-  test $ac_opt_found = yes || ac_cv_sys_largefile_opts="support not detected" ;;
-esac
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
+then :
+  ac_cv_sys_file_offset_bits=64; break
 fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_largefile_opts" >&5
-printf "%s\n" "$ac_cv_sys_largefile_opts" >&6; }
-
-ac_have_largefile=yes
-case $ac_cv_sys_largefile_opts in #(
-  "none needed") :
-     ;; #(
-  "supported through gnulib") :
-     ;; #(
-  "support not detected") :
-    ac_have_largefile=no ;; #(
-  "-D_FILE_OFFSET_BITS=64") :
-
-printf "%s\n" "#define _FILE_OFFSET_BITS 64" >>confdefs.h
- ;; #(
-  "-D_LARGE_FILES=1") :
-
-printf "%s\n" "#define _LARGE_FILES 1" >>confdefs.h
- ;; #(
-  "-n32") :
-    CC="$CC -n32" ;; #(
-  *) :
-    as_fn_error $? "internal error: bad value for \$ac_cv_sys_largefile_opts" "$LINENO" 5 ;;
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  ac_cv_sys_file_offset_bits=unknown
+  break
+done
+fi
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_file_offset_bits" >&5
+printf "%s\n" "$ac_cv_sys_file_offset_bits" >&6; }
+case $ac_cv_sys_file_offset_bits in #(
+  no | unknown) ;;
+  *)
+printf "%s\n" "#define _FILE_OFFSET_BITS $ac_cv_sys_file_offset_bits" >>confdefs.h
+;;
 esac
-
-if test "$enable_year2038" != no
-then :
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for $CC option for timestamps after 2038" >&5
-printf %s "checking for $CC option for timestamps after 2038... " >&6; }
-if test ${ac_cv_sys_year2038_opts+y}
+rm -rf conftest*
+  if test $ac_cv_sys_file_offset_bits = unknown; then
+    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking for _LARGE_FILES value needed for large files" >&5
+printf %s "checking for _LARGE_FILES value needed for large files... " >&6; }
+if test ${ac_cv_sys_large_files+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_save_CPPFLAGS="$CPPFLAGS"
-  ac_opt_found=no
-  for ac_opt in "none needed" "-D_TIME_BITS=64" "-D__MINGW_USE_VC2005_COMPAT" "-U_USE_32_BIT_TIME_T -D__MINGW_USE_VC2005_COMPAT"; do
-    if test x"$ac_opt" != x"none needed"
+else $as_nop
+  while :; do
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+/* end confdefs.h.  */
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
+int
+main (void)
+{
+
+  ;
+  return 0;
+}
+_ACEOF
+if ac_fn_c_try_compile "$LINENO"
 then :
-  CPPFLAGS="$ac_save_CPPFLAGS $ac_opt"
+  ac_cv_sys_large_files=no; break
 fi
-    cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
-
-  #include <time.h>
-  /* Check that time_t can represent 2**32 - 1 correctly.  */
-  #define LARGE_TIME_T \\
-    ((time_t) (((time_t) 1 << 30) - 1 + 3 * ((time_t) 1 << 30)))
-  int verify_time_t_range[(LARGE_TIME_T / 65537 == 65535
-                           && LARGE_TIME_T % 65537 == 0)
-                          ? 1 : -1];
-
+#define _LARGE_FILES 1
+#include <sys/types.h>
+ /* Check that off_t can represent 2**63 - 1 correctly.
+    We can't simply define LARGE_OFF_T to be 9223372036854775807,
+    since some C++ compilers masquerading as C compilers
+    incorrectly reject 9223372036854775807.  */
+#define LARGE_OFF_T (((off_t) 1 << 31 << 31) - 1 + ((off_t) 1 << 31 << 31))
+  int off_t_is_large[(LARGE_OFF_T % 2147483629 == 721
+		       && LARGE_OFF_T % 2147483647 == 1)
+		      ? 1 : -1];
 int
 main (void)
 {
@@ -21127,54 +20109,32 @@
 _ACEOF
 if ac_fn_c_try_compile "$LINENO"
 then :
-  ac_cv_sys_year2038_opts="$ac_opt"
-      ac_opt_found=yes
+  ac_cv_sys_large_files=1; break
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
-    test $ac_opt_found = no || break
-  done
-  CPPFLAGS="$ac_save_CPPFLAGS"
-  test $ac_opt_found = yes || ac_cv_sys_year2038_opts="support not detected" ;;
-esac
+  ac_cv_sys_large_files=unknown
+  break
+done
 fi
-{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_year2038_opts" >&5
-printf "%s\n" "$ac_cv_sys_year2038_opts" >&6; }
-
-ac_have_year2038=yes
-case $ac_cv_sys_year2038_opts in #(
-  "none needed") :
-     ;; #(
-  "support not detected") :
-    ac_have_year2038=no ;; #(
-  "-D_TIME_BITS=64") :
-
-printf "%s\n" "#define _TIME_BITS 64" >>confdefs.h
- ;; #(
-  "-D__MINGW_USE_VC2005_COMPAT") :
-
-printf "%s\n" "#define __MINGW_USE_VC2005_COMPAT 1" >>confdefs.h
- ;; #(
-  "-U_USE_32_BIT_TIME_T"*) :
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
-as_fn_error $? "the 'time_t' type is currently forced to be 32-bit. It
-will stop working after mid-January 2038. Remove
-_USE_32BIT_TIME_T from the compiler flags.
-See 'config.log' for more details" "$LINENO" 5; } ;; #(
-  *) :
-    as_fn_error $? "internal error: bad value for \$ac_cv_sys_year2038_opts" "$LINENO" 5 ;;
+{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_sys_large_files" >&5
+printf "%s\n" "$ac_cv_sys_large_files" >&6; }
+case $ac_cv_sys_large_files in #(
+  no | unknown) ;;
+  *)
+printf "%s\n" "#define _LARGE_FILES $ac_cv_sys_large_files" >>confdefs.h
+;;
 esac
-
+rm -rf conftest*
+  fi
 fi
 
-fi
  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: checking whether byte ordering is bigendian" >&5
 printf %s "checking whether byte ordering is bigendian... " >&6; }
 if test ${ac_cv_c_bigendian+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_cv_c_bigendian=unknown
+else $as_nop
+  ac_cv_c_bigendian=unknown
     # See if we're dealing with a universal compiler.
     cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -21220,8 +20180,8 @@
 int
 main (void)
 {
-#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \\
-		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \\
+#if ! (defined BYTE_ORDER && defined BIG_ENDIAN \
+		     && defined LITTLE_ENDIAN && BYTE_ORDER && BIG_ENDIAN \
 		     && LITTLE_ENDIAN)
 	      bogus endian macros
 	     #endif
@@ -21252,9 +20212,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else case e in #(
-  e) ac_cv_c_bigendian=no ;;
-esac
+else $as_nop
+  ac_cv_c_bigendian=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -21298,9 +20257,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   ac_cv_c_bigendian=yes
-else case e in #(
-  e) ac_cv_c_bigendian=no ;;
-esac
+else $as_nop
+  ac_cv_c_bigendian=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
@@ -21327,23 +20285,22 @@
 		int use_ebcdic (int i) {
 		  return ebcdic_mm[i] + ebcdic_ii[i];
 		}
-		int
-		main (int argc, char **argv)
-		{
-		  /* Intimidate the compiler so that it does not
-		     optimize the arrays away.  */
-		  char *p = argv[0];
-		  ascii_mm[1] = *p++; ebcdic_mm[1] = *p++;
-		  ascii_ii[1] = *p++; ebcdic_ii[1] = *p++;
-		  return use_ascii (argc) == use_ebcdic (*p);
-		}
+		extern int foo;
+
+int
+main (void)
+{
+return use_ascii (foo) == use_ebcdic (foo);
+  ;
+  return 0;
+}
 _ACEOF
-if ac_fn_c_try_link "$LINENO"
+if ac_fn_c_try_compile "$LINENO"
 then :
-  if grep BIGenDianSyS conftest$ac_exeext >/dev/null; then
+  if grep BIGenDianSyS conftest.$ac_objext >/dev/null; then
 	      ac_cv_c_bigendian=yes
 	    fi
-	    if grep LiTTleEnDian conftest$ac_exeext >/dev/null ; then
+	    if grep LiTTleEnDian conftest.$ac_objext >/dev/null ; then
 	      if test "$ac_cv_c_bigendian" = unknown; then
 		ac_cv_c_bigendian=no
 	      else
@@ -21352,10 +20309,9 @@
 	      fi
 	    fi
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 $ac_includes_default
 int
@@ -21378,17 +20334,14 @@
 if ac_fn_c_try_run "$LINENO"
 then :
   ac_cv_c_bigendian=no
-else case e in #(
-  e) ac_cv_c_bigendian=yes ;;
-esac
+else $as_nop
+  ac_cv_c_bigendian=yes
 fi
 rm -f core *.core core.conftest.* gmon.out bb.out conftest$ac_exeext \
-  conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+  conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 
-    fi ;;
-esac
+    fi
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_bigendian" >&5
 printf "%s\n" "$ac_cv_c_bigendian" >&6; }
@@ -21434,12 +20387,11 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
- ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 CFLAGS="$OLD_CFLAGS"
@@ -21469,8 +20421,8 @@
 if test ${ac_cv_c_undeclared_builtin_options+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_save_CFLAGS=$CFLAGS
+else $as_nop
+  ac_save_CFLAGS=$CFLAGS
    ac_cv_c_undeclared_builtin_options='cannot detect'
    for ac_arg in '' -fno-builtin; do
      CFLAGS="$ac_save_CFLAGS $ac_arg"
@@ -21489,8 +20441,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
 
-else case e in #(
-  e) # This test program should compile successfully.
+else $as_nop
+  # This test program should compile successfully.
         # No library function is consistently available on
         # freestanding implementations, so test against a dummy
         # declaration.  Include always-available headers on the
@@ -21518,29 +20470,26 @@
   if test x"$ac_arg" = x
 then :
   ac_cv_c_undeclared_builtin_options='none needed'
-else case e in #(
-  e) ac_cv_c_undeclared_builtin_options=$ac_arg ;;
-esac
+else $as_nop
+  ac_cv_c_undeclared_builtin_options=$ac_arg
 fi
           break
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
     done
     CFLAGS=$ac_save_CFLAGS
-   ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_c_undeclared_builtin_options" >&5
 printf "%s\n" "$ac_cv_c_undeclared_builtin_options" >&6; }
   case $ac_cv_c_undeclared_builtin_options in #(
   'cannot detect') :
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "cannot make $CC report undeclared builtins
-See 'config.log' for more details" "$LINENO" 5; } ;; #(
+See \`config.log' for more details" "$LINENO" 5; } ;; #(
   'none needed') :
     ac_c_undeclared_builtin_options='' ;; #(
   *) :
@@ -21556,9 +20505,8 @@
 then :
   printf "%s\n" "#define HAVE_GETOPT_H 1" >>confdefs.h
 
-else case e in #(
-  e) gl_replace_getopt=yes ;;
-esac
+else $as_nop
+  gl_replace_getopt=yes
 fi
 
 done
@@ -21573,9 +20521,8 @@
 then :
   printf "%s\n" "#define HAVE_GETOPT_LONG 1" >>confdefs.h
 
-else case e in #(
-  e) gl_replace_getopt=yes ;;
-esac
+else $as_nop
+  gl_replace_getopt=yes
 fi
 
 done
@@ -21641,21 +20588,15 @@
 if test ${ac_cv_search_clock_gettime+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_func_search_save_LIBS=$LIBS
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char clock_gettime (void);
+   builtin and then its argument prototype would still apply.  */
+char clock_gettime ();
 int
 main (void)
 {
@@ -21686,13 +20627,11 @@
 if test ${ac_cv_search_clock_gettime+y}
 then :
 
-else case e in #(
-  e) ac_cv_search_clock_gettime=no ;;
-esac
+else $as_nop
+  ac_cv_search_clock_gettime=no
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS ;;
-esac
+LIBS=$ac_func_search_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_clock_gettime" >&5
 printf "%s\n" "$ac_cv_search_clock_gettime" >&6; }
@@ -21723,12 +20662,12 @@
 
   for ac_func in futimens futimes futimesat utimes _futime utime
 do :
-  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | sed "$as_sed_sh"`
+  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
 if eval test \"x\$"$as_ac_var"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_func" | sed "$as_sed_cpp"` 1
+#define `printf "%s\n" "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
  break
 fi
@@ -21788,20 +20727,20 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
 
 	# Look for other byteswapping methods.
 	       for ac_header in byteswap.h sys/endian.h sys/byteorder.h
 do :
-  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | sed "$as_sed_sh"`
+  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
 if eval test \"x\$"$as_ac_Header"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_header" | sed "$as_sed_cpp"` 1
+#define `printf "%s\n" "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
  break
 fi
@@ -21834,10 +20773,9 @@
 				{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
-printf "%s\n" "no" >&6; } ;;
-esac
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -21866,10 +20804,9 @@
 				{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
-printf "%s\n" "no" >&6; } ;;
-esac
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -21898,17 +20835,15 @@
 				{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e) { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
-printf "%s\n" "no" >&6; } ;;
-esac
+else $as_nop
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
+printf "%s\n" "no" >&6; }
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 
 			fi
- ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -21919,9 +20854,8 @@
 if test ${enable_unaligned_access+y}
 then :
   enableval=$enable_unaligned_access;
-else case e in #(
-  e) enable_unaligned_access=auto ;;
-esac
+else $as_nop
+  enable_unaligned_access=auto
 fi
 
 if test "x$enable_unaligned_access" = xauto ; then
@@ -21965,9 +20899,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   enable_unaligned_access=yes
-else case e in #(
-  e) enable_unaligned_access=no ;;
-esac
+else $as_nop
+  enable_unaligned_access=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 			;;
@@ -21993,9 +20926,8 @@
 if test ${enable_unsafe_type_punning+y}
 then :
   enableval=$enable_unsafe_type_punning;
-else case e in #(
-  e) enable_unsafe_type_punning=no ;;
-esac
+else $as_nop
+  enable_unsafe_type_punning=no
 fi
 
 if test "x$enable_unsafe_type_punning" = xyes ; then
@@ -22031,12 +20963,11 @@
 		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 		{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
-	 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -22058,8 +20989,8 @@
 if test ${tuklib_cv_physmem_method+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
 
 # Maybe checking $host_os would be enough but this matches what
 # tuklib_physmem.c does.
@@ -22081,8 +21012,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   tuklib_cv_physmem_method=special
-else case e in #(
-  e)
+else $as_nop
+
 
 # Look for AIX-specific solution before sysconf(), because the test
 # for sysconf() will pass on AIX but won't actually work
@@ -22108,8 +21039,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   tuklib_cv_physmem_method=aix
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22128,8 +21059,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_physmem_method=sysconf
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22152,8 +21083,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_physmem_method=sysctl
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22174,8 +21105,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_physmem_method=getsysinfo
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22197,8 +21128,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_physmem_method=pstat_getstatic
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22218,8 +21149,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_physmem_method=getinvent_r
-else case e in #(
-  e)
+else $as_nop
+
 
 # This version of sysinfo() is Linux-specific. Some non-Linux systems have
 # different sysinfo() so we must check $host_os.
@@ -22243,11 +21174,10 @@
 
 			tuklib_cv_physmem_method=sysinfo
 
-else case e in #(
-  e)
+else $as_nop
+
 			tuklib_cv_physmem_method=unknown
-		 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -22256,34 +21186,26 @@
 		tuklib_cv_physmem_method=unknown
 		;;
 esac
- ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tuklib_cv_physmem_method" >&5
 printf "%s\n" "$tuklib_cv_physmem_method" >&6; }
@@ -22343,8 +21265,8 @@
 if test ${tuklib_cv_cpucores_method+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e)
+else $as_nop
+
 
 # Maybe checking $host_os would be enough but this matches what
 # tuklib_cpucores.c does.
@@ -22364,8 +21286,8 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   tuklib_cv_cpucores_method=special
-else case e in #(
-  e)
+else $as_nop
+
 
 # glibc-based systems (GNU/Linux and GNU/kFreeBSD) have sched_getaffinity().
 # The CPU_COUNT() macro was added in glibc 2.9 so we try to link the
@@ -22388,8 +21310,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_cpucores_method=sched_getaffinity
-else case e in #(
-  e)
+else $as_nop
+
 
 # FreeBSD has both cpuset and sysctl. Look for cpuset first because
 # it's a better approach.
@@ -22417,8 +21339,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_cpucores_method=cpuset
-else case e in #(
-  e)
+else $as_nop
+
 
 # On OS/2, both sysconf() and sysctl() pass the tests in this file,
 # but only sysctl() works. On QNX it's the opposite: only sysconf() works
@@ -22456,8 +21378,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_cpucores_method=sysctl
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22481,8 +21403,8 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_cpucores_method=sysconf
-else case e in #(
-  e)
+else $as_nop
+
 
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -22503,35 +21425,28 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   tuklib_cv_cpucores_method=pstat_getdynamic
-else case e in #(
-  e)
+else $as_nop
+
 
 	tuklib_cv_cpucores_method=unknown
- ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
-rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext ;;
-esac
+rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $tuklib_cv_cpucores_method" >&5
 printf "%s\n" "$tuklib_cv_cpucores_method" >&6; }
@@ -22572,8 +21487,8 @@
 if test ${ac_cv_func_mbrtowc+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) cat confdefs.h - <<_ACEOF >conftest.$ac_ext
+else $as_nop
+  cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 #include <wchar.h>
 int
@@ -22591,13 +21506,11 @@
 if ac_fn_c_try_link "$LINENO"
 then :
   ac_cv_func_mbrtowc=yes
-else case e in #(
-  e) ac_cv_func_mbrtowc=no ;;
-esac
+else $as_nop
+  ac_cv_func_mbrtowc=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
-    conftest$ac_exeext conftest.$ac_ext ;;
-esac
+    conftest$ac_exeext conftest.$ac_ext
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_func_mbrtowc" >&5
 printf "%s\n" "$ac_cv_func_mbrtowc" >&6; }
@@ -22648,12 +21561,12 @@
 	# succeed.
 	       for ac_header in CommonCrypto/CommonDigest.h sha256.h sha2.h
 do :
-  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | sed "$as_sed_sh"`
+  as_ac_Header=`printf "%s\n" "ac_cv_header_$ac_header" | $as_tr_sh`
 ac_fn_c_check_header_compile "$LINENO" "$ac_header" "$as_ac_Header" "$ac_includes_default"
 if eval test \"x\$"$as_ac_Header"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_header" | sed "$as_sed_cpp"` 1
+#define `printf "%s\n" "HAVE_$ac_header" | $as_tr_cpp` 1
 _ACEOF
  sha256_header_found=yes ; break
 fi
@@ -22727,21 +21640,15 @@
 if test ${ac_cv_search_SHA256Init+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_func_search_save_LIBS=$LIBS
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char SHA256Init (void);
+   builtin and then its argument prototype would still apply.  */
+char SHA256Init ();
 int
 main (void)
 {
@@ -22772,13 +21679,11 @@
 if test ${ac_cv_search_SHA256Init+y}
 then :
 
-else case e in #(
-  e) ac_cv_search_SHA256Init=no ;;
-esac
+else $as_nop
+  ac_cv_search_SHA256Init=no
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS ;;
-esac
+LIBS=$ac_func_search_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_SHA256Init" >&5
 printf "%s\n" "$ac_cv_search_SHA256Init" >&6; }
@@ -22794,21 +21699,15 @@
 if test ${ac_cv_search_SHA256_Init+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) ac_func_search_save_LIBS=$LIBS
+else $as_nop
+  ac_func_search_save_LIBS=$LIBS
 cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
 /* Override any GCC internal prototype to avoid an error.
    Use char because int might match the return type of a GCC
-   builtin and then its argument prototype would still apply.
-   The 'extern "C"' is for builds by C++ compilers;
-   although this is not generally supported in C code supporting it here
-   has little cost and some practical benefit (sr 110532).  */
-#ifdef __cplusplus
-extern "C"
-#endif
-char SHA256_Init (void);
+   builtin and then its argument prototype would still apply.  */
+char SHA256_Init ();
 int
 main (void)
 {
@@ -22839,13 +21738,11 @@
 if test ${ac_cv_search_SHA256_Init+y}
 then :
 
-else case e in #(
-  e) ac_cv_search_SHA256_Init=no ;;
-esac
+else $as_nop
+  ac_cv_search_SHA256_Init=no
 fi
 rm conftest.$ac_ext
-LIBS=$ac_func_search_save_LIBS ;;
-esac
+LIBS=$ac_func_search_save_LIBS
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $ac_cv_search_SHA256_Init" >&5
 printf "%s\n" "$ac_cv_search_SHA256_Init" >&6; }
@@ -22859,12 +21756,12 @@
 
   for ac_func in CC_SHA256_Init SHA256Init SHA256_Init
 do :
-  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | sed "$as_sed_sh"`
+  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
 if eval test \"x\$"$as_ac_var"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_func" | sed "$as_sed_cpp"` 1
+#define `printf "%s\n" "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
  sha256_func_found=yes ; break
 fi
@@ -22927,8 +21824,8 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, --disable-clmul-crc was used" >&5
 printf "%s\n" "no, --disable-clmul-crc was used" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -22961,18 +21858,16 @@
 
 		enable_clmul_crc=yes
 
-else case e in #(
-  e)
+else $as_nop
+
 		enable_clmul_crc=no
-	 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $enable_clmul_crc" >&5
 printf "%s\n" "$enable_clmul_crc" >&6; }
- ;;
-esac
+
 fi
 
 # ARM64 C Language Extensions define CRC32 functions in arm_acle.h.
@@ -22987,8 +21882,8 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, --disable-arm64-crc32 was used" >&5
 printf "%s\n" "no, --disable-arm64-crc32 was used" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23012,18 +21907,16 @@
 
 		enable_arm64_crc32=yes
 
-else case e in #(
-  e)
+else $as_nop
+
 		enable_arm64_crc32=no
-	 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $enable_arm64_crc32" >&5
 printf "%s\n" "$enable_arm64_crc32" >&6; }
- ;;
-esac
+
 fi
 
 # Check for ARM64 CRC32 instruction runtime detection.
@@ -23044,12 +21937,12 @@
 
   for ac_func in getauxval elf_aux_info sysctlbyname
 do :
-  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | sed "$as_sed_sh"`
+  as_ac_var=`printf "%s\n" "ac_cv_func_$ac_func" | $as_tr_sh`
 ac_fn_c_check_func "$LINENO" "$ac_func" "$as_ac_var"
 if eval test \"x\$"$as_ac_var"\" = x"yes"
 then :
   cat >>confdefs.h <<_ACEOF
-#define `printf "%s\n" "HAVE_$ac_func" | sed "$as_sed_cpp"` 1
+#define `printf "%s\n" "HAVE_$ac_func" | $as_tr_cpp` 1
 _ACEOF
  break
 fi
@@ -23072,8 +21965,8 @@
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no, --disable-loongarch-crc32 was used" >&5
 printf "%s\n" "no, --disable-loongarch-crc32 was used" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 	cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
 
@@ -23096,18 +21989,16 @@
 
 		enable_loongarch_crc32=yes
 
-else case e in #(
-  e)
+else $as_nop
+
 		enable_loongarch_crc32=no
-	 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
 	{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $enable_loongarch_crc32" >&5
 printf "%s\n" "$enable_loongarch_crc32" >&6; }
- ;;
-esac
+
 fi
 
 
@@ -23207,12 +22098,11 @@
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
-		 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam \
     conftest$ac_exeext conftest.$ac_ext
@@ -23254,8 +22144,8 @@
 if test ${gl_cv_cc_vis_werror+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gl_saved_CFLAGS="$CFLAGS"
+else $as_nop
+  gl_saved_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -Werror"
        cat confdefs.h - <<_ACEOF >conftest.$ac_ext
 /* end confdefs.h.  */
@@ -23271,14 +22161,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_vis_werror=yes
-else case e in #(
-  e) gl_cv_cc_vis_werror=no ;;
-esac
+else $as_nop
+  gl_cv_cc_vis_werror=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_saved_CFLAGS"
-       ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_vis_werror" >&5
 printf "%s\n" "$gl_cv_cc_vis_werror" >&6; }
@@ -23287,8 +22175,8 @@
 if test ${gl_cv_cc_visibility+y}
 then :
   printf %s "(cached) " >&6
-else case e in #(
-  e) gl_saved_CFLAGS="$CFLAGS"
+else $as_nop
+  gl_saved_CFLAGS="$CFLAGS"
        CFLAGS="$CFLAGS -fvisibility=hidden"
                                           if test $gl_cv_cc_vis_werror = yes; then
          CFLAGS="$CFLAGS -Werror"
@@ -23317,14 +22205,12 @@
 if ac_fn_c_try_compile "$LINENO"
 then :
   gl_cv_cc_visibility=yes
-else case e in #(
-  e) gl_cv_cc_visibility=no ;;
-esac
+else $as_nop
+  gl_cv_cc_visibility=no
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
        CFLAGS="$gl_saved_CFLAGS"
-       ;;
-esac
+
 fi
 { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: $gl_cv_cc_visibility" >&5
 printf "%s\n" "$gl_cv_cc_visibility" >&6; }
@@ -23422,12 +22308,11 @@
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: yes" >&5
 printf "%s\n" "yes" >&6; }
 
-else case e in #(
-  e)
+else $as_nop
+
 			{ printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: no" >&5
 printf "%s\n" "no" >&6; }
-		 ;;
-esac
+
 fi
 rm -f core conftest.err conftest.$ac_objext conftest.beam conftest.$ac_ext
 		CFLAGS="$OLD_CFLAGS"
@@ -23437,9 +22322,8 @@
 if test ${enable_werror+y}
 then :
   enableval=$enable_werror;
-else case e in #(
-  e) enable_werror=no ;;
-esac
+else $as_nop
+  enable_werror=no
 fi
 
 	if test "x$enable_werror" = "xyes"; then
@@ -23494,8 +22378,8 @@
 # config.status only pays attention to the cache file if you give it
 # the --recheck option to rerun configure.
 #
-# 'ac_cv_env_foo' variables (set or unset) will be overridden when
-# loading this file, other *unset* 'ac_cv_foo' will be assigned the
+# `ac_cv_env_foo' variables (set or unset) will be overridden when
+# loading this file, other *unset* `ac_cv_foo' will be assigned the
 # following values.
 
 _ACEOF
@@ -23525,14 +22409,14 @@
   (set) 2>&1 |
     case $as_nl`(ac_space=' '; set) 2>&1` in #(
     *${as_nl}ac_space=\ *)
-      # 'set' does not quote correctly, so add quotes: double-quote
+      # `set' does not quote correctly, so add quotes: double-quote
       # substitution turns \\\\ into \\, and sed turns \\ into \.
       sed -n \
 	"s/'/'\\\\''/g;
 	  s/^\\([_$as_cr_alnum]*_cv_[_$as_cr_alnum]*\\)=\\(.*\\)/\\1='\\2'/p"
       ;; #(
     *)
-      # 'set' quotes correctly as required by POSIX, so do not add quotes.
+      # `set' quotes correctly as required by POSIX, so do not add quotes.
       sed -n "/^[_$as_cr_alnum]*_cv_[_$as_cr_alnum]*=/p"
       ;;
     esac |
@@ -23829,18 +22713,6 @@
    fi
    { printf "%s\n" "$as_me:${as_lineno-$LINENO}: result: done" >&5
 printf "%s\n" "done" >&6; }
-case $enable_silent_rules in # (((
-  yes) AM_DEFAULT_VERBOSITY=0;;
-   no) AM_DEFAULT_VERBOSITY=1;;
-esac
-if test $am_cv_make_support_nested_variables = yes; then
-    AM_V='$(V)'
-  AM_DEFAULT_V='$(AM_DEFAULT_VERBOSITY)'
-else
-  AM_V=$AM_DEFAULT_VERBOSITY
-  AM_DEFAULT_V=$AM_DEFAULT_VERBOSITY
-fi
-
  if test -n "$EXEEXT"; then
   am__EXEEXT_TRUE=
   am__EXEEXT_FALSE='#'
@@ -23877,12 +22749,6 @@
   as_fn_error $? "conditional \"COND_SYMVERS_GENERIC\" was never defined.
 Usually this means the macro was only invoked conditionally." "$LINENO" 5
 fi
-# Check whether --enable-year2038 was given.
-if test ${enable_year2038+y}
-then :
-  enableval=$enable_year2038;
-fi
-
 
 if test -z "${COND_INTERNAL_SHA256_TRUE}" && test -z "${COND_INTERNAL_SHA256_FALSE}"; then
   as_fn_error $? "conditional \"COND_INTERNAL_SHA256\" was never defined.
@@ -23921,6 +22787,7 @@
 
 # Be more Bourne compatible
 DUALCASE=1; export DUALCASE # for MKS sh
+as_nop=:
 if test ${ZSH_VERSION+y} && (emulate sh) >/dev/null 2>&1
 then :
   emulate sh
@@ -23929,13 +22796,12 @@
   # is contrary to our usage.  Disable this feature.
   alias -g '${1+"$@"}'='"$@"'
   setopt NO_GLOB_SUBST
-else case e in #(
-  e) case `(set -o) 2>/dev/null` in #(
+else $as_nop
+  case `(set -o) 2>/dev/null` in #(
   *posix*) :
     set -o posix ;; #(
   *) :
      ;;
-esac ;;
 esac
 fi
 
@@ -24007,7 +22873,7 @@
 
      ;;
 esac
-# We did not find ourselves, most probably we were run as 'sh COMMAND'
+# We did not find ourselves, most probably we were run as `sh COMMAND'
 # in which case we are not to be found in the path.
 if test "x$as_myself" = x; then
   as_myself=$0
@@ -24036,6 +22902,7 @@
 } # as_fn_error
 
 
+
 # as_fn_set_status STATUS
 # -----------------------
 # Set $? to STATUS, without forking.
@@ -24075,12 +22942,11 @@
   {
     eval $1+=\$2
   }'
-else case e in #(
-  e) as_fn_append ()
+else $as_nop
+  as_fn_append ()
   {
     eval $1=\$$1\$2
-  } ;;
-esac
+  }
 fi # as_fn_append
 
 # as_fn_arith ARG...
@@ -24094,12 +22960,11 @@
   {
     as_val=$(( $* ))
   }'
-else case e in #(
-  e) as_fn_arith ()
+else $as_nop
+  as_fn_arith ()
   {
     as_val=`expr "$@" || test $? -eq 1`
-  } ;;
-esac
+  }
 fi # as_fn_arith
 
 
@@ -24182,9 +23047,9 @@
   if ln -s conf$$.file conf$$ 2>/dev/null; then
     as_ln_s='ln -s'
     # ... but there are two gotchas:
-    # 1) On MSYS, both 'ln -s file dir' and 'ln file dir' fail.
-    # 2) DJGPP < 2.04 has no symlinks; 'ln -s' creates a wrapper executable.
-    # In both cases, we have to default to 'cp -pR'.
+    # 1) On MSYS, both `ln -s file dir' and `ln file dir' fail.
+    # 2) DJGPP < 2.04 has no symlinks; `ln -s' creates a wrapper executable.
+    # In both cases, we have to default to `cp -pR'.
     ln -s conf$$.file conf$$.dir 2>/dev/null && test ! -f conf$$.exe ||
       as_ln_s='cp -pR'
   elif ln conf$$.file conf$$ 2>/dev/null; then
@@ -24265,12 +23130,10 @@
 as_executable_p=as_fn_executable_p
 
 # Sed expression to map a string onto a valid CPP name.
-as_sed_cpp="y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g"
-as_tr_cpp="eval sed '$as_sed_cpp'" # deprecated
+as_tr_cpp="eval sed 'y%*$as_cr_letters%P$as_cr_LETTERS%;s%[^_$as_cr_alnum]%_%g'"
 
 # Sed expression to map a string onto a valid variable name.
-as_sed_sh="y%*+%pp%;s%[^_$as_cr_alnum]%_%g"
-as_tr_sh="eval sed '$as_sed_sh'" # deprecated
+as_tr_sh="eval sed 'y%*+%pp%;s%[^_$as_cr_alnum]%_%g'"
 
 
 exec 6>&1
@@ -24286,7 +23149,7 @@
 # values after options handling.
 ac_log="
 This file was extended by XZ Utils $as_me 5.8.1, which was
-generated by GNU Autoconf 2.72.  Invocation command line was
+generated by GNU Autoconf 2.71.  Invocation command line was
 
   CONFIG_FILES    = $CONFIG_FILES
   CONFIG_HEADERS  = $CONFIG_HEADERS
@@ -24318,7 +23181,7 @@
 
 cat >>$CONFIG_STATUS <<\_ACEOF || ac_write_fail=1
 ac_cs_usage="\
-'$as_me' instantiates files and other configuration actions
+\`$as_me' instantiates files and other configuration actions
 from templates according to the current configuration.  Unless the files
 and actions are specified as TAGs, all are instantiated by default.
 
@@ -24355,10 +23218,10 @@
 ac_cs_config='$ac_cs_config_escaped'
 ac_cs_version="\\
 XZ Utils config.status 5.8.1
-configured by $0, generated by GNU Autoconf 2.72,
+configured by $0, generated by GNU Autoconf 2.71,
   with options \\"\$ac_cs_config\\"
 
-Copyright (C) 2023 Free Software Foundation, Inc.
+Copyright (C) 2021 Free Software Foundation, Inc.
 This config.status script is free software; the Free Software Foundation
 gives unlimited permission to copy, distribute and modify it."
 
@@ -24420,8 +23283,8 @@
     ac_need_defaults=false;;
   --he | --h)
     # Conflict between --help and --header
-    as_fn_error $? "ambiguous option: '$1'
-Try '$0 --help' for more information.";;
+    as_fn_error $? "ambiguous option: \`$1'
+Try \`$0 --help' for more information.";;
   --help | --hel | -h )
     printf "%s\n" "$ac_cs_usage"; exit ;;
   -q | -quiet | --quiet | --quie | --qui | --qu | --q \
@@ -24429,8 +23292,8 @@
     ac_cs_silent=: ;;
 
   # This is an error.
-  -*) as_fn_error $? "unrecognized option: '$1'
-Try '$0 --help' for more information." ;;
+  -*) as_fn_error $? "unrecognized option: \`$1'
+Try \`$0 --help' for more information." ;;
 
   *) as_fn_append ac_config_targets " $1"
      ac_need_defaults=false ;;
@@ -24871,7 +23734,7 @@
     "src/scripts/xzmore") CONFIG_FILES="$CONFIG_FILES src/scripts/xzmore" ;;
     "src/scripts/xzless") CONFIG_FILES="$CONFIG_FILES src/scripts/xzless" ;;
 
-  *) as_fn_error $? "invalid argument: '$ac_config_target'" "$LINENO" 5;;
+  *) as_fn_error $? "invalid argument: \`$ac_config_target'" "$LINENO" 5;;
   esac
 done
 
@@ -24891,7 +23754,7 @@
 # creating and moving files from /tmp can sometimes cause problems.
 # Hook for its removal unless debugging.
 # Note that there is a small window in which the directory will not be cleaned:
-# after its creation but before its name has been assigned to '$tmp'.
+# after its creation but before its name has been assigned to `$tmp'.
 $debug ||
 {
   tmp= ac_tmp=
@@ -24915,7 +23778,7 @@
 
 # Set up the scripts for CONFIG_FILES section.
 # No need to generate them if there are no CONFIG_FILES.
-# This happens for instance with './config.status config.h'.
+# This happens for instance with `./config.status config.h'.
 if test -n "$CONFIG_FILES"; then
 
 
@@ -25073,13 +23936,13 @@
 
 # Set up the scripts for CONFIG_HEADERS section.
 # No need to generate them if there are no CONFIG_HEADERS.
-# This happens for instance with './config.status Makefile'.
+# This happens for instance with `./config.status Makefile'.
 if test -n "$CONFIG_HEADERS"; then
 cat >"$ac_tmp/defines.awk" <<\_ACAWK ||
 BEGIN {
 _ACEOF
 
-# Transform confdefs.h into an awk script 'defines.awk', embedded as
+# Transform confdefs.h into an awk script `defines.awk', embedded as
 # here-document in config.status, that substitutes the proper values into
 # config.h.in to produce config.h.
 
@@ -25189,7 +24052,7 @@
   esac
   case $ac_mode$ac_tag in
   :[FHL]*:*);;
-  :L* | :C*:*) as_fn_error $? "invalid tag '$ac_tag'" "$LINENO" 5;;
+  :L* | :C*:*) as_fn_error $? "invalid tag \`$ac_tag'" "$LINENO" 5;;
   :[FH]-) ac_tag=-:-;;
   :[FH]*) ac_tag=$ac_tag:$ac_tag.in;;
   esac
@@ -25211,19 +24074,19 @@
       -) ac_f="$ac_tmp/stdin";;
       *) # Look for the file first in the build tree, then in the source tree
 	 # (if the path is not absolute).  The absolute path cannot be DOS-style,
-	 # because $ac_f cannot contain ':'.
+	 # because $ac_f cannot contain `:'.
 	 test -f "$ac_f" ||
 	   case $ac_f in
 	   [\\/$]*) false;;
 	   *) test -f "$srcdir/$ac_f" && ac_f="$srcdir/$ac_f";;
 	   esac ||
-	   as_fn_error 1 "cannot find input file: '$ac_f'" "$LINENO" 5;;
+	   as_fn_error 1 "cannot find input file: \`$ac_f'" "$LINENO" 5;;
       esac
       case $ac_f in *\'*) ac_f=`printf "%s\n" "$ac_f" | sed "s/'/'\\\\\\\\''/g"`;; esac
       as_fn_append ac_file_inputs " '$ac_f'"
     done
 
-    # Let's still pretend it is 'configure' which instantiates (i.e., don't
+    # Let's still pretend it is `configure' which instantiates (i.e., don't
     # use $as_me), people would be surprised to read:
     #    /* config.h.  Generated by config.status.  */
     configure_input='Generated from '`
@@ -25356,7 +24219,7 @@
 esac
 _ACEOF
 
-# Neutralize VPATH when '$srcdir' = '.'.
+# Neutralize VPATH when `$srcdir' = `.'.
 # Shell code in configure.ac might set extrasub.
 # FIXME: do we really want to maintain this feature?
 cat >>$CONFIG_STATUS <<_ACEOF || ac_write_fail=1
@@ -25387,9 +24250,9 @@
   { ac_out=`sed -n '/\${datarootdir}/p' "$ac_tmp/out"`; test -n "$ac_out"; } &&
   { ac_out=`sed -n '/^[	 ]*datarootdir[	 ]*:*=/p' \
       "$ac_tmp/out"`; test -z "$ac_out"; } &&
-  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable 'datarootdir'
+  { printf "%s\n" "$as_me:${as_lineno-$LINENO}: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&5
-printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable 'datarootdir'
+printf "%s\n" "$as_me: WARNING: $ac_file contains a reference to the variable \`datarootdir'
 which seems to be undefined.  Please make sure it is defined" >&2;}
 
   rm -f "$ac_tmp/stdin"
@@ -25544,15 +24407,15 @@
    (exit $ac_status); } || am_rc=$?
   done
   if test $am_rc -ne 0; then
-    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in '$ac_pwd':" >&5
-printf "%s\n" "$as_me: error: in '$ac_pwd':" >&2;}
+    { { printf "%s\n" "$as_me:${as_lineno-$LINENO}: error: in \`$ac_pwd':" >&5
+printf "%s\n" "$as_me: error: in \`$ac_pwd':" >&2;}
 as_fn_error $? "Something went wrong bootstrapping makefile fragments
     for automatic dependency tracking.  If GNU make was not used, consider
     re-running the configure script with MAKE=\"gmake\" (or whatever is
     necessary).  You can also try re-running configure with the
     '--disable-dependency-tracking' option to at least be able to build
     the package (albeit without support for automatic dependency tracking).
-See 'config.log' for more details" "$LINENO" 5; }
+See \`config.log' for more details" "$LINENO" 5; }
   fi
   { am_dirpart=; unset am_dirpart;}
   { am_filepart=; unset am_filepart;}
@@ -25581,13 +24444,13 @@
 # Provide generalized library-building support services.
 # Written by Gordon Matzigkeit, 1996
 
-# Copyright (C) 2024 Free Software Foundation, Inc.
+# Copyright (C) 2014 Free Software Foundation, Inc.
 # This is free software; see the source for copying conditions.  There is NO
 # warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 
 # GNU Libtool is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
-# the Free Software Foundation; either version 2 of the License, or
+# the Free Software Foundation; either version 2 of of the License, or
 # (at your option) any later version.
 #
 # As a special exception to the GNU General Public License, if you
@@ -25971,7 +24834,7 @@
 
 # Set to "yes" if using DIR/libNAME\$shared_ext during linking hardcodes
 # DIR into the resulting binary and the resulting library dependency is
-# "absolute",i.e. impossible to change by setting \$shlibpath_var if the
+# "absolute",i.e impossible to change by setting \$shlibpath_var if the
 # library is relocated.
 hardcode_direct_absolute=$hardcode_direct_absolute
 
@@ -26200,7 +25063,7 @@
 
 # Set to "yes" if using DIR/libNAME\$shared_ext during linking hardcodes
 # DIR into the resulting binary and the resulting library dependency is
-# "absolute",i.e. impossible to change by setting \$shlibpath_var if the
+# "absolute",i.e impossible to change by setting \$shlibpath_var if the
 # library is relocated.
 hardcode_direct_absolute=$hardcode_direct_absolute_RC
 
@@ -26335,9 +25198,7 @@
                 #      presentlang can be used as a fallback for messages
                 #      which are not translated in the desiredlang catalog).
                 case "$desiredlang" in
-                  "$presentlang" | "$presentlang"_* | "$presentlang".* | "$presentlang"@*)
-                    useit=yes
-                    ;;
+                  "$presentlang"*) useit=yes;;
                 esac
               done
               if test $useit = yes; then
diff -Nur xz-5.8.1/debug/Makefile.in xz-5.8.1-irix/debug/Makefile.in
--- xz-5.8.1/debug/Makefile.in	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/debug/Makefile.in	2025-04-25 14:59:03.068575372 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -98,16 +96,15 @@
 subdir = debug
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -345,10 +342,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -375,8 +370,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -439,8 +432,13 @@
 $(am__aclocal_m4_deps):
 
 clean-noinstPROGRAMS:
-	$(am__rm_f) $(noinst_PROGRAMS)
-	test -z "$(EXEEXT)" || $(am__rm_f) $(noinst_PROGRAMS:$(EXEEXT)=)
+	@list='$(noinst_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 
 crc32$(EXEEXT): $(crc32_OBJECTS) $(crc32_DEPENDENCIES) $(EXTRA_crc32_DEPENDENCIES) 
 	@rm -f crc32$(EXEEXT)
@@ -491,7 +489,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -634,8 +632,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -646,7 +644,7 @@
 	mostlyclean-am
 
 distclean: distclean-am
-	-rm -f ./$(DEPDIR)/crc32.Po
+		-rm -f ./$(DEPDIR)/crc32.Po
 	-rm -f ./$(DEPDIR)/full_flush.Po
 	-rm -f ./$(DEPDIR)/hex2bin.Po
 	-rm -f ./$(DEPDIR)/known_sizes.Po
@@ -699,7 +697,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f ./$(DEPDIR)/crc32.Po
+		-rm -f ./$(DEPDIR)/crc32.Po
 	-rm -f ./$(DEPDIR)/full_flush.Po
 	-rm -f ./$(DEPDIR)/hex2bin.Po
 	-rm -f ./$(DEPDIR)/known_sizes.Po
@@ -747,10 +745,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/lib/Makefile.am xz-5.8.1-irix/lib/Makefile.am
--- xz-5.8.1/lib/Makefile.am	2025-04-03 11:34:58.000000000 +0000
+++ xz-5.8.1-irix/lib/Makefile.am	2025-04-25 15:05:48.791819867 +0000
@@ -19,7 +19,7 @@
 
 noinst_LIBRARIES = libgnu.a
 
-libgnu_a_SOURCES =
+libgnu_a_SOURCES = snprintf.c
 libgnu_a_DEPENDENCIES = $(LIBOBJS)
 libgnu_a_LIBADD = $(LIBOBJS)
 
@@ -32,7 +32,9 @@
 	getopt-core.h \
 	getopt-ext.h \
 	getopt-pfx-core.h \
-	getopt-pfx-ext.h
+	getopt-pfx-ext.h \
+	snprintf.c \
+	snprintf.h
 
 BUILT_SOURCES = $(GETOPT_H)
 MOSTLYCLEANFILES = getopt.h getopt.h-t
diff -Nur xz-5.8.1/lib/Makefile.in xz-5.8.1-irix/lib/Makefile.in
--- xz-5.8.1/lib/Makefile.in	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/lib/Makefile.in	2025-04-25 15:05:52.632897929 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -93,16 +91,15 @@
 subdir = lib
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -117,14 +114,13 @@
 CONFIG_CLEAN_FILES =
 CONFIG_CLEAN_VPATH_FILES =
 LIBRARIES = $(noinst_LIBRARIES)
-ARFLAGS = cr
+ARFLAGS = cru
 AM_V_AR = $(am__v_AR_@AM_V@)
 am__v_AR_ = $(am__v_AR_@AM_DEFAULT_V@)
 am__v_AR_0 = @echo "  AR      " $@;
 am__v_AR_1 = 
 libgnu_a_AR = $(AR) $(ARFLAGS)
-libgnu_a_RANLIB = $(RANLIB)
-am_libgnu_a_OBJECTS =
+am_libgnu_a_OBJECTS = snprintf.$(OBJEXT)
 libgnu_a_OBJECTS = $(am_libgnu_a_OBJECTS)
 AM_V_P = $(am__v_P_@AM_V@)
 am__v_P_ = $(am__v_P_@AM_DEFAULT_V@)
@@ -141,7 +137,8 @@
 DEFAULT_INCLUDES = -I.@am__isrc@ -I$(top_builddir)
 depcomp = $(SHELL) $(top_srcdir)/build-aux/depcomp
 am__maybe_remake_depfiles = depfiles
-am__depfiles_remade = $(DEPDIR)/getopt.Po $(DEPDIR)/getopt1.Po
+am__depfiles_remade = $(DEPDIR)/getopt.Po $(DEPDIR)/getopt1.Po \
+	./$(DEPDIR)/snprintf.Po
 am__mv = mv -f
 COMPILE = $(CC) $(DEFS) $(DEFAULT_INCLUDES) $(INCLUDES) $(AM_CPPFLAGS) \
 	$(CPPFLAGS) $(AM_CFLAGS) $(CFLAGS)
@@ -173,6 +170,22 @@
     *) (install-info --version) >/dev/null 2>&1;; \
   esac
 am__tagged_files = $(HEADERS) $(SOURCES) $(TAGS_FILES) $(LISP)
+# Read a list of newline-separated strings from the standard input,
+# and print each of them once, without duplicates.  Input order is
+# *not* preserved.
+am__uniquify_input = $(AWK) '\
+  BEGIN { nonempty = 0; } \
+  { items[$$0] = 1; nonempty = 1; } \
+  END { if (nonempty) { for (i in items) print i; }; } \
+'
+# Make sure the list of sources is unique.  This is necessary because,
+# e.g., the same source file might be shared among _SOURCES variables
+# for different programs/libraries.
+am__define_uniq_tagged_files = \
+  list='$(am__tagged_files)'; \
+  unique=`for i in $$list; do \
+    if test -f "$$i"; then echo $$i; else echo $(srcdir)/$$i; fi; \
+  done | $(am__uniquify_input)`
 am__DIST_COMMON = $(srcdir)/Makefile.in \
 	$(top_srcdir)/build-aux/depcomp getopt.c getopt1.c
 DISTFILES = $(DIST_COMMON) $(DIST_SOURCES) $(TEXINFOS) $(EXTRA_DIST)
@@ -286,10 +299,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -316,8 +327,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -337,7 +346,7 @@
 top_srcdir = @top_srcdir@
 xz = @xz@
 noinst_LIBRARIES = libgnu.a
-libgnu_a_SOURCES = 
+libgnu_a_SOURCES = snprintf.c
 libgnu_a_DEPENDENCIES = $(LIBOBJS)
 libgnu_a_LIBADD = $(LIBOBJS)
 EXTRA_DIST = \
@@ -349,7 +358,9 @@
 	getopt-core.h \
 	getopt-ext.h \
 	getopt-pfx-core.h \
-	getopt-pfx-ext.h
+	getopt-pfx-ext.h \
+	snprintf.c \
+	snprintf.h
 
 BUILT_SOURCES = $(GETOPT_H)
 MOSTLYCLEANFILES = getopt.h getopt.h-t
@@ -389,12 +400,12 @@
 $(am__aclocal_m4_deps):
 
 clean-noinstLIBRARIES:
-	-$(am__rm_f) $(noinst_LIBRARIES)
+	-test -z "$(noinst_LIBRARIES)" || rm -f $(noinst_LIBRARIES)
 
 libgnu.a: $(libgnu_a_OBJECTS) $(libgnu_a_DEPENDENCIES) $(EXTRA_libgnu_a_DEPENDENCIES) 
 	$(AM_V_at)-rm -f libgnu.a
 	$(AM_V_AR)$(libgnu_a_AR) libgnu.a $(libgnu_a_OBJECTS) $(libgnu_a_LIBADD)
-	$(AM_V_at)$(libgnu_a_RANLIB) libgnu.a
+	$(AM_V_at)$(RANLIB) libgnu.a
 
 mostlyclean-compile:
 	-rm -f *.$(OBJEXT)
@@ -404,10 +415,11 @@
 
 @AMDEP_TRUE@@am__include@ @am__quote@$(DEPDIR)/getopt.Po@am__quote@ # am--include-marker
 @AMDEP_TRUE@@am__include@ @am__quote@$(DEPDIR)/getopt1.Po@am__quote@ # am--include-marker
+@AMDEP_TRUE@@am__include@ @am__quote@./$(DEPDIR)/snprintf.Po@am__quote@ # am--include-marker
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -437,12 +449,58 @@
 
 clean-libtool:
 	-rm -rf .libs _libs
-tags TAGS:
 
-ctags CTAGS:
+ID: $(am__tagged_files)
+	$(am__define_uniq_tagged_files); mkid -fID $$unique
+tags: tags-am
+TAGS: tags
+
+tags-am: $(TAGS_DEPENDENCIES) $(am__tagged_files)
+	set x; \
+	here=`pwd`; \
+	$(am__define_uniq_tagged_files); \
+	shift; \
+	if test -z "$(ETAGS_ARGS)$$*$$unique"; then :; else \
+	  test -n "$$unique" || unique=$$empty_fix; \
+	  if test $$# -gt 0; then \
+	    $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
+	      "$$@" $$unique; \
+	  else \
+	    $(ETAGS) $(ETAGSFLAGS) $(AM_ETAGSFLAGS) $(ETAGS_ARGS) \
+	      $$unique; \
+	  fi; \
+	fi
+ctags: ctags-am
 
-cscope cscopelist:
+CTAGS: ctags
+ctags-am: $(TAGS_DEPENDENCIES) $(am__tagged_files)
+	$(am__define_uniq_tagged_files); \
+	test -z "$(CTAGS_ARGS)$$unique" \
+	  || $(CTAGS) $(CTAGSFLAGS) $(AM_CTAGSFLAGS) $(CTAGS_ARGS) \
+	     $$unique
+
+GTAGS:
+	here=`$(am__cd) $(top_builddir) && pwd` \
+	  && $(am__cd) $(top_srcdir) \
+	  && gtags -i $(GTAGS_ARGS) "$$here"
+cscopelist: cscopelist-am
+
+cscopelist-am: $(am__tagged_files)
+	list='$(am__tagged_files)'; \
+	case "$(srcdir)" in \
+	  [\\/]* | ?:[\\/]*) sdir="$(srcdir)" ;; \
+	  *) sdir=$(subdir)/$(srcdir) ;; \
+	esac; \
+	for i in $$list; do \
+	  if test -f "$$i"; then \
+	    echo "$(subdir)/$$i"; \
+	  else \
+	    echo "$$sdir/$$i"; \
+	  fi; \
+	done >> $(top_builddir)/cscope.files
 
+distclean-tags:
+	-rm -f TAGS ID GTAGS GRTAGS GSYMS GPATH tags
 distdir: $(BUILT_SOURCES)
 	$(MAKE) $(AM_MAKEFLAGS) distdir-am
 
@@ -503,28 +561,30 @@
 	    "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'" install; \
 	fi
 mostlyclean-generic:
-	-$(am__rm_f) $(MOSTLYCLEANFILES)
+	-test -z "$(MOSTLYCLEANFILES)" || rm -f $(MOSTLYCLEANFILES)
 
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
 	@echo "it deletes files that may require special tools to rebuild."
-	-$(am__rm_f) $(BUILT_SOURCES)
+	-test -z "$(BUILT_SOURCES)" || rm -f $(BUILT_SOURCES)
 clean: clean-am
 
 clean-am: clean-generic clean-libtool clean-noinstLIBRARIES \
 	mostlyclean-am
 
 distclean: distclean-am
-	-rm -f $(DEPDIR)/getopt.Po
+		-rm -f $(DEPDIR)/getopt.Po
 	-rm -f $(DEPDIR)/getopt1.Po
+	-rm -f ./$(DEPDIR)/snprintf.Po
 	-rm -f Makefile
-distclean-am: clean-am distclean-compile distclean-generic
+distclean-am: clean-am distclean-compile distclean-generic \
+	distclean-tags
 
 dvi: dvi-am
 
@@ -567,8 +627,9 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f $(DEPDIR)/getopt.Po
+		-rm -f $(DEPDIR)/getopt.Po
 	-rm -f $(DEPDIR)/getopt1.Po
+	-rm -f ./$(DEPDIR)/snprintf.Po
 	-rm -f Makefile
 maintainer-clean-am: distclean-am maintainer-clean-generic
 
@@ -589,18 +650,19 @@
 
 .MAKE: all check install install-am install-exec install-strip
 
-.PHONY: all all-am am--depfiles check check-am clean clean-generic \
-	clean-libtool clean-noinstLIBRARIES cscopelist-am ctags-am \
-	distclean distclean-compile distclean-generic \
-	distclean-libtool distdir dvi dvi-am html html-am info info-am \
-	install install-am install-data install-data-am install-dvi \
-	install-dvi-am install-exec install-exec-am install-html \
-	install-html-am install-info install-info-am install-man \
-	install-pdf install-pdf-am install-ps install-ps-am \
-	install-strip installcheck installcheck-am installdirs \
-	maintainer-clean maintainer-clean-generic mostlyclean \
-	mostlyclean-compile mostlyclean-generic mostlyclean-libtool \
-	pdf pdf-am ps ps-am tags-am uninstall uninstall-am
+.PHONY: CTAGS GTAGS TAGS all all-am am--depfiles check check-am clean \
+	clean-generic clean-libtool clean-noinstLIBRARIES \
+	cscopelist-am ctags ctags-am distclean distclean-compile \
+	distclean-generic distclean-libtool distclean-tags distdir dvi \
+	dvi-am html html-am info info-am install install-am \
+	install-data install-data-am install-dvi install-dvi-am \
+	install-exec install-exec-am install-html install-html-am \
+	install-info install-info-am install-man install-pdf \
+	install-pdf-am install-ps install-ps-am install-strip \
+	installcheck installcheck-am installdirs maintainer-clean \
+	maintainer-clean-generic mostlyclean mostlyclean-compile \
+	mostlyclean-generic mostlyclean-libtool pdf pdf-am ps ps-am \
+	tags tags-am uninstall uninstall-am
 
 .PRECIOUS: Makefile
 
@@ -614,10 +676,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/lib/snprintf.c xz-5.8.1-irix/lib/snprintf.c
--- xz-5.8.1/lib/snprintf.c	1970-01-01 00:00:00.000000000 +0000
+++ xz-5.8.1-irix/lib/snprintf.c	2025-04-25 15:06:25.581567570 +0000
@@ -0,0 +1,980 @@
+// Copyright (C) 2019 Miroslaw Toton, mirtoto@gmail.com
+
+/**
+ * Unix snprintf() implementation.
+ * @version 2.3
+ *  
+ * This program is free software; you can redistribute it and/or modify
+ * it under the terms of the GNU General Public License as published by
+ * the Free Software Foundation; either version 2 of the License, or
+ * (at your option) any later version.
+ *
+ * This program is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ * GNU General Public License for more details.
+ *
+ * You should have received a copy of the GNU General Public License
+ * along with this program; if not, write to the Free Software
+ * Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139, USA.
+ * 
+ * Revision History:
+ * 
+ * @version 2.3
+ * @author Miroslaw Toton (mirtoto), mirtoto@gmail.com
+ *  - support NULL as output buffer to calculate size of output string
+ *  - fix 0 precision for 0 value integers
+ * 
+ * @version 2.2
+ * @author Miroslaw Toton (mirtoto), mirtoto@gmail.com
+ *  - fix precision for integers
+ *  - remove global buffers and unnecessary copying & lookin through srings
+ *  - cleanup code and add Doxygen style comments
+ * 
+ * @version 2.1
+ * @author Miroslaw Toton (mirtoto), mirtoto@gmail.com
+ *  - fix problem with very big and very low "long long" values
+ *  - change exponent width from 3 to 2
+ *  - fix zero value for floating
+ *  - support for "p" (%p)
+ *
+ * @version 2.0
+ * @author Miroslaw Toton (mirtoto), mirtoto@gmail.com
+ *  - move all defines & macros from header to codefile
+ *  - support for "long long" (%llu, %lld, %llo, %llx)
+ *  - fix for interpreting precision in some situations
+ *  - fix unsigned (%u) for negative input
+ *  - fix h & hh length of input number specifier
+ *  - fix Clang linter warnings
+ *
+ * @version 1.1
+ * @author Alain Magloire, alainm@rcsm.ee.mcgill.ca
+ *  - added changes from Miles Bader
+ *  - corrected a bug with %f
+ *  - added support for %#g
+ *  - added more comments :-)
+ *
+ * @version 1.0
+ * @author Alain Magloire, alainm@rcsm.ee.mcgill.ca
+ *  - supporting must ANSI syntaxic_sugars (see below)
+ *
+ * @version 0.0
+ * @author Alain Magloire, alainm@rcsm.ee.mcgill.ca
+ *  - suppot %s %c %d
+ *
+ * For the floating point format the challenge was finding a way to
+ * manipulate the Real numbers without having to resort to mathematical
+ * function (it would require to link with -lm) and not going down
+ * to the bit pattern (not portable).
+ *
+ * So a number, a real is:
+ *
+ *    real = integral + fraction
+ *
+ *    integral = ... + a(2)*10^2 + a(1)*10^1 + a(0)*10^0
+ *    fraction = b(1)*10^-1 + b(2)*10^-2 + ...
+ *
+ *    where:
+ *      0 <= a(i) => 9
+ *      0 <= b(i) => 9
+ *
+ *   from then it was simple math
+ *
+ * THANKS (for the patches and ideas):
+ *  - Miles Bader
+ *  - Cyrille Rustom
+ *  - Jacek Slabocewiz
+ *  - Mike Parker (mouse)
+ */
+
+#include <ctype.h>
+#include <string.h>
+
+#include "snprintf.h"
+
+#ifdef __clang__
+#pragma clang diagnostic push
+#pragma clang diagnostic ignored "-Wextra-semi-stmt"
+#endif
+
+
+/** 
+ * This struct holds temporary data during processing @p format 
+ * of vsnprintf()/snprintf() functions.
+ */
+struct DATA {
+  size_t counter;             /**< counter of length of string in DATA::ps */
+  size_t ps_size;             /**< size of DATA::ps - 1 */
+  char *ps;                   /**< pointer to output string */
+  const char *pf;             /**< pointer to input format string */
+
+/** Value of DATA::width - undefined width of field. */
+#define WIDTH_UNSET          -1
+
+  int width;                  /**< width of field */
+
+/** Value of DATA::precision - undefined precision of field. */
+#define PRECISION_UNSET      -1
+
+  int precision;
+
+/** Value of DATA::align - undefined align of field. */
+#define ALIGN_UNSET           0
+/** Value of DATA::align - align right of field. */
+#define ALIGN_RIGHT           1
+/** Value of DATA::align - align left of field. */
+#define ALIGN_LEFT            2
+
+  unsigned int align:2;     /**< align of field */
+  unsigned int is_square:1; /**< is field with hash flag? */
+  unsigned int is_space:1;  /**< is field with space flag? */
+  unsigned int is_dot:1;    /**< is field with dot flag? */
+  unsigned int is_star_w:1; /**< is field with width defined? */
+  unsigned int is_star_p:1; /**< is field with precision defined? */
+
+/** Value of DATA::a_long - "int" type of input argument. */
+#define INT_LEN_DEFAULT       0
+/** Value of DATA::a_long - "long" type of input argument. */
+#define INT_LEN_LONG          1
+/** Value of DATA::a_long - "long long" of input type argument. */
+#define INT_LEN_LONG_LONG     2
+/** Value of DATA::a_long - "short" type of input argument. */
+#define INT_LEN_SHORT         3
+/** Value of DATA::a_long - "char" type of input argument. */
+#define INT_LEN_CHAR          4
+
+  unsigned int a_long:3;    /**< type of input */
+
+  unsigned int rfu:6;       /**< RFU */
+
+  char pad;                 /**< padding character */
+
+  char slop[5];             /**< RFU */
+};
+
+/** Round off to the precision. */
+#define ROUND_TO_PRECISION(d, p) \
+  ((d < 0.) ? d - pow_10(-(p)->precision) * 0.5 : d + pow_10(-(p)->precision) * 0.5)
+
+/** Put a @p c character to output buffer if there is enough space. */
+#define PUT_CHAR(c, p)                                  \
+  if ((p)->counter < (p)->ps_size) {                    \
+    if ((p)->ps != NULL) {                              \
+      *(p)->ps++ = (c);                                 \
+    }                                                   \
+    (p)->counter++;                                     \
+  }
+
+/** Put optionally '+' character to to output buffer if there is enough space. */
+#define PUT_PLUS(d, p)                                  \
+  if ((d) > 0 && (p)->align == ALIGN_RIGHT) {           \
+    PUT_CHAR('+', p);                                   \
+  }
+
+/** Put optionally ' ' character to to output buffer if there is enough space. */
+#define PUT_SPACE(d, p)                                 \
+  if ((p)->is_space && (d) > 0) {                       \
+    PUT_CHAR(' ', p);                                   \
+  }
+
+/** Padding right optionally. */
+#define PAD_RIGHT(p)                                    \
+  if ((p)->width > 0 && (p)->align != ALIGN_LEFT) {     \
+    for (; (p)->width > 0; (p)->width--) {              \
+      PUT_CHAR((p)->pad, p);                            \
+    }                                                   \
+  }
+
+/** Padding left optionally. */
+#define PAD_LEFT(p)                                     \
+  if ((p)->width > 0 && (p)->align == ALIGN_LEFT) {     \
+    for (; (p)->width > 0; (p)->width--) {              \
+      PUT_CHAR((p)->pad, p);                            \
+    }                                                   \
+  }
+
+/** Get width and precision arguments if available. */
+#define WIDTH_AND_PRECISION_ARGS(p)                     \
+  if ((p)->is_star_w) {                                 \
+    (p)->width = va_arg(args, int);                     \
+  }                                                     \
+  if ((p)->is_star_p) {                                 \
+    (p)->precision = va_arg(args, int);                 \
+  }
+
+/** Get integer argument of given type and convert it to long long. */
+#define INTEGER_ARG(p, type, ll)                        \
+  WIDTH_AND_PRECISION_ARGS(p);                          \
+  if ((p)->a_long == INT_LEN_LONG_LONG) {               \
+    ll = (long long)va_arg(args, type long long);       \
+  } else if ((p)->a_long == INT_LEN_LONG) {             \
+    ll = (long long)va_arg(args, type long);            \
+  } else {                                              \
+    type int a = va_arg(args, type int);                \
+    if ((p)->a_long == INT_LEN_SHORT) {                 \
+      ll = (type short)a;                               \
+    } else if ((p)->a_long == INT_LEN_CHAR) {           \
+      ll = (type char)a;                                \
+    } else {                                            \
+      ll = a;                                           \
+    }                                                   \
+  }
+
+/** Get double argument. */
+#define DOUBLE_ARG(p, d)                                \
+  WIDTH_AND_PRECISION_ARGS(p);                          \
+  if ((p)->precision == PRECISION_UNSET) {              \
+    (p)->precision = 6;                                 \
+  }                                                     \
+  d = va_arg(args, double);
+
+/**
+ * Convert maximum @p n characters of @p a string to integer.
+ * 
+ * Function stop conversion and return result in any of the following cases:
+ *  - encounter end of string ('\0') character,
+ *  - encounter non digit character,
+ *  - reach @p n characters.
+ * 
+ * @return Integer (as type 'int') representation of @p a.
+ *
+static int antoi(const char *a, size_t n) {
+  size_t i = 0;
+  int res = 0;
+
+  for (; a[i] != '\0' && i < n && isdigit(a[i]); i++) {
+    res = res * 10 + (a[i] - '0');
+  }
+
+  return res;
+}
+ */
+
+/**
+ * Convert @p a string to @p res integer.
+ * 
+ * Function stop conversion and return result in any of the following cases:
+ *  - encounter end of string ('\0') character,
+ *  - encounter non digit character.
+ * 
+ * @param a Not NULL input string.
+ * @param res Not NULL pointer to output integer.
+ * 
+ * @return Number of parsed character form @p a.
+ */
+static int strtoi(const char *a, int *res) {
+  int i = 0;
+
+  *res = 0;
+
+  for (; a[i] != '\0' && isdigit(a[i]); i++) {
+    *res = *res * 10 + (a[i] - '0');
+  }
+
+  return i;
+}
+
+/**
+ * Convert @p number to string representation of given @p base.
+ *
+ * @param number Input number to conversion.
+ * @param is_signed Interpret @p number as 'unsigned' (0) / 'signed' (1).
+ * @param precision Input @p number precision.
+ * @param base Output base (8, 10, 16).
+ * @param output Buffer for output string.
+ * @param output_size Size of @p optput buffer (at least 3 characters).
+ */
+static void inttoa(long long number, int is_signed, int precision, int base,
+    char *output, size_t output_size) {    
+  size_t i = 0, j;
+
+  output_size--; /* for '\0' character */
+
+  if (number != 0) {
+    unsigned long long n;
+
+    if (is_signed && number < 0) {
+      n = (unsigned long long)-number;
+      output_size--; /* for '-' character */
+    } else {
+      n = (unsigned long long)number;
+    }
+
+    while (n != 0 && i < output_size) {
+      int r = (int)(n % (unsigned long long)(base));
+      output[i++] = (char)r + (r < 10 ? '0' : 'a' - 10);
+      n /= (unsigned long long)(base);
+    }
+
+    if (precision > 0) { /* precision defined ? */
+      for (; i < (size_t)precision && i < output_size; i++) {
+        output[i] = '0';
+      }
+    }
+
+    /* put the sign ? */
+    if (is_signed && number < 0) {
+      output[i++] = '-';
+    }
+
+    output[i] = '\0';
+    
+    /* reverse every thing */
+    for (i--, j = 0; j < i; j++, i--) {
+      char tmp = output[i];
+      output[i] = output[j];
+      output[j] = tmp;
+    }
+  } else {
+    precision = precision < 0 ? 1 : precision;
+    for (i = 0; i < (size_t)precision && i < output_size; i++) {
+      output[i] = '0';
+    }
+    output[i] = '\0';
+  }
+}
+
+/** Find the nth power of 10. */
+static double pow_10(int n) {
+  int i = 1;
+  double p = 1., m;
+
+  if (n < 0) {
+    n = -n;
+    m = .1;
+  } else {
+    m = 10.;
+  }
+
+  for (; i <= n; i++) {
+    p *= m;
+  }
+
+  return p;
+}
+
+/**
+ * Function find the integral part of the log in base 10.
+ * 
+ * @note This not a real log10().
+ *    I just need and approximation (integerpart) of x in:
+ *      10^x ~= r
+ *   
+ *    log_10(200) = 2;
+ *    log_10(250) = 2;
+ */
+static int log_10(double r) {
+  int i = 0;
+  double result = 1.;
+
+  if (r == 0.) {
+    return 0;
+  }
+  
+  if (r < 0.) {
+    r = -r;
+  }
+
+  if (r < 1.) {
+    for (; result >= r; i++) {
+      result *= .1;
+    }
+
+    i = -i;
+  } else {
+    for (; result <= r; i++) {
+      result *= 10.;
+    }
+
+    --i;
+  }
+
+  return i;
+}
+
+/**
+ * Function return the fraction part of a @p real and set in @p ip the integral
+ * part. In many ways it resemble the modf() found on most Un*x.
+ */
+static double integral(double real, double *ip) {
+  int log;
+  double real_integral = 0.;
+
+  /* equal to zero ? */
+  if (real == 0.) {
+    *ip = 0.;
+    return 0.;
+  }
+
+  /* negative number ? */
+  if (real < 0.) {
+    real = -real;
+  }
+
+  /* a fraction ? */
+  if (real < 1.) {
+    *ip = 0.;
+    return real;
+  }
+
+  /* the real work :-) */
+  for (log = log_10(real); log >= 0; log--) {
+    double i = 0., p = pow_10(log);
+    double s = (real - real_integral) / p;
+    for (; i + 1. <= s; i++) {}
+    real_integral += i * p;
+  }
+
+  *ip = real_integral;
+  return (real - real_integral);
+}
+
+/** Maximum size of the buffer for the integral part. */
+#define MAX_INTEGRAL_SIZE (99 + 1)
+/** Maximum size of the buffer for the fraction part. */
+#define MAX_FRACTION_SIZE (29 + 1)
+/** Precision. */
+#define PRECISION (1.e-6)
+
+/**
+ * Return an ASCII representation of the integral and fraction
+ * part of the @p number.
+ */
+static void floattoa(double number, int precision,
+    char *output_integral, size_t output_integral_size,
+    char *output_fraction, size_t output_fraction_size) {
+
+  size_t i, j;
+  int is_negative = 0;
+  double ip, fp; /* integer and fraction part */
+  double fraction;
+
+  /* taking care of the obvious case: 0.0 */
+  if (number == 0.) {
+    output_integral[0] = output_fraction[0] = '0';
+    output_integral[1] = output_fraction[1] = '\0';
+
+    return;
+  }
+
+  /* for negative numbers */
+  if (number < 0.) {
+    number = -number;
+    is_negative = 1;
+    output_integral_size--; /* sign consume one digit */
+  }
+
+  fraction = integral(number, &ip);
+  number = ip;
+  /* do the integral part */
+  if (ip == 0.) {
+    output_integral[0] = '0';
+    i = 1;
+  } else {
+    for (i = 0; i < output_integral_size - 1 && number != 0.; ++i) {
+      number /= 10;
+      /* force to round */
+      output_integral[i] = (char)((integral(number, &ip) + PRECISION) * 10) + '0';
+      if (!isdigit(output_integral[i])) { /* bail out overflow !! */
+        break;
+      }
+      number = ip;
+    }
+  }
+
+  /* Oh No !! out of bound, ho well fill it up ! */
+  if (number != 0.) {
+    for (i = 0; i < output_integral_size - 1; ++i) {
+      output_integral[i] = '9';
+    }
+  }
+
+  /* put the sign ? */
+  if (is_negative) {
+    output_integral[i++] = '-';
+  }
+
+  output_integral[i] = '\0';
+
+  /* reverse every thing */
+  for (i--, j = 0; j < i; j++, i--) {
+    char tmp = output_integral[i];
+    output_integral[i] = output_integral[j];
+    output_integral[j] = tmp;
+  }
+
+  /* the fractional part */
+  for (i = 0, fp = fraction; precision > 0 && i < output_fraction_size - 1; i++, precision--) {
+    output_fraction[i] = (char)(int)((fp + PRECISION) * 10. + '0');
+    if (!isdigit(output_fraction[i])) { /* underflow ? */
+      break;
+    }
+
+    fp = (fp * 10.0) - (double)(long)((fp + PRECISION) * 10.);
+  }
+  output_fraction[i] = '\0';
+}
+
+/** Format @p ll number as ASCII decimal string according to @p p flags. */
+static void decimal(struct DATA *p, long long ll) {
+  char number[MAX_INTEGRAL_SIZE], *pnumber = number;
+  inttoa(ll, *p->pf == 'i' || *p->pf == 'd', p->precision, 10,
+    number, sizeof(number));
+
+  p->width -= strlen(number);
+  PAD_RIGHT(p);
+
+  PUT_PLUS(ll, p);
+  PUT_SPACE(ll, p);
+
+  for (; *pnumber != '\0'; pnumber++) {
+    PUT_CHAR(*pnumber, p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** Format @p ll number as ASCII octal string according to @p p flags. */
+static void octal(struct DATA *p, long long ll) {
+  char number[MAX_INTEGRAL_SIZE], *pnumber = number;
+  inttoa(ll, 0, p->precision, 8, number, sizeof(number));
+
+  p->width -= strlen(number);
+  PAD_RIGHT(p);
+
+  if (p->is_square && *number != '\0') { /* prefix '0' for octal */
+    PUT_CHAR('0', p);
+  }
+
+  for (; *pnumber != '\0'; pnumber++) {
+    PUT_CHAR(*pnumber, p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** Format @p ll number as ASCII hexadecimal string according to @p p flags. */
+static void hex(struct DATA *p, long long ll) {
+  char number[MAX_INTEGRAL_SIZE], *pnumber = number;
+  inttoa(ll, 0, p->precision, 16, number, sizeof(number));
+
+  p->width -= strlen(number);
+  PAD_RIGHT(p);
+
+  if (p->is_square && *number != '\0') { /* prefix '0x' for hex */
+    PUT_CHAR('0', p);
+    PUT_CHAR(*p->pf == 'p' ? 'x' : *p->pf, p);
+  }
+
+  for (; *pnumber != '\0'; pnumber++) {
+    PUT_CHAR((*p->pf == 'X' ? (char)toupper(*pnumber) : *pnumber), p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** Format @p str string according to @p p flags. */
+static void strings(struct DATA *p, char *s) {
+  int len = (int)strlen(s);
+  if (p->precision != PRECISION_UNSET && len > p->precision) { /* the smallest number */
+    len = p->precision;
+  }
+
+  p->width -= len;
+
+  PAD_RIGHT(p);
+
+  for (; len-- > 0; s++) {
+    PUT_CHAR(*s, p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** 
+ * Format @p d floating point number as ASCII decimal floating point 
+ * according to @p p flags.
+ */
+static void floating(struct DATA *p, double d) {
+  char integral[MAX_INTEGRAL_SIZE], *pintegral = integral;
+  char fraction[MAX_FRACTION_SIZE], *pfraction = fraction;
+
+  d = ROUND_TO_PRECISION(d, p);
+  floattoa(d, p->precision,
+    integral, sizeof(integral), fraction, sizeof(fraction));
+    
+  /* calculate the padding. 1 for the dot */
+  if (d > 0. && p->align == ALIGN_RIGHT) {
+    p->width -= 1;  
+  }
+  p->width -= p->is_space + (int)strlen(integral) + p->precision + 1;
+  if (p->precision == 0) {
+    p->width += 1;
+  }
+  
+  PAD_RIGHT(p);
+  PUT_PLUS(d, p);
+  PUT_SPACE(d, p);
+
+  for (; *pintegral != '\0'; pintegral++) {
+    PUT_CHAR(*pintegral, p);
+  }
+
+  if (p->precision != 0 || p->is_square) { /* put the '.' */
+    PUT_CHAR('.', p);
+  }
+
+  if (*p->pf == 'g' || *p->pf == 'G') { /* smash the trailing zeros */
+    size_t i;
+    for (i = strlen(fraction); i > 0 && fraction[i - 1] == '0'; i--) {
+      fraction[i - 1] = '\0';
+    }
+  }
+
+  for (; *pfraction != '\0'; pfraction++) {
+    PUT_CHAR(*pfraction, p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** 
+ * Format @p d floating point number as ASCII scientific (exponential)
+ * floating point according to @p p flags.
+ */
+static void exponent(struct DATA *p, double d) {
+  char integral[MAX_INTEGRAL_SIZE], *pintegral = integral;
+  char fraction[MAX_FRACTION_SIZE], *pfraction = fraction;
+  int log = log_10(d);
+  d /= pow_10(log); /* get the Mantissa */
+  d = ROUND_TO_PRECISION(d, p);
+
+  floattoa(d, p->precision,
+    integral, sizeof(integral), fraction, sizeof(fraction));
+  /* 1 for unit, 1 for the '.', 1 for 'e|E',
+   * 1 for '+|-', 2 for 'exp' */
+  /* calculate how much padding need */
+  if (d > 0. && p->align == ALIGN_RIGHT) {
+    p->width -= 1;  
+  }
+  p->width -= p->is_space + p->precision + 7;
+  
+  PAD_RIGHT(p);
+  PUT_PLUS(d, p);
+  PUT_SPACE(d, p);
+
+  for (; *pintegral != '\0'; pintegral++) {
+    PUT_CHAR(*pintegral, p);
+  }
+
+  if (p->precision != 0 || p->is_square) { /* the '.' */
+    PUT_CHAR('.', p);
+  }
+
+  if (*p->pf == 'g' || *p->pf == 'G') { /* smash the trailing zeros */
+    size_t i;
+    for (i = strlen(fraction); i > 0 && fraction[i - 1] == '0'; i--) {
+      fraction[i - 1] = '\0';
+    }
+  }
+  for (; *pfraction != '\0'; pfraction++) {
+    PUT_CHAR(*pfraction, p);
+  }
+
+  if (*p->pf == 'g' || *p->pf == 'e') { /* the exponent put the 'e|E' */
+    PUT_CHAR('e', p);
+  } else {
+    PUT_CHAR('E', p);
+  }
+
+  if (log >= 0) { /* the sign of the exp */
+    PUT_CHAR('+', p);
+  }
+
+  inttoa(log, 1, 2, 10, integral, sizeof(integral));
+  for (pintegral = integral; *pintegral != '\0'; pintegral++) { /* exponent */
+    PUT_CHAR(*pintegral, p);
+  }
+
+  PAD_LEFT(p);
+}
+
+/** Initialize and parse the conversion specifiers. */
+static void conv_flags(struct DATA *p) {
+  p->width = WIDTH_UNSET;
+  p->precision = PRECISION_UNSET;
+  p->is_star_w = p->is_star_p = 0;
+  p->is_square = p->is_space = 0;
+  p->a_long = INT_LEN_DEFAULT;
+  p->align = ALIGN_UNSET;
+  p->pad = ' ';
+  p->is_dot = 0;
+
+  for (; p != NULL && p->pf != NULL; p->pf++) {
+    switch (*p->pf) {
+      case ' ':
+        p->is_space = 1;
+        break;
+
+      case '#':
+        p->is_square = 1;
+        break;
+
+      case '*':
+        if (p->width == WIDTH_UNSET) {
+          p->width = 1;
+          p->is_star_w = 1;
+        } else {
+          p->precision = 1;
+          p->is_star_p = 1;
+        }
+        break;
+
+      case '+':
+        p->align = ALIGN_RIGHT;
+        break;
+
+      case '-':
+        p->align = ALIGN_LEFT;
+        break;
+
+      case '.':
+        if (p->width == WIDTH_UNSET) {
+          p->width = 0;
+        }
+        p->is_dot = 1;
+        break;
+
+      case '0':
+        p->pad = '0';
+        if (p->is_dot) {
+          p->precision = 0;
+        }
+        break;
+
+      case '1':
+      case '2':
+      case '3':
+      case '4':
+      case '5':
+      case '6':
+      case '7':
+      case '8':
+      case '9': /* get all the digits */
+        p->pf += strtoi(p->pf,
+          p->width == WIDTH_UNSET ? &p->width : &p->precision) - 1;
+        break;
+
+      case '%':
+        return;
+
+      default:
+        p->pf--; /* went to far go back */
+        return;
+    }
+  }
+}
+
+int vsnprintf(char *string, size_t length, const char *format, va_list args) {
+  struct DATA data;
+
+  /* calculate only size of output string */
+  if (string == NULL) {
+    length = __SIZE_MAX__;
+  /* sanity check, the string must be > 1 */
+  } else if (length < 1) {
+    return -1;
+  }
+
+  data.ps_size = length - 1; /* leave room for '\0' */
+  data.ps = string;
+  data.pf = format;
+  data.counter = 0;
+
+  for (; *data.pf != '\0' && (data.counter < data.ps_size); data.pf++) {
+    if (*data.pf == '%') { /* we got a magic % cookie */
+      int is_continue = 1;
+      conv_flags(&data); /* initialise format flags */
+      while (*data.pf != '\0' && is_continue) {
+        switch (*(++data.pf)) {
+          case '\0': /* a NULL here ? ? bail out */
+            PUT_CHAR('%', &data);
+            if (data.ps != NULL) {
+              *data.ps = '\0';
+            }
+            return (int)data.counter;
+
+          case 'f':
+          case 'F': { /* decimal floating point */
+            double d;
+            DOUBLE_ARG(&data, d);
+            floating(&data, d);
+            is_continue = 0;
+            break;
+          }
+
+          case 'e':
+          case 'E': { /* scientific (exponential) floating point */
+            double d;
+            DOUBLE_ARG(&data, d);
+            exponent(&data, d);
+            is_continue = 0;
+            break;
+          }
+
+          case 'g':
+          case 'G': { /* scientific or decimal floating point */
+            int log;
+            double d;
+            DOUBLE_ARG(&data, d);
+            log = log_10(d);
+            /* use decimal floating point (%f / %F) if exponent is in the range
+               [-4,precision] exclusively else use scientific floating
+               point (%e / %E) */
+            if (-4 < log && log < data.precision) {
+              floating(&data, d);
+            } else {
+              exponent(&data, d);
+            }
+            is_continue = 0;
+            break;
+          }
+
+          case 'u': { /* unsigned decimal integer */
+            long long ll;
+            INTEGER_ARG(&data, unsigned, ll);
+            decimal(&data, ll);
+            is_continue = 0;
+            break;
+          }
+
+          case 'i':
+          case 'd': { /* signed decimal integer */
+            long long ll;
+            INTEGER_ARG(&data, signed, ll);
+            decimal(&data, ll);
+            is_continue = 0;
+            break;
+          }
+
+          case 'o': { /* octal (always unsigned) */
+            long long ll;
+            INTEGER_ARG(&data, unsigned, ll);
+            octal(&data, ll);
+            is_continue = 0;
+            break;
+          }
+
+          case 'x':
+          case 'X': { /* hexadecimal (always unsigned) */
+            long long ll;
+            INTEGER_ARG(&data, unsigned, ll);
+            hex(&data, ll);
+            is_continue = 0;
+            break;
+          }
+
+          case 'c': { /* single character */
+            int i = va_arg(args, int);
+            PUT_CHAR((char)i, &data);
+            is_continue = 0;
+            break;
+          }
+
+          case 's': /* string of characters */
+            WIDTH_AND_PRECISION_ARGS(&data);
+            strings(&data, va_arg(args, char *));
+            is_continue = 0;
+            break;
+
+          case 'p': { /* pointer */
+            void *v = va_arg(args, void *);
+            data.is_square = 1;
+            if (v == NULL) {
+              strings(&data, "(nil)");
+            } else {
+              hex(&data, (long long)v);
+            }
+            is_continue = 0;
+            break;
+          }
+
+          case 'n': /* what's the count ? */
+            *(va_arg(args, int *)) = (int)data.counter;
+            is_continue = 0;
+            break;
+
+          case 'l': /* long or long long */
+            if (data.a_long == INT_LEN_LONG) {
+              data.a_long = INT_LEN_LONG_LONG;
+            } else {
+              data.a_long = INT_LEN_LONG;
+            }
+            break;
+
+          case 'h': /* short or char */
+            if (data.a_long == INT_LEN_SHORT) {
+              data.a_long = INT_LEN_CHAR;
+            } else {
+              data.a_long = INT_LEN_SHORT;
+            }
+            break;
+
+          case '%': /* nothing just % */
+            PUT_CHAR('%', &data);
+            is_continue = 0;
+            break;
+
+          case '#':
+          case ' ':
+          case '+':
+          case '*':
+          case '-':
+          case '.':
+          case '0':
+          case '1':
+          case '2':
+          case '3':
+          case '4':
+          case '5':
+          case '6':
+          case '7':
+          case '8':
+          case '9':
+            conv_flags(&data);
+            break;
+
+          default:
+            /* is this an error ? maybe bail out */
+            PUT_CHAR('%', &data);
+            is_continue = 0;
+            break;
+        } /* end switch */
+      } /* end of while */
+    } else { /* not % */
+      PUT_CHAR(*data.pf, &data); /* add the char the string */
+    }
+  }
+
+  if (data.ps != NULL) {
+    *data.ps = '\0'; /* the end ye ! */
+  }
+
+  return (int)data.counter;
+}
+
+int snprintf(char *string, size_t length, const char *format, ...) {
+  int rval;
+  va_list args;
+
+  va_start(args, format);
+  rval = vsnprintf(string, length, format, args);
+  va_end(args);
+
+  return rval;
+}
+
+
+#ifdef __clang__
+#pragma clang diagnostic pop
+#endif
diff -Nur xz-5.8.1/lib/snprintf.h xz-5.8.1-irix/lib/snprintf.h
--- xz-5.8.1/lib/snprintf.h	1970-01-01 00:00:00.000000000 +0000
+++ xz-5.8.1-irix/lib/snprintf.h	2025-04-25 10:51:51.644576707 +0000
@@ -0,0 +1,74 @@
+// Copyright (C) 2019 Miroslaw Toton, mirtoto@gmail.com
+#ifndef SNPRINTF_H_
+#define SNPRINTF_H_
+
+
+#include <stdarg.h>
+#include <stddef.h>
+
+
+#ifdef __cplusplus
+extern "C" {
+#endif
+
+
+/** @see snprintf() */
+int vsnprintf(char *string, size_t length, const char *format, va_list args) __attribute__((format(printf, 3, 0)));
+
+/**
+ * Implementation of snprintf() function which create @p string of maximum
+ * @p length - 1 according of instruction provided by @p format. 
+ * 
+ * # Supportted types
+ * 
+ *  Type    | Description
+ * -------- | ----------------------------------------
+ *  d / i   | signed decimal integer
+ *  u       | unsigned decimal integer
+ *  o       | unsigned octal integer
+ *  x       | unsigned hexadecimal integer
+ *  f / F   | decimal floating point
+ *  e / E   | scientific (exponential) floating point
+ *  g / G   | scientific or decimal floating point
+ *  c       | character
+ *  s       | string
+ *  p       | pointer
+ *  %       | percent character
+ * 
+ * # Supported lengths
+ * 
+ *  Length  | Description
+ * -------- | ----------------------------------------
+ *  hh      | signed / unsigned char
+ *  h       | signed / unsigned short
+ *  l       | signed / unsigned long
+ *  ll      | signed / unsigned long long
+ * 
+ * # Supported flags
+ * 
+ *   Flag   | Description
+ * -------- | ----------------------------------------
+ *  -       | justify left
+ *  +       | justify right or put a plus if number
+ *  #       | prefix 0x, 0X for hex and 0 for octal
+ *  *       | width and/or precision is specified as an int argument
+ *  0       | for number padding with zeros instead of spaces
+ *  (space) | leave a blank for number with no sign
+ * 
+ * @param string Output buffer.
+ * @param length Size of output buffer @p string.
+ * @param format Format of input parameters.
+ * @param ... Input parameters according of @p format.
+ * 
+ * @retval >=0 Amount of characters put in @p string.
+ * @retval  -1 Output buffer size is too small.
+ */
+int snprintf(char *string, size_t length, const char *format, ...) __attribute__((format(printf, 3, 4)));
+
+
+#ifdef __cplusplus
+}
+#endif
+
+
+#endif  // SNPRINTF_H_
diff -Nur xz-5.8.1/m4/gettext.m4 xz-5.8.1-irix/m4/gettext.m4
--- xz-5.8.1/m4/gettext.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/gettext.m4	2025-04-25 14:59:00.453522241 +0000
@@ -1,6 +1,5 @@
-# gettext.m4
-# serial 81 (gettext-0.23)
-dnl Copyright (C) 1995-2014, 2016, 2018-2024 Free Software Foundation, Inc.
+# gettext.m4 serial 71 (gettext-0.20.2)
+dnl Copyright (C) 1995-2014, 2016, 2018-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
@@ -16,18 +15,16 @@
 
 dnl Authors:
 dnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.
-dnl   Bruno Haible <bruno@clisp.org>, 2000-2024.
+dnl   Bruno Haible <haible@clisp.cons.org>, 2000-2006, 2008-2010.
 
 dnl Macro to add for using GNU gettext.
 
 dnl Usage: AM_GNU_GETTEXT([INTLSYMBOL], [NEEDSYMBOL], [INTLDIR]).
-dnl INTLSYMBOL must be one of 'external', 'use-libtool', 'here'.
-dnl    INTLSYMBOL should be 'external' for packages other than GNU gettext.
-dnl    It should be 'use-libtool' for the packages 'gettext-runtime' and
-dnl    'gettext-tools'.
-dnl    It should be 'here' for the package 'gettext-runtime/intl'.
-dnl    If INTLSYMBOL is 'here', then a libtool library
-dnl    $(top_builddir)/libintl.la will be created (shared and/or static,
+dnl INTLSYMBOL must be one of 'external', 'use-libtool'.
+dnl    INTLSYMBOL should be 'external' for packages other than GNU gettext, and
+dnl    'use-libtool' for the packages 'gettext-runtime' and 'gettext-tools'.
+dnl    If INTLSYMBOL is 'use-libtool', then a libtool library
+dnl    $(top_builddir)/intl/libintl.la will be created (shared and/or static,
 dnl    depending on --{enable,disable}-{shared,static} and on the presence of
 dnl    AM-DISABLE-SHARED).
 dnl If NEEDSYMBOL is specified and is 'need-ngettext', then GNU gettext
@@ -58,21 +55,24 @@
 AC_DEFUN([AM_GNU_GETTEXT],
 [
   dnl Argument checking.
-  m4_if([$1], [], , [m4_if([$1], [external], , [m4_if([$1], [use-libtool], , [m4_if([$1], [here], ,
+  ifelse([$1], [], , [ifelse([$1], [external], , [ifelse([$1], [use-libtool], ,
     [errprint([ERROR: invalid first argument to AM_GNU_GETTEXT
-])])])])])
-  m4_if(m4_if([$1], [], [old])[]m4_if([$1], [no-libtool], [old]), [old],
+])])])])
+  ifelse(ifelse([$1], [], [old])[]ifelse([$1], [no-libtool], [old]), [old],
     [errprint([ERROR: Use of AM_GNU_GETTEXT without [external] argument is no longer supported.
 ])])
-  m4_if([$2], [], , [m4_if([$2], [need-ngettext], , [m4_if([$2], [need-formatstring-macros], ,
+  ifelse([$2], [], , [ifelse([$2], [need-ngettext], , [ifelse([$2], [need-formatstring-macros], ,
     [errprint([ERROR: invalid second argument to AM_GNU_GETTEXT
 ])])])])
-  define([gt_building_libintl_in_same_build_tree],
-    m4_if([$1], [use-libtool], [yes], [m4_if([$1], [here], [yes], [no])]))
+  define([gt_included_intl],
+    ifelse([$1], [external], [no], [yes]))
   gt_NEEDS_INIT
   AM_GNU_GETTEXT_NEED([$2])
 
   AC_REQUIRE([AM_PO_SUBDIRS])dnl
+  ifelse(gt_included_intl, yes, [
+    AC_REQUIRE([AM_INTL_SUBDIR])dnl
+  ])
 
   dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.
   AC_REQUIRE([AC_LIB_PREPARE_PREFIX])
@@ -82,13 +82,13 @@
   dnl Ideally we would do this search only after the
   dnl      if test "$USE_NLS" = "yes"; then
   dnl        if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" != "yes"; }; then
-  dnl tests. But if configure.ac invokes AM_ICONV after AM_GNU_GETTEXT
+  dnl tests. But if configure.in invokes AM_ICONV after AM_GNU_GETTEXT
   dnl the configure script would need to contain the same shell code
   dnl again, outside any 'if'. There are two solutions:
   dnl - Invoke AM_ICONV_LINKFLAGS_BODY here, outside any 'if'.
   dnl - Control the expansions in more detail using AC_PROVIDE_IFELSE.
   dnl Since AC_PROVIDE_IFELSE is not documented, we avoid it.
-  m4_if(gt_building_libintl_in_same_build_tree, yes, , [
+  ifelse(gt_included_intl, yes, , [
     AC_REQUIRE([AM_ICONV_LINKFLAGS_BODY])
   ])
 
@@ -98,7 +98,8 @@
   dnl Set USE_NLS.
   AC_REQUIRE([AM_NLS])
 
-  m4_if(gt_building_libintl_in_same_build_tree, yes, [
+  ifelse(gt_included_intl, yes, [
+    BUILD_INCLUDED_LIBINTL=no
     USE_INCLUDED_LIBINTL=no
   ])
   LIBINTL=
@@ -117,7 +118,7 @@
   dnl If we use NLS figure out what method
   if test "$USE_NLS" = "yes"; then
     gt_use_preinstalled_gnugettext=no
-    m4_if(gt_building_libintl_in_same_build_tree, yes, [
+    ifelse(gt_included_intl, yes, [
       AC_MSG_CHECKING([whether included gettext is requested])
       AC_ARG_WITH([included-gettext],
         [  --with-included-gettext use the GNU gettext library included here],
@@ -173,7 +174,7 @@
 
         if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" != "yes"; }; then
           dnl Sometimes libintl requires libiconv, so first search for libiconv.
-          m4_if(gt_building_libintl_in_same_build_tree, yes, , [
+          ifelse(gt_included_intl, yes, , [
             AM_ICONV_LINK
           ])
           dnl Search for libintl and define LIBINTL, LTLIBINTL and INCINTL
@@ -183,9 +184,9 @@
           AC_LIB_LINKFLAGS_BODY([intl])
           AC_CACHE_CHECK([for GNU gettext in libintl],
             [$gt_func_gnugettext_libintl],
-           [gt_saved_CPPFLAGS="$CPPFLAGS"
+           [gt_save_CPPFLAGS="$CPPFLAGS"
             CPPFLAGS="$CPPFLAGS $INCINTL"
-            gt_saved_LIBS="$LIBS"
+            gt_save_LIBS="$LIBS"
             LIBS="$LIBS $LIBINTL"
             dnl Now see whether libintl exists and does not depend on libiconv.
             AC_LINK_IFELSE(
@@ -211,16 +212,9 @@
                  ]])],
               [eval "$gt_func_gnugettext_libintl=yes"],
               [eval "$gt_func_gnugettext_libintl=no"])
-            dnl Now see whether libintl exists and depends on libiconv or other
-            dnl OS dependent libraries, specifically on macOS and AIX.
-            gt_LIBINTL_EXTRA="$INTL_MACOSX_LIBS"
-            AC_REQUIRE([AC_CANONICAL_HOST])
-            case "$host_os" in
-              aix*) gt_LIBINTL_EXTRA="-lpthread" ;;
-            esac
-            if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" != yes; } \
-               && { test -n "$LIBICONV" || test -n "$gt_LIBINTL_EXTRA"; }; then
-              LIBS="$LIBS $LIBICONV $gt_LIBINTL_EXTRA"
+            dnl Now see whether libintl exists and depends on libiconv.
+            if { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" != yes; } && test -n "$LIBICONV"; then
+              LIBS="$LIBS $LIBICONV"
               AC_LINK_IFELSE(
                 [AC_LANG_PROGRAM(
                    [[
@@ -242,13 +236,13 @@
 bindtextdomain ("", "");
 return * gettext ("")$gt_expression_test_code + __GNU_GETTEXT_SYMBOL_EXPRESSION
                    ]])],
-                [LIBINTL="$LIBINTL $LIBICONV $gt_LIBINTL_EXTRA"
-                 LTLIBINTL="$LTLIBINTL $LTLIBICONV $gt_LIBINTL_EXTRA"
+                [LIBINTL="$LIBINTL $LIBICONV"
+                 LTLIBINTL="$LTLIBINTL $LTLIBICONV"
                  eval "$gt_func_gnugettext_libintl=yes"
                 ])
             fi
-            CPPFLAGS="$gt_saved_CPPFLAGS"
-            LIBS="$gt_saved_LIBS"])
+            CPPFLAGS="$gt_save_CPPFLAGS"
+            LIBS="$gt_save_LIBS"])
         fi
 
         dnl If an already present or preinstalled GNU gettext() is found,
@@ -258,8 +252,7 @@
         if { eval "gt_val=\$$gt_func_gnugettext_libc"; test "$gt_val" = "yes"; } \
            || { { eval "gt_val=\$$gt_func_gnugettext_libintl"; test "$gt_val" = "yes"; } \
                 && test "$PACKAGE" != gettext-runtime \
-                && test "$PACKAGE" != gettext-tools \
-                && test "$PACKAGE" != libintl; }; then
+                && test "$PACKAGE" != gettext-tools; }; then
           gt_use_preinstalled_gnugettext=yes
         else
           dnl Reset the values set by searching for libintl.
@@ -268,7 +261,7 @@
           INCINTL=
         fi
 
-    m4_if(gt_building_libintl_in_same_build_tree, yes, [
+    ifelse(gt_included_intl, yes, [
         if test "$gt_use_preinstalled_gnugettext" != "yes"; then
           dnl GNU gettext is not found in the C library.
           dnl Fall back on included GNU gettext library.
@@ -278,9 +271,10 @@
 
       if test "$nls_cv_use_gnu_gettext" = "yes"; then
         dnl Mark actions used to generate GNU NLS library.
+        BUILD_INCLUDED_LIBINTL=yes
         USE_INCLUDED_LIBINTL=yes
-        LIBINTL="m4_if([$3],[],\${top_builddir}/intl,[$3])/libintl.la $LIBICONV $LIBTHREAD"
-        LTLIBINTL="m4_if([$3],[],\${top_builddir}/intl,[$3])/libintl.la $LTLIBICONV $LTLIBTHREAD"
+        LIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.la $LIBICONV $LIBTHREAD"
+        LTLIBINTL="ifelse([$3],[],\${top_builddir}/intl,[$3])/libintl.la $LTLIBICONV $LTLIBTHREAD"
         LIBS=`echo " $LIBS " | sed -e 's/ -lintl / /' -e 's/^ //' -e 's/ $//'`
       fi
 
@@ -347,25 +341,25 @@
     POSUB=po
   fi
 
-  m4_if(gt_building_libintl_in_same_build_tree, yes, [
+  ifelse(gt_included_intl, yes, [
+    dnl In GNU gettext we have to set BUILD_INCLUDED_LIBINTL to 'yes'
+    dnl because some of the testsuite requires it.
+    BUILD_INCLUDED_LIBINTL=yes
+
     dnl Make all variables we use known to autoconf.
+    AC_SUBST([BUILD_INCLUDED_LIBINTL])
     AC_SUBST([USE_INCLUDED_LIBINTL])
     AC_SUBST([CATOBJEXT])
   ])
 
-  m4_if(gt_building_libintl_in_same_build_tree, yes, [], [
-    dnl For backward compatibility. Some Makefiles may be using this.
-    INTLLIBS="$LIBINTL"
-    AC_SUBST([INTLLIBS])
-  ])
+  dnl For backward compatibility. Some Makefiles may be using this.
+  INTLLIBS="$LIBINTL"
+  AC_SUBST([INTLLIBS])
 
   dnl Make all documented variables known to autoconf.
   AC_SUBST([LIBINTL])
   AC_SUBST([LTLIBINTL])
   AC_SUBST([POSUB])
-
-  dnl Define localedir_c and localedir_c_make.
-  gl_BUILD_TO_HOST_LOCALEDIR
 ])
 
 
diff -Nur xz-5.8.1/m4/host-cpu-c-abi.m4 xz-5.8.1-irix/m4/host-cpu-c-abi.m4
--- xz-5.8.1/m4/host-cpu-c-abi.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/host-cpu-c-abi.m4	2025-04-25 14:59:00.479522769 +0000
@@ -1,10 +1,8 @@
-# host-cpu-c-abi.m4
-# serial 18
-dnl Copyright (C) 2002-2024 Free Software Foundation, Inc.
+# host-cpu-c-abi.m4 serial 13
+dnl Copyright (C) 2002-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 
 dnl From Bruno Haible and Sam Steingold.
 
@@ -37,7 +35,7 @@
 dnl   determine the endianness through preprocessor symbols:
 dnl   - 'arm': test __ARMEL__.
 dnl   - 'mips', 'mipsn32', 'mips64': test _MIPSEB vs. _MIPSEL.
-dnl   - 'powerpc64': test __BIG_ENDIAN__ vs. __LITTLE_ENDIAN__.
+dnl   - 'powerpc64': test _BIG_ENDIAN vs. _LITTLE_ENDIAN.
 dnl * The same name 'i386' is used for CPUs of type i386, i486, i586
 dnl   (Pentium), AMD K7, Pentium II, Pentium IV, etc., because
 dnl   - Instructions that do not exist on all of these CPUs (cmpxchg,
@@ -213,7 +211,7 @@
          # be generating 64-bit code.
          AC_COMPILE_IFELSE(
            [AC_LANG_SOURCE(
-              [[#if defined __powerpc64__ || defined __LP64__
+              [[#if defined __powerpc64__ || defined _ARCH_PPC64
                  int ok;
                 #else
                  error fail
@@ -384,9 +382,6 @@
 #ifndef __ia64__
 #undef __ia64__
 #endif
-#ifndef __loongarch64__
-#undef __loongarch64__
-#endif
 #ifndef __m68k__
 #undef __m68k__
 #endif
@@ -463,66 +458,217 @@
 
 dnl Sets the HOST_CPU_C_ABI_32BIT variable to 'yes' if the C language ABI
 dnl (application binary interface) is a 32-bit one, to 'no' if it is a 64-bit
-dnl one.
+dnl one, or to 'unknown' if unknown.
 dnl This is a simplified variant of gl_HOST_CPU_C_ABI.
 AC_DEFUN([gl_HOST_CPU_C_ABI_32BIT],
 [
   AC_REQUIRE([AC_CANONICAL_HOST])
   AC_CACHE_CHECK([32-bit host C ABI], [gl_cv_host_cpu_c_abi_32bit],
-    [case "$host_cpu" in
+    [if test -n "$gl_cv_host_cpu_c_abi"; then
+       case "$gl_cv_host_cpu_c_abi" in
+         i386 | x86_64-x32 | arm | armhf | arm64-ilp32 | hppa | ia64-ilp32 | mips | mipsn32 | powerpc | riscv*-ilp32* | s390 | sparc)
+           gl_cv_host_cpu_c_abi_32bit=yes ;;
+         x86_64 | alpha | arm64 | hppa64 | ia64 | mips64 | powerpc64 | powerpc64-elfv2 | riscv*-lp64* | s390x | sparc64 )
+           gl_cv_host_cpu_c_abi_32bit=no ;;
+         *)
+           gl_cv_host_cpu_c_abi_32bit=unknown ;;
+       esac
+     else
+       case "$host_cpu" in
+
+         # CPUs that only support a 32-bit ABI.
+         arc \
+         | bfin \
+         | cris* \
+         | csky \
+         | epiphany \
+         | ft32 \
+         | h8300 \
+         | m68k \
+         | microblaze | microblazeel \
+         | nds32 | nds32le | nds32be \
+         | nios2 | nios2eb | nios2el \
+         | or1k* \
+         | or32 \
+         | sh | sh[1234] | sh[1234]e[lb] \
+         | tic6x \
+         | xtensa* )
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
 
-       # CPUs that only support a 32-bit ABI.
-       arc \
-       | bfin \
-       | cris* \
-       | csky \
-       | epiphany \
-       | ft32 \
-       | h8300 \
-       | m68k \
-       | microblaze | microblazeel \
-       | nds32 | nds32le | nds32be \
-       | nios2 | nios2eb | nios2el \
-       | or1k* \
-       | or32 \
-       | sh | sh[1234] | sh[1234]e[lb] \
-       | tic6x \
-       | xtensa* )
-         gl_cv_host_cpu_c_abi_32bit=yes
-         ;;
+         # CPUs that only support a 64-bit ABI.
+changequote(,)dnl
+         alpha | alphaev[4-8] | alphaev56 | alphapca5[67] | alphaev6[78] \
+         | mmix )
+changequote([,])dnl
+           gl_cv_host_cpu_c_abi_32bit=no
+           ;;
 
-       # CPUs that only support a 64-bit ABI.
 changequote(,)dnl
-       alpha | alphaev[4-8] | alphaev56 | alphapca5[67] | alphaev6[78] \
-       | mmix )
+         i[34567]86 )
 changequote([,])dnl
-         gl_cv_host_cpu_c_abi_32bit=no
-         ;;
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
 
-       *)
-         if test -n "$gl_cv_host_cpu_c_abi"; then
-           dnl gl_HOST_CPU_C_ABI has already been run. Use its result.
-           case "$gl_cv_host_cpu_c_abi" in
-             i386 | x86_64-x32 | arm | armhf | arm64-ilp32 | hppa | ia64-ilp32 | mips | mipsn32 | powerpc | riscv*-ilp32* | s390 | sparc)
-               gl_cv_host_cpu_c_abi_32bit=yes ;;
-             x86_64 | alpha | arm64 | aarch64c | hppa64 | ia64 | mips64 | powerpc64 | powerpc64-elfv2 | riscv*-lp64* | s390x | sparc64 )
-               gl_cv_host_cpu_c_abi_32bit=no ;;
-             *)
-               gl_cv_host_cpu_c_abi_32bit=unknown ;;
-           esac
-         else
-           gl_cv_host_cpu_c_abi_32bit=unknown
-         fi
-         if test $gl_cv_host_cpu_c_abi_32bit = unknown; then
+         x86_64 )
+           # On x86_64 systems, the C compiler may be generating code in one of
+           # these ABIs:
+           # - 64-bit instruction set, 64-bit pointers, 64-bit 'long': x86_64.
+           # - 64-bit instruction set, 64-bit pointers, 32-bit 'long': x86_64
+           #   with native Windows (mingw, MSVC).
+           # - 64-bit instruction set, 32-bit pointers, 32-bit 'long': x86_64-x32.
+           # - 32-bit instruction set, 32-bit pointers, 32-bit 'long': i386.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if (defined __x86_64__ || defined __amd64__ \
+                       || defined _M_X64 || defined _M_AMD64) \
+                      && !(defined __ILP32__ || defined _ILP32)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         arm* | aarch64 )
+           # Assume arm with EABI.
+           # On arm64 systems, the C compiler may be generating code in one of
+           # these ABIs:
+           # - aarch64 instruction set, 64-bit pointers, 64-bit 'long': arm64.
+           # - aarch64 instruction set, 32-bit pointers, 32-bit 'long': arm64-ilp32.
+           # - 32-bit instruction set, 32-bit pointers, 32-bit 'long': arm or armhf.
            AC_COMPILE_IFELSE(
              [AC_LANG_SOURCE(
-                [[int test_pointer_size[sizeof (void *) - 5];
+                [[#if defined __aarch64__ && !(defined __ILP32__ || defined _ILP32)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
                 ]])],
              [gl_cv_host_cpu_c_abi_32bit=no],
              [gl_cv_host_cpu_c_abi_32bit=yes])
-         fi
-         ;;
-     esac
+           ;;
+
+         hppa1.0 | hppa1.1 | hppa2.0* | hppa64 )
+           # On hppa, the C compiler may be generating 32-bit code or 64-bit
+           # code. In the latter case, it defines _LP64 and __LP64__.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#ifdef __LP64__
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         ia64* )
+           # On ia64 on HP-UX, the C compiler may be generating 64-bit code or
+           # 32-bit code. In the latter case, it defines _ILP32.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#ifdef _ILP32
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=yes],
+             [gl_cv_host_cpu_c_abi_32bit=no])
+           ;;
+
+         mips* )
+           # We should also check for (_MIPS_SZPTR == 64), but gcc keeps this
+           # at 32.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if defined _MIPS_SZLONG && (_MIPS_SZLONG == 64)
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         powerpc* )
+           # Different ABIs are in use on AIX vs. Mac OS X vs. Linux,*BSD.
+           # No need to distinguish them here; the caller may distinguish
+           # them based on the OS.
+           # On powerpc64 systems, the C compiler may still be generating
+           # 32-bit code. And on powerpc-ibm-aix systems, the C compiler may
+           # be generating 64-bit code.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if defined __powerpc64__ || defined _ARCH_PPC64
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         rs6000 )
+           gl_cv_host_cpu_c_abi_32bit=yes
+           ;;
+
+         riscv32 | riscv64 )
+           # There are 6 ABIs: ilp32, ilp32f, ilp32d, lp64, lp64f, lp64d.
+           # Size of 'long' and 'void *':
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if defined __LP64__
+                    int ok;
+                  #else
+                    error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         s390* )
+           # On s390x, the C compiler may be generating 64-bit (= s390x) code
+           # or 31-bit (= s390) code.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if defined __LP64__ || defined __s390x__
+                    int ok;
+                  #else
+                    error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         sparc | sparc64 )
+           # UltraSPARCs running Linux have `uname -m` = "sparc64", but the
+           # C compiler still generates 32-bit code.
+           AC_COMPILE_IFELSE(
+             [AC_LANG_SOURCE(
+                [[#if defined __sparcv9 || defined __arch64__
+                   int ok;
+                  #else
+                   error fail
+                  #endif
+                ]])],
+             [gl_cv_host_cpu_c_abi_32bit=no],
+             [gl_cv_host_cpu_c_abi_32bit=yes])
+           ;;
+
+         *)
+           gl_cv_host_cpu_c_abi_32bit=unknown
+           ;;
+       esac
+     fi
     ])
 
   HOST_CPU_C_ABI_32BIT="$gl_cv_host_cpu_c_abi_32bit"
diff -Nur xz-5.8.1/m4/iconv.m4 xz-5.8.1-irix/m4/iconv.m4
--- xz-5.8.1/m4/iconv.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/iconv.m4	2025-04-25 14:59:00.514523480 +0000
@@ -1,20 +1,12 @@
-# iconv.m4
-# serial 28
-dnl Copyright (C) 2000-2002, 2007-2014, 2016-2024 Free Software Foundation,
+# iconv.m4 serial 21
+dnl Copyright (C) 2000-2002, 2007-2014, 2016-2020 Free Software Foundation,
 dnl Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 
 dnl From Bruno Haible.
 
-AC_PREREQ([2.64])
-
-dnl Note: AM_ICONV is documented in the GNU gettext manual
-dnl <https://www.gnu.org/software/gettext/manual/html_node/AM_005fICONV.html>.
-dnl Don't make changes that are incompatible with that documentation!
-
 AC_DEFUN([AM_ICONV_LINKFLAGS_BODY],
 [
   dnl Prerequisites of AC_LIB_LINKFLAGS_BODY.
@@ -40,7 +32,7 @@
   dnl because if the user has installed libiconv and not disabled its use
   dnl via --without-libiconv-prefix, he wants to use it. The first
   dnl AC_LINK_IFELSE will then fail, the second AC_LINK_IFELSE will succeed.
-  gl_saved_CPPFLAGS="$CPPFLAGS"
+  am_save_CPPFLAGS="$CPPFLAGS"
   AC_LIB_APPENDTOVAR([CPPFLAGS], [$INCICONV])
 
   AC_CACHE_CHECK([for iconv], [am_cv_func_iconv], [
@@ -57,7 +49,7 @@
            iconv_close(cd);]])],
       [am_cv_func_iconv=yes])
     if test "$am_cv_func_iconv" != yes; then
-      gl_saved_LIBS="$LIBS"
+      am_save_LIBS="$LIBS"
       LIBS="$LIBS $LIBICONV"
       AC_LINK_IFELSE(
         [AC_LANG_PROGRAM(
@@ -70,14 +62,14 @@
              iconv_close(cd);]])],
         [am_cv_lib_iconv=yes]
         [am_cv_func_iconv=yes])
-      LIBS="$gl_saved_LIBS"
+      LIBS="$am_save_LIBS"
     fi
   ])
   if test "$am_cv_func_iconv" = yes; then
     AC_CACHE_CHECK([for working iconv], [am_cv_func_iconv_works], [
       dnl This tests against bugs in AIX 5.1, AIX 6.1..7.1, HP-UX 11.11,
-      dnl Solaris 10, macOS 14.4.
-      gl_saved_LIBS="$LIBS"
+      dnl Solaris 10.
+      am_save_LIBS="$LIBS"
       if test $am_cv_lib_iconv = yes; then
         LIBS="$LIBS $LIBICONV"
       fi
@@ -94,9 +86,8 @@
 #endif
              ]],
              [[int result = 0;
-  /* Test against AIX 5.1...7.2 bug: Failures are not distinguishable from
-     successful returns.  This is even documented in
-     <https://www.ibm.com/support/knowledgecenter/ssw_aix_72/i_bostechref/iconv.html> */
+  /* Test against AIX 5.1 bug: Failures are not distinguishable from successful
+     returns.  */
   {
     iconv_t cd_utf8_to_88591 = iconv_open ("ISO8859-1", "UTF-8");
     if (cd_utf8_to_88591 != (iconv_t)(-1))
@@ -115,35 +106,6 @@
         iconv_close (cd_utf8_to_88591);
       }
   }
-  /* Test against macOS 14.4 bug: Failures are not distinguishable from
-     successful returns.
-     POSIX:2018 says: "The iconv() function shall ... return the number of
-     non-identical conversions performed."
-     But here, the conversion always does transliteration (the suffixes
-     "//TRANSLIT" and "//IGNORE" have no effect, nor does iconvctl()) and
-     does not report when it does a non-identical conversion.  */
-  {
-    iconv_t cd_utf8_to_88591 = iconv_open ("ISO-8859-1", "UTF-8");
-    if (cd_utf8_to_88591 != (iconv_t)(-1))
-      {
-        static ICONV_CONST char input[] = "\305\202"; /* LATIN SMALL LETTER L WITH STROKE */
-        char buf[10];
-        ICONV_CONST char *inptr = input;
-        size_t inbytesleft = strlen (input);
-        char *outptr = buf;
-        size_t outbytesleft = sizeof (buf);
-        size_t res = iconv (cd_utf8_to_88591,
-                            &inptr, &inbytesleft,
-                            &outptr, &outbytesleft);
-        /* Here:
-           With glibc, GNU libiconv (including macOS up to 13): res == (size_t)-1, errno == EILSEQ.
-           With musl libc, NetBSD 10, Solaris 11: res == 1.
-           With macOS 14.4: res == 0, output is "l".  */
-        if (res == 0)
-          result |= 2;
-        iconv_close (cd_utf8_to_88591);
-      }
-  }
   /* Test against Solaris 10 bug: Failures are not distinguishable from
      successful returns.  */
   {
@@ -160,7 +122,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if (res == 0)
-          result |= 4;
+          result |= 2;
         iconv_close (cd_ascii_to_88591);
       }
   }
@@ -179,7 +141,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if (res != (size_t)(-1) || outptr - buf > 1 || buf[1] != (char)0xAD)
-          result |= 8;
+          result |= 4;
         iconv_close (cd_88591_to_utf8);
       }
   }
@@ -199,7 +161,7 @@
                             &inptr, &inbytesleft,
                             &outptr, &outbytesleft);
         if ((int)res > 0)
-          result |= 16;
+          result |= 8;
         iconv_close (cd_88591_to_utf8);
       }
   }
@@ -217,7 +179,7 @@
     iconv_t cd4 = iconv_open ("utf8", "eucJP");
     if (cd1 == (iconv_t)(-1) && cd2 == (iconv_t)(-1)
         && cd3 == (iconv_t)(-1) && cd4 == (iconv_t)(-1))
-      result |= 32;
+      result |= 16;
     if (cd1 != (iconv_t)(-1))
       iconv_close (cd1);
     if (cd2 != (iconv_t)(-1))
@@ -236,7 +198,7 @@
            esac])
         test "$am_cv_func_iconv_works" = no || break
       done
-      LIBS="$gl_saved_LIBS"
+      LIBS="$am_save_LIBS"
     ])
     case "$am_cv_func_iconv_works" in
       *no) am_func_iconv=no am_cv_lib_iconv=no ;;
@@ -255,7 +217,7 @@
   else
     dnl If $LIBICONV didn't lead to a usable library, we don't need $INCICONV
     dnl either.
-    CPPFLAGS="$gl_saved_CPPFLAGS"
+    CPPFLAGS="$am_save_CPPFLAGS"
     LIBICONV=
     LTLIBICONV=
   fi
@@ -263,62 +225,64 @@
   AC_SUBST([LTLIBICONV])
 ])
 
-dnl Define AM_ICONV using AC_DEFUN_ONCE, in order to avoid warnings like
+dnl Define AM_ICONV using AC_DEFUN_ONCE for Autoconf >= 2.64, in order to
+dnl avoid warnings like
 dnl "warning: AC_REQUIRE: `AM_ICONV' was expanded before it was required".
-AC_DEFUN_ONCE([AM_ICONV],
+dnl This is tricky because of the way 'aclocal' is implemented:
+dnl - It requires defining an auxiliary macro whose name ends in AC_DEFUN.
+dnl   Otherwise aclocal's initial scan pass would miss the macro definition.
+dnl - It requires a line break inside the AC_DEFUN_ONCE and AC_DEFUN expansions.
+dnl   Otherwise aclocal would emit many "Use of uninitialized value $1"
+dnl   warnings.
+m4_define([gl_iconv_AC_DEFUN],
+  m4_version_prereq([2.64],
+    [[AC_DEFUN_ONCE(
+        [$1], [$2])]],
+    [m4_ifdef([gl_00GNULIB],
+       [[AC_DEFUN_ONCE(
+           [$1], [$2])]],
+       [[AC_DEFUN(
+           [$1], [$2])]])]))
+gl_iconv_AC_DEFUN([AM_ICONV],
 [
   AM_ICONV_LINK
   if test "$am_cv_func_iconv" = yes; then
-    AC_CACHE_CHECK([whether iconv is compatible with its POSIX signature],
-      [gl_cv_iconv_nonconst],
-      [AC_COMPILE_IFELSE(
-         [AC_LANG_PROGRAM(
-            [[
+    AC_MSG_CHECKING([for iconv declaration])
+    AC_CACHE_VAL([am_cv_proto_iconv], [
+      AC_COMPILE_IFELSE(
+        [AC_LANG_PROGRAM(
+           [[
 #include <stdlib.h>
 #include <iconv.h>
 extern
 #ifdef __cplusplus
 "C"
 #endif
+#if defined(__STDC__) || defined(_MSC_VER) || defined(__cplusplus)
 size_t iconv (iconv_t cd, char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);
-            ]],
-            [[]])],
-         [gl_cv_iconv_nonconst=yes],
-         [gl_cv_iconv_nonconst=no])
-      ])
+#else
+size_t iconv();
+#endif
+           ]],
+           [[]])],
+        [am_cv_proto_iconv_arg1=""],
+        [am_cv_proto_iconv_arg1="const"])
+      am_cv_proto_iconv="extern size_t iconv (iconv_t cd, $am_cv_proto_iconv_arg1 char * *inbuf, size_t *inbytesleft, char * *outbuf, size_t *outbytesleft);"])
+    am_cv_proto_iconv=`echo "[$]am_cv_proto_iconv" | tr -s ' ' | sed -e 's/( /(/'`
+    AC_MSG_RESULT([
+         $am_cv_proto_iconv])
   else
     dnl When compiling GNU libiconv on a system that does not have iconv yet,
     dnl pick the POSIX compliant declaration without 'const'.
-    gl_cv_iconv_nonconst=yes
+    am_cv_proto_iconv_arg1=""
   fi
-  if test $gl_cv_iconv_nonconst = yes; then
-    iconv_arg1=""
-  else
-    iconv_arg1="const"
-  fi
-  AC_DEFINE_UNQUOTED([ICONV_CONST], [$iconv_arg1],
+  AC_DEFINE_UNQUOTED([ICONV_CONST], [$am_cv_proto_iconv_arg1],
     [Define as const if the declaration of iconv() needs const.])
   dnl Also substitute ICONV_CONST in the gnulib generated <iconv.h>.
   m4_ifdef([gl_ICONV_H_DEFAULTS],
     [AC_REQUIRE([gl_ICONV_H_DEFAULTS])
-     if test $gl_cv_iconv_nonconst != yes; then
+     if test -n "$am_cv_proto_iconv_arg1"; then
        ICONV_CONST="const"
      fi
     ])
-
-  dnl A summary result, for those packages which want to print a summary at the
-  dnl end of the configuration.
-  if test "$am_func_iconv" = yes; then
-    if test -n "$LIBICONV"; then
-      am_cv_func_iconv_summary='yes, in libiconv'
-    else
-      am_cv_func_iconv_summary='yes, in libc'
-    fi
-  else
-    if test "$am_cv_func_iconv" = yes; then
-      am_cv_func_iconv_summary='not working, consider installing GNU libiconv'
-    else
-      am_cv_func_iconv_summary='no, consider installing GNU libiconv'
-    fi
-  fi
 ])
diff -Nur xz-5.8.1/m4/intlmacosx.m4 xz-5.8.1-irix/m4/intlmacosx.m4
--- xz-5.8.1/m4/intlmacosx.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/intlmacosx.m4	2025-04-25 14:59:00.546524130 +0000
@@ -1,10 +1,8 @@
-# intlmacosx.m4
-# serial 10 (gettext-0.23)
-dnl Copyright (C) 2004-2014, 2016, 2019-2024 Free Software Foundation, Inc.
+# intlmacosx.m4 serial 8 (gettext-0.20.2)
+dnl Copyright (C) 2004-2014, 2016, 2019-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 dnl
 dnl This file can be used in projects which are not available under
 dnl the GNU General Public License or the GNU Lesser General Public
@@ -22,7 +20,7 @@
   dnl Check for API introduced in Mac OS X 10.4.
   AC_CACHE_CHECK([for CFPreferencesCopyAppValue],
     [gt_cv_func_CFPreferencesCopyAppValue],
-    [gt_saved_LIBS="$LIBS"
+    [gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      AC_LINK_IFELSE(
        [AC_LANG_PROGRAM(
@@ -30,7 +28,7 @@
           [[CFPreferencesCopyAppValue(NULL, NULL)]])],
        [gt_cv_func_CFPreferencesCopyAppValue=yes],
        [gt_cv_func_CFPreferencesCopyAppValue=no])
-     LIBS="$gt_saved_LIBS"])
+     LIBS="$gt_save_LIBS"])
   if test $gt_cv_func_CFPreferencesCopyAppValue = yes; then
     AC_DEFINE([HAVE_CFPREFERENCESCOPYAPPVALUE], [1],
       [Define to 1 if you have the Mac OS X function CFPreferencesCopyAppValue in the CoreFoundation framework.])
@@ -45,7 +43,7 @@
   dnl CFPreferencesCopyAppValue still returns, namely ll_CC where ll is the
   dnl first among the preferred languages and CC is the territory.
   AC_CACHE_CHECK([for CFLocaleCopyPreferredLanguages], [gt_cv_func_CFLocaleCopyPreferredLanguages],
-    [gt_saved_LIBS="$LIBS"
+    [gt_save_LIBS="$LIBS"
      LIBS="$LIBS -Wl,-framework -Wl,CoreFoundation"
      AC_LINK_IFELSE(
        [AC_LANG_PROGRAM(
@@ -53,7 +51,7 @@
           [[CFLocaleCopyPreferredLanguages();]])],
        [gt_cv_func_CFLocaleCopyPreferredLanguages=yes],
        [gt_cv_func_CFLocaleCopyPreferredLanguages=no])
-     LIBS="$gt_saved_LIBS"])
+     LIBS="$gt_save_LIBS"])
   if test $gt_cv_func_CFLocaleCopyPreferredLanguages = yes; then
     AC_DEFINE([HAVE_CFLOCALECOPYPREFERREDLANGUAGES], [1],
       [Define to 1 if you have the Mac OS X function CFLocaleCopyPreferredLanguages in the CoreFoundation framework.])
@@ -61,11 +59,7 @@
   INTL_MACOSX_LIBS=
   if test $gt_cv_func_CFPreferencesCopyAppValue = yes \
      || test $gt_cv_func_CFLocaleCopyPreferredLanguages = yes; then
-    dnl Starting with macOS version 14, CoreFoundation relies on CoreServices,
-    dnl and we have to link it in explicitly, otherwise an exception
-    dnl NSInvalidArgumentException "unrecognized selector sent to instance"
-    dnl occurs.
-    INTL_MACOSX_LIBS="-Wl,-framework -Wl,CoreFoundation -Wl,-framework -Wl,CoreServices"
+    INTL_MACOSX_LIBS="-Wl,-framework -Wl,CoreFoundation"
   fi
   AC_SUBST([INTL_MACOSX_LIBS])
 ])
diff -Nur xz-5.8.1/m4/lib-ld.m4 xz-5.8.1-irix/m4/lib-ld.m4
--- xz-5.8.1/m4/lib-ld.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/lib-ld.m4	2025-04-25 14:59:00.579524801 +0000
@@ -1,10 +1,8 @@
-# lib-ld.m4
-# serial 13
-dnl Copyright (C) 1996-2003, 2009-2024 Free Software Foundation, Inc.
+# lib-ld.m4 serial 9
+dnl Copyright (C) 1996-2003, 2009-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 
 dnl Subroutines of libtool.m4,
 dnl with replacements s/_*LT_PATH/AC_LIB_PROG/ and s/lt_/acl_/ to avoid
@@ -31,7 +29,7 @@
 AC_REQUIRE([AC_CANONICAL_HOST])dnl
 
 AC_ARG_WITH([gnu-ld],
-    [AS_HELP_STRING([[--with-gnu-ld]],
+    [AS_HELP_STRING([--with-gnu-ld],
         [assume the C compiler uses GNU ld [default=no]])],
     [test "$withval" = no || with_gnu_ld=yes],
     [with_gnu_ld=no])dnl
@@ -69,7 +67,7 @@
     if test "$GCC" = yes; then
       # Check if gcc -print-prog-name=ld gives a path.
       case $host in
-        *-*-mingw* | windows*)
+        *-*-mingw*)
           # gcc leaves a trailing carriage return which upsets mingw
           acl_output=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
         *)
@@ -99,9 +97,9 @@
     fi
     if test -n "$ac_prog"; then
       # Search for $ac_prog in $PATH.
-      acl_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
+      acl_save_ifs="$IFS"; IFS=$PATH_SEPARATOR
       for ac_dir in $PATH; do
-        IFS="$acl_saved_IFS"
+        IFS="$acl_save_ifs"
         test -z "$ac_dir" && ac_dir=.
         if test -f "$ac_dir/$ac_prog" || test -f "$ac_dir/$ac_prog$ac_exeext"; then
           acl_cv_path_LD="$ac_dir/$ac_prog"
@@ -118,13 +116,13 @@
           esac
         fi
       done
-      IFS="$acl_saved_IFS"
+      IFS="$acl_save_ifs"
     fi
     case $host in
       *-*-aix*)
         AC_COMPILE_IFELSE(
           [AC_LANG_SOURCE(
-             [[#if defined __powerpc64__ || defined __LP64__
+             [[#if defined __powerpc64__ || defined _ARCH_PPC64
                 int ok;
                #else
                 error fail
diff -Nur xz-5.8.1/m4/lib-link.m4 xz-5.8.1-irix/m4/lib-link.m4
--- xz-5.8.1/m4/lib-link.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/lib-link.m4	2025-04-25 14:59:00.613525492 +0000
@@ -1,10 +1,8 @@
-# lib-link.m4
-# serial 34
-dnl Copyright (C) 2001-2024 Free Software Foundation, Inc.
+# lib-link.m4 serial 31
+dnl Copyright (C) 2001-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 
 dnl From Bruno Haible.
 
@@ -71,11 +69,11 @@
   dnl Add $INC[]NAME to CPPFLAGS before performing the following checks,
   dnl because if the user has installed lib[]Name and not disabled its use
   dnl via --without-lib[]Name-prefix, he wants to use it.
-  acl_saved_CPPFLAGS="$CPPFLAGS"
+  ac_save_CPPFLAGS="$CPPFLAGS"
   AC_LIB_APPENDTOVAR([CPPFLAGS], [$INC]NAME)
 
   AC_CACHE_CHECK([for lib[]$1], [ac_cv_lib[]Name], [
-    acl_saved_LIBS="$LIBS"
+    ac_save_LIBS="$LIBS"
     dnl If $LIB[]NAME contains some -l options, add it to the end of LIBS,
     dnl because these -l options might require -L options that are present in
     dnl LIBS. -l options benefit only from the -L options listed before it.
@@ -91,7 +89,7 @@
       [AC_LANG_PROGRAM([[$3]], [[$4]])],
       [ac_cv_lib[]Name=yes],
       [ac_cv_lib[]Name='m4_if([$5], [], [no], [[$5]])'])
-    LIBS="$acl_saved_LIBS"
+    LIBS="$ac_save_LIBS"
   ])
   if test "$ac_cv_lib[]Name" = yes; then
     HAVE_LIB[]NAME=yes
@@ -102,7 +100,7 @@
     HAVE_LIB[]NAME=no
     dnl If $LIB[]NAME didn't lead to a usable library, we don't need
     dnl $INC[]NAME either.
-    CPPFLAGS="$acl_saved_CPPFLAGS"
+    CPPFLAGS="$ac_save_CPPFLAGS"
     LIB[]NAME=
     LTLIB[]NAME=
     LIB[]NAME[]_PREFIX=
@@ -198,8 +196,8 @@
     eval additional_libdir3=\"$exec_prefix/$acl_libdirstem3\"
   ])
   AC_ARG_WITH(PACK[-prefix],
-[[  --with-]]PACK[[-prefix[=DIR]  search for ]]PACKLIBS[[ in DIR/include and DIR/lib
-  --without-]]PACK[[-prefix     don't search for ]]PACKLIBS[[ in includedir and libdir]],
+[[  --with-]]PACK[[-prefix[=DIR]  search for ]PACKLIBS[ in DIR/include and DIR/lib
+  --without-]]PACK[[-prefix     don't search for ]PACKLIBS[ in includedir and libdir]],
 [
     if test "X$withval" = "Xno"; then
       use_additional=no
@@ -226,7 +224,7 @@
     additional_libdir3=
   fi
   dnl Search the library and its dependencies in $additional_libdir and
-  dnl $LDFLAGS. Use breadth-first search.
+  dnl $LDFLAGS. Using breadth-first-seach.
   LIB[]NAME=
   LTLIB[]NAME=
   INC[]NAME=
@@ -539,12 +537,12 @@
               dnl Read the .la file. It defines the variables
               dnl dlname, library_names, old_library, dependency_libs, current,
               dnl age, revision, installed, dlopen, dlpreopen, libdir.
-              saved_libdir="$libdir"
+              save_libdir="$libdir"
               case "$found_la" in
                 */* | *\\*) . "$found_la" ;;
                 *) . "./$found_la" ;;
               esac
-              libdir="$saved_libdir"
+              libdir="$save_libdir"
               dnl We use only dependency_libs.
               for dep in $dependency_libs; do
                 case "$dep" in
@@ -633,20 +631,7 @@
                     ;;
                   -l*)
                     dnl Handle this in the next round.
-                    dnl But on GNU systems, ignore -lc options, because
-                    dnl   - linking with libc is the default anyway,
-                    dnl   - linking with libc.a may produce an error
-                    dnl     "/usr/bin/ld: dynamic STT_GNU_IFUNC symbol `strcmp' with pointer equality in `/usr/lib/libc.a(strcmp.o)' can not be used when making an executable; recompile with -fPIE and relink with -pie"
-                    dnl     or may produce an executable that always crashes, see
-                    dnl     <https://lists.gnu.org/archive/html/grep-devel/2020-09/msg00052.html>.
-                    dep=`echo "X$dep" | sed -e 's/^X-l//'`
-                    if test "X$dep" != Xc \
-                       || case $host_os in
-                            linux* | gnu* | k*bsd*-gnu) false ;;
-                            *)                          true ;;
-                          esac; then
-                      names_next_round="$names_next_round $dep"
-                    fi
+                    names_next_round="$names_next_round "`echo "X$dep" | sed -e 's/^X-l//'`
                     ;;
                   *.la)
                     dnl Handle this in the next round. Throw away the .la's
@@ -684,18 +669,18 @@
         alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$found_dir"
       done
       dnl Note: acl_hardcode_libdir_flag_spec uses $libdir and $wl.
-      acl_saved_libdir="$libdir"
+      acl_save_libdir="$libdir"
       libdir="$alldirs"
       eval flag=\"$acl_hardcode_libdir_flag_spec\"
-      libdir="$acl_saved_libdir"
+      libdir="$acl_save_libdir"
       LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$flag"
     else
       dnl The -rpath options are cumulative.
       for found_dir in $rpathdirs; do
-        acl_saved_libdir="$libdir"
+        acl_save_libdir="$libdir"
         libdir="$found_dir"
         eval flag=\"$acl_hardcode_libdir_flag_spec\"
-        libdir="$acl_saved_libdir"
+        libdir="$acl_save_libdir"
         LIB[]NAME="${LIB[]NAME}${LIB[]NAME:+ }$flag"
       done
     fi
@@ -792,18 +777,18 @@
             for dir in $rpathdirs; do
               alldirs="${alldirs}${alldirs:+$acl_hardcode_libdir_separator}$dir"
             done
-            acl_saved_libdir="$libdir"
+            acl_save_libdir="$libdir"
             libdir="$alldirs"
             eval flag=\"$acl_hardcode_libdir_flag_spec\"
-            libdir="$acl_saved_libdir"
+            libdir="$acl_save_libdir"
             $1="$flag"
           else
             dnl The -rpath options are cumulative.
             for dir in $rpathdirs; do
-              acl_saved_libdir="$libdir"
+              acl_save_libdir="$libdir"
               libdir="$dir"
               eval flag=\"$acl_hardcode_libdir_flag_spec\"
-              libdir="$acl_saved_libdir"
+              libdir="$acl_save_libdir"
               $1="${$1}${$1:+ }$flag"
             done
           fi
diff -Nur xz-5.8.1/m4/lib-prefix.m4 xz-5.8.1-irix/m4/lib-prefix.m4
--- xz-5.8.1/m4/lib-prefix.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/lib-prefix.m4	2025-04-25 14:59:00.646526162 +0000
@@ -1,10 +1,8 @@
-# lib-prefix.m4
-# serial 23
-dnl Copyright (C) 2001-2005, 2008-2024 Free Software Foundation, Inc.
+# lib-prefix.m4 serial 17
+dnl Copyright (C) 2001-2005, 2008-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
-dnl This file is offered as-is, without any warranty.
 
 dnl From Bruno Haible.
 
@@ -128,10 +126,10 @@
   else
     acl_final_exec_prefix="$exec_prefix"
   fi
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
   eval acl_final_exec_prefix=\"$acl_final_exec_prefix\"
-  prefix="$acl_saved_prefix"
+  prefix="$acl_save_prefix"
 ])
 
 dnl AC_LIB_WITH_FINAL_PREFIX([statement]) evaluates statement, with the
@@ -139,13 +137,13 @@
 dnl at the end of the configure script.
 AC_DEFUN([AC_LIB_WITH_FINAL_PREFIX],
 [
-  acl_saved_prefix="$prefix"
+  acl_save_prefix="$prefix"
   prefix="$acl_final_prefix"
-  acl_saved_exec_prefix="$exec_prefix"
+  acl_save_exec_prefix="$exec_prefix"
   exec_prefix="$acl_final_exec_prefix"
   $1
-  exec_prefix="$acl_saved_exec_prefix"
-  prefix="$acl_saved_prefix"
+  exec_prefix="$acl_save_exec_prefix"
+  prefix="$acl_save_prefix"
 ])
 
 dnl AC_LIB_PREPARE_MULTILIB creates
@@ -176,14 +174,14 @@
 
   AC_CACHE_CHECK([for ELF binary format], [gl_cv_elf],
     [AC_EGREP_CPP([Extensible Linking Format],
-       [#if defined __ELF__ || (defined __linux__ && (defined __EDG__ || defined __SUNPRO_C))
+       [#ifdef __ELF__
         Extensible Linking Format
         #endif
        ],
        [gl_cv_elf=yes],
        [gl_cv_elf=no])
-    ])
-  if test $gl_cv_elf = yes; then
+     ])
+  if test $gl_cv_elf; then
     # Extract the ELF class of a file (5th byte) in decimal.
     # Cf. https://en.wikipedia.org/wiki/Executable_and_Linkable_Format#File_header
     if od -A x < /dev/null >/dev/null 2>/dev/null; then
@@ -200,23 +198,20 @@
         echo
       }
     fi
-    # Use 'expr', not 'test', to compare the values of func_elfclass, because on
-    # Solaris 11 OpenIndiana and Solaris 11 OmniOS, the result is 001 or 002,
-    # not 1 or 2.
 changequote(,)dnl
     case $HOST_CPU_C_ABI_32BIT in
       yes)
         # 32-bit ABI.
         acl_is_expected_elfclass ()
         {
-          expr "`func_elfclass | sed -e 's/[ 	]//g'`" = 1 > /dev/null
+          test "`func_elfclass | sed -e 's/[ 	]//g'`" = 1
         }
         ;;
       no)
         # 64-bit ABI.
         acl_is_expected_elfclass ()
         {
-          expr "`func_elfclass | sed -e 's/[ 	]//g'`" = 2 > /dev/null
+          test "`func_elfclass | sed -e 's/[ 	]//g'`" = 2
         }
         ;;
       *)
@@ -258,15 +253,6 @@
            esac
          fi
          ;;
-       netbsd*)
-         dnl On NetBSD/sparc64, there is a 'sparc' subdirectory that contains
-         dnl 32-bit libraries.
-         if test $HOST_CPU_C_ABI_32BIT != no; then
-           case "$host_cpu" in
-             sparc*) acl_libdirstem2=lib/sparc ;;
-           esac
-         fi
-         ;;
        *)
          dnl If $CC generates code for a 32-bit ABI, the libraries are
          dnl surely under $prefix/lib or $prefix/lib32, not $prefix/lib64.
@@ -291,7 +277,7 @@
            fi
          fi
          if test -n "$searchpath"; then
-           acl_saved_IFS="${IFS= 	}"; IFS=":"
+           acl_save_IFS="${IFS= 	}"; IFS=":"
            for searchdir in $searchpath; do
              if test -d "$searchdir"; then
                case "$searchdir" in
@@ -308,7 +294,7 @@
                esac
              fi
            done
-           IFS="$acl_saved_IFS"
+           IFS="$acl_save_IFS"
            if test $HOST_CPU_C_ABI_32BIT = yes; then
              # 32-bit ABI.
              acl_libdirstem3=
diff -Nur xz-5.8.1/m4/libtool.m4 xz-5.8.1-irix/m4/libtool.m4
--- xz-5.8.1/m4/libtool.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/libtool.m4	2025-04-25 14:59:01.258538597 +0000
@@ -1,6 +1,6 @@
 # libtool.m4 - Configure libtool for the host system. -*-Autoconf-*-
 #
-#   Copyright (C) 1996-2001, 2003-2019, 2021-2024 Free Software
+#   Copyright (C) 1996-2001, 2003-2019, 2021-2022 Free Software
 #   Foundation, Inc.
 #   Written by Gordon Matzigkeit, 1996
 #
@@ -9,13 +9,13 @@
 # modifications, as long as this notice is preserved.
 
 m4_define([_LT_COPYING], [dnl
-# Copyright (C) 2024 Free Software Foundation, Inc.
+# Copyright (C) 2014 Free Software Foundation, Inc.
 # This is free software; see the source for copying conditions.  There is NO
 # warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 
 # GNU Libtool is free software; you can redistribute it and/or modify
 # it under the terms of the GNU General Public License as published by
-# the Free Software Foundation; either version 2 of the License, or
+# the Free Software Foundation; either version 2 of of the License, or
 # (at your option) any later version.
 #
 # As a special exception to the GNU General Public License, if you
@@ -32,7 +32,7 @@
 # along with this program.  If not, see <http://www.gnu.org/licenses/>.
 ])
 
-# serial 63 LT_INIT
+# serial 59 LT_INIT
 
 
 # LT_PREREQ(VERSION)
@@ -60,7 +60,7 @@
 # LT_INIT([OPTIONS])
 # ------------------
 AC_DEFUN([LT_INIT],
-[AC_PREREQ([2.64])dnl We use AC_PATH_PROGS_FEATURE_CHECK
+[AC_PREREQ([2.62])dnl We use AC_PATH_PROGS_FEATURE_CHECK
 AC_REQUIRE([AC_CONFIG_AUX_DIR_DEFAULT])dnl
 AC_BEFORE([$0], [LT_LANG])dnl
 AC_BEFORE([$0], [LT_OUTPUT])dnl
@@ -616,7 +616,7 @@
 # LT_OUTPUT
 # ---------
 # This macro allows early generation of the libtool script (before
-# AC_OUTPUT is called), in case it is used in configure for compilation
+# AC_OUTPUT is called), incase it is used in configure for compilation
 # tests.
 AC_DEFUN([LT_OUTPUT],
 [: ${CONFIG_LT=./config.lt}
@@ -651,9 +651,9 @@
 m4_ifset([AC_PACKAGE_VERSION], [ AC_PACKAGE_VERSION])
 configured by $[0], generated by m4_PACKAGE_STRING.
 
-Copyright (C) 2024 Free Software Foundation, Inc.
+Copyright (C) 2011 Free Software Foundation, Inc.
 This config.lt script is free software; the Free Software Foundation
-gives unlimited permission to copy, distribute and modify it."
+gives unlimited permision to copy, distribute and modify it."
 
 while test 0 != $[#]
 do
@@ -974,7 +974,6 @@
 $RM -r conftest*
 ])# _LT_LINKER_BOILERPLATE
 
-
 # _LT_REQUIRED_DARWIN_CHECKS
 # -------------------------
 m4_defun_once([_LT_REQUIRED_DARWIN_CHECKS],[
@@ -1025,21 +1024,6 @@
 	rm -f conftest.*
       fi])
 
-    # Feature test to disable chained fixups since it is not
-    # compatible with '-undefined dynamic_lookup'
-    AC_CACHE_CHECK([for -no_fixup_chains linker flag],
-      [lt_cv_support_no_fixup_chains],
-      [ save_LDFLAGS=$LDFLAGS
-        LDFLAGS="$LDFLAGS -Wl,-no_fixup_chains"
-        AC_LINK_IFELSE(
-          [AC_LANG_PROGRAM([],[])],
-          lt_cv_support_no_fixup_chains=yes,
-          lt_cv_support_no_fixup_chains=no
-        )
-        LDFLAGS=$save_LDFLAGS
-      ]
-    )
-
     AC_CACHE_CHECK([for -exported_symbols_list linker flag],
       [lt_cv_ld_exported_symbols_list],
       [lt_cv_ld_exported_symbols_list=no
@@ -1064,7 +1048,7 @@
       echo "$RANLIB libconftest.a" >&AS_MESSAGE_LOG_FD
       $RANLIB libconftest.a 2>&AS_MESSAGE_LOG_FD
       cat > conftest.c << _LT_EOF
-int main(void) { return 0;}
+int main() { return 0;}
 _LT_EOF
       echo "$LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a" >&AS_MESSAGE_LOG_FD
       $LTCC $LTCFLAGS $LDFLAGS -o conftest conftest.c -Wl,-force_load,./libconftest.a 2>conftest.err
@@ -1089,32 +1073,13 @@
         10.[[012]],*|,*powerpc*-darwin[[5-8]]*)
           _lt_dar_allow_undefined='$wl-flat_namespace $wl-undefined ${wl}suppress' ;;
         *)
-          _lt_dar_allow_undefined='$wl-undefined ${wl}dynamic_lookup'
-          if test yes = "$lt_cv_support_no_fixup_chains"; then
-            AS_VAR_APPEND([_lt_dar_allow_undefined], [' $wl-no_fixup_chains'])
-          fi
-        ;;
+          _lt_dar_allow_undefined='$wl-undefined ${wl}dynamic_lookup' ;;
       esac
     ;;
   esac
     if test yes = "$lt_cv_apple_cc_single_mod"; then
       _lt_dar_single_mod='$single_module'
     fi
-    _lt_dar_needs_single_mod=no
-    case $host_os in
-    rhapsody* | darwin1.*)
-      _lt_dar_needs_single_mod=yes ;;
-    darwin*)
-      # When targeting Mac OS X 10.4 (darwin 8) or later,
-      # -single_module is the default and -multi_module is unsupported.
-      # The toolchain on macOS 10.14 (darwin 18) and later cannot
-      # target any OS version that needs -single_module.
-      case ${MACOSX_DEPLOYMENT_TARGET-10.0},$host in
-      10.0,*-darwin[[567]].*|10.[[0-3]],*-darwin[[5-9]].*|10.[[0-3]],*-darwin1[[0-7]].*)
-        _lt_dar_needs_single_mod=yes ;;
-      esac
-    ;;
-    esac
     if test yes = "$lt_cv_ld_exported_symbols_list"; then
       _lt_dar_export_syms=' $wl-exported_symbols_list,$output_objdir/$libname-symbols.expsym'
     else
@@ -1160,7 +1125,7 @@
     _LT_TAGVAR(archive_expsym_cmds, $1)="$SED 's|^|_|' < \$export_symbols > \$output_objdir/\$libname-symbols.expsym~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$libobjs \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring $_lt_dar_single_mod$_lt_dar_export_syms$_lt_dsymutil"
     _LT_TAGVAR(module_expsym_cmds, $1)="$SED -e 's|^|_|' < \$export_symbols > \$output_objdir/\$libname-symbols.expsym~\$CC \$allow_undefined_flag -o \$lib -bundle \$libobjs \$deplibs \$compiler_flags$_lt_dar_export_syms$_lt_dsymutil"
     m4_if([$1], [CXX],
-[   if test yes = "$_lt_dar_needs_single_mod" -a yes != "$lt_cv_apple_cc_single_mod"; then
+[   if test yes != "$lt_cv_apple_cc_single_mod"; then
       _LT_TAGVAR(archive_cmds, $1)="\$CC -r -keep_private_externs -nostdlib -o \$lib-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$lib-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring$_lt_dsymutil"
       _LT_TAGVAR(archive_expsym_cmds, $1)="$SED 's|^|_|' < \$export_symbols > \$output_objdir/\$libname-symbols.expsym~\$CC -r -keep_private_externs -nostdlib -o \$lib-master.o \$libobjs~\$CC -dynamiclib \$allow_undefined_flag -o \$lib \$lib-master.o \$deplibs \$compiler_flags -install_name \$rpath/\$soname \$verstring$_lt_dar_export_syms$_lt_dsymutil"
     fi
@@ -1290,9 +1255,7 @@
 case $with_sysroot in #(
  yes)
    if test yes = "$GCC"; then
-     # Trim trailing / since we'll always append absolute paths and we want
-     # to avoid //, if only for less confusing output for the user.
-     lt_sysroot=`$CC --print-sysroot 2>/dev/null | $SED 's:/\+$::'`
+     lt_sysroot=`$CC --print-sysroot 2>/dev/null`
    fi
    ;; #(
  /*)
@@ -1404,7 +1367,7 @@
   ;;
 
 x86_64-*kfreebsd*-gnu|x86_64-*linux*|powerpc*-*linux*| \
-s390*-*linux*|s390*-*tpf*|sparc*-*linux*|x86_64-gnu*)
+s390*-*linux*|s390*-*tpf*|sparc*-*linux*)
   # Find out what ABI is being produced by ac_compile, and set linker
   # options accordingly.  Note that the listed cases only cover the
   # situations where additional linker options are needed (such as when
@@ -1419,7 +1382,7 @@
 	  x86_64-*kfreebsd*-gnu)
 	    LD="${LD-ld} -m elf_i386_fbsd"
 	    ;;
-	  x86_64-*linux*|x86_64-gnu*)
+	  x86_64-*linux*)
 	    case `$FILECMD conftest.o` in
 	      *x86-64*)
 		LD="${LD-ld} -m elf32_x86_64"
@@ -1448,7 +1411,7 @@
 	  x86_64-*kfreebsd*-gnu)
 	    LD="${LD-ld} -m elf_x86_64_fbsd"
 	    ;;
-	  x86_64-*linux*|x86_64-gnu*)
+	  x86_64-*linux*)
 	    LD="${LD-ld} -m elf_x86_64"
 	    ;;
 	  powerpcle-*linux*)
@@ -1531,7 +1494,7 @@
 
 # Use ARFLAGS variable as AR's operation code to sync the variable naming with
 # Automake.  If both AR_FLAGS and ARFLAGS are specified, AR_FLAGS should have
-# higher priority because that's what people were doing historically (setting
+# higher priority because thats what people were doing historically (setting
 # ARFLAGS for automake and AR_FLAGS for libtool).  FIXME: Make the AR_FLAGS
 # variable obsoleted/removed.
 
@@ -1581,7 +1544,7 @@
 test -z "$STRIP" && STRIP=:
 _LT_DECL([], [STRIP], [1], [A symbol stripping program])
 
-AC_REQUIRE([AC_PROG_RANLIB])
+AC_CHECK_TOOL(RANLIB, ranlib, :)
 test -z "$RANLIB" && RANLIB=:
 _LT_DECL([], [RANLIB], [1],
     [Commands used to install an old-style archive])
@@ -1592,8 +1555,15 @@
 old_postuninstall_cmds=
 
 if test -n "$RANLIB"; then
+  case $host_os in
+  bitrig* | openbsd*)
+    old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB -t \$tool_oldlib"
+    ;;
+  *)
+    old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$tool_oldlib"
+    ;;
+  esac
   old_archive_cmds="$old_archive_cmds~\$RANLIB \$tool_oldlib"
-  old_postinstall_cmds="$old_postinstall_cmds~\$RANLIB \$tool_oldlib"
 fi
 
 case $host_os in
@@ -1725,14 +1695,14 @@
     lt_cv_sys_max_cmd_len=12288;    # 12K is about right
     ;;
 
-  gnu* | ironclad*)
-    # Under GNU Hurd and Ironclad, this test is not required because there
-    # is no limit to the length of command line arguments.
+  gnu*)
+    # Under GNU Hurd, this test is not required because there is
+    # no limit to the length of command line arguments.
     # Libtool will interpret -1 as no limit whatsoever
     lt_cv_sys_max_cmd_len=-1;
     ;;
 
-  cygwin* | mingw* | windows* | cegcc*)
+  cygwin* | mingw* | cegcc*)
     # On Win9x/ME, this test blows up -- it succeeds, but takes
     # about 5 minutes as the teststring grows exponentially.
     # Worse, since 9x/ME are not pre-emptively multitasking,
@@ -1754,7 +1724,7 @@
     lt_cv_sys_max_cmd_len=8192;
     ;;
 
-  darwin* | dragonfly* | freebsd* | midnightbsd* | netbsd* | openbsd*)
+  bitrig* | darwin* | dragonfly* | freebsd* | midnightbsd* | netbsd* | openbsd*)
     # This has been around since 386BSD, at least.  Likely further.
     if test -x /sbin/sysctl; then
       lt_cv_sys_max_cmd_len=`/sbin/sysctl -n kern.argmax`
@@ -1914,11 +1884,11 @@
 /* When -fvisibility=hidden is used, assume the code has been annotated
    correspondingly for the symbols needed.  */
 #if defined __GNUC__ && (((__GNUC__ == 3) && (__GNUC_MINOR__ >= 3)) || (__GNUC__ > 3))
-int fnord (void) __attribute__((visibility("default")));
+int fnord () __attribute__((visibility("default")));
 #endif
 
-int fnord (void) { return 42; }
-int main (void)
+int fnord () { return 42; }
+int main ()
 {
   void *self = dlopen (0, LT_DLGLOBAL|LT_DLLAZY_OR_NOW);
   int status = $lt_dlunknown;
@@ -1975,7 +1945,7 @@
     lt_cv_dlopen_self=yes
     ;;
 
-  mingw* | windows* | pw32* | cegcc*)
+  mingw* | pw32* | cegcc*)
     lt_cv_dlopen=LoadLibrary
     lt_cv_dlopen_libs=
     ;;
@@ -2343,7 +2313,7 @@
     *) lt_awk_arg='/^libraries:/' ;;
   esac
   case $host_os in
-    mingw* | windows* | cegcc*) lt_sed_strip_eq='s|=\([[A-Za-z]]:\)|\1|g' ;;
+    mingw* | cegcc*) lt_sed_strip_eq='s|=\([[A-Za-z]]:\)|\1|g' ;;
     *) lt_sed_strip_eq='s|=/|/|g' ;;
   esac
   lt_search_path_spec=`$CC -print-search-dirs | awk $lt_awk_arg | $SED -e "s/^libraries://" -e $lt_sed_strip_eq`
@@ -2401,7 +2371,7 @@
   # AWK program above erroneously prepends '/' to C:/dos/paths
   # for these hosts.
   case $host_os in
-    mingw* | windows* | cegcc*) lt_search_path_spec=`$ECHO "$lt_search_path_spec" |\
+    mingw* | cegcc*) lt_search_path_spec=`$ECHO "$lt_search_path_spec" |\
       $SED 's|/\([[A-Za-z]]:\)|\1|g'` ;;
   esac
   sys_lib_search_path_spec=`$ECHO "$lt_search_path_spec" | $lt_NL2SP`
@@ -2476,7 +2446,7 @@
     # Unfortunately, runtime linking may impact performance, so we do
     # not want this to be the default eventually. Also, we use the
     # versioned .so libs for executables only if there is the -brtl
-    # linker flag in LDFLAGS as well, or --enable-aix-soname=svr4 only.
+    # linker flag in LDFLAGS as well, or --with-aix-soname=svr4 only.
     # To allow for filename-based versioning support, we need to create
     # libNAME.so.V as an archive file, containing:
     # *) an Import File, referring to the versioned filename of the
@@ -2570,7 +2540,7 @@
   # libtool to hard-code these into programs
   ;;
 
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   version_type=windows
   shrext_cmds=.dll
   need_version=no
@@ -2581,29 +2551,15 @@
     # gcc
     library_names_spec='$libname.dll.a'
     # DLL is installed to $(libdir)/../bin by postinstall_cmds
-    # If user builds GCC with multilib enabled,
-    # it should just install on $(libdir)
-    # not on $(libdir)/../bin or 32 bits dlls would override 64 bit ones.
-    if test xyes = x"$multilib"; then
-      postinstall_cmds='base_file=`basename \$file`~
-        dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
-        dldir=$destdir/`dirname \$dlpath`~
-        $install_prog $dir/$dlname $destdir/$dlname~
-        chmod a+x $destdir/$dlname~
-        if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
-          eval '\''$striplib $destdir/$dlname'\'' || exit \$?;
-        fi'
-    else
-      postinstall_cmds='base_file=`basename \$file`~
-        dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
-        dldir=$destdir/`dirname \$dlpath`~
-        test -d \$dldir || mkdir -p \$dldir~
-        $install_prog $dir/$dlname \$dldir/$dlname~
-        chmod a+x \$dldir/$dlname~
-        if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
-          eval '\''$striplib \$dldir/$dlname'\'' || exit \$?;
-        fi'
-    fi
+    postinstall_cmds='base_file=`basename \$file`~
+      dlpath=`$SHELL 2>&1 -c '\''. $dir/'\''\$base_file'\''i; echo \$dlname'\''`~
+      dldir=$destdir/`dirname \$dlpath`~
+      test -d \$dldir || mkdir -p \$dldir~
+      $install_prog $dir/$dlname \$dldir/$dlname~
+      chmod a+x \$dldir/$dlname~
+      if test -n '\''$stripme'\'' && test -n '\''$striplib'\''; then
+        eval '\''$striplib \$dldir/$dlname'\'' || exit \$?;
+      fi'
     postuninstall_cmds='dldll=`$SHELL 2>&1 -c '\''. $file; echo \$dlname'\''`~
       dlpath=$dir/\$dldll~
        $RM \$dlpath'
@@ -2616,7 +2572,7 @@
 m4_if([$1], [],[
       sys_lib_search_path_spec="$sys_lib_search_path_spec /usr/lib/w32api"])
       ;;
-    mingw* | windows* | cegcc*)
+    mingw* | cegcc*)
       # MinGW DLLs use traditional 'lib' prefix
       soname_spec='$libname`echo $release | $SED -e 's/[[.]]/-/g'`$versuffix$shared_ext'
       ;;
@@ -2635,7 +2591,7 @@
     library_names_spec='$libname.dll.lib'
 
     case $build_os in
-    mingw* | windows*)
+    mingw*)
       sys_lib_search_path_spec=
       lt_save_ifs=$IFS
       IFS=';'
@@ -2742,21 +2698,7 @@
       need_version=yes
       ;;
   esac
-  case $host_cpu in
-    powerpc64)
-      # On FreeBSD bi-arch platforms, a different variable is used for 32-bit
-      # binaries.  See <https://man.freebsd.org/cgi/man.cgi?query=ld.so>.
-      AC_COMPILE_IFELSE(
-        [AC_LANG_SOURCE(
-           [[int test_pointer_size[sizeof (void *) - 5];
-           ]])],
-        [shlibpath_var=LD_LIBRARY_PATH],
-        [shlibpath_var=LD_32_LIBRARY_PATH])
-      ;;
-    *)
-      shlibpath_var=LD_LIBRARY_PATH
-      ;;
-  esac
+  shlibpath_var=LD_LIBRARY_PATH
   case $host_os in
   freebsd2.*)
     shlibpath_overrides_runpath=yes
@@ -2786,9 +2728,8 @@
   soname_spec='$libname$release$shared_ext$major'
   shlibpath_var=LIBRARY_PATH
   shlibpath_overrides_runpath=no
-  sys_lib_search_path_spec='/boot/system/non-packaged/develop/lib /boot/system/develop/lib'
-  sys_lib_dlsearch_path_spec='/boot/home/config/non-packaged/lib /boot/home/config/lib /boot/system/non-packaged/lib /boot/system/lib'
-  hardcode_into_libs=no
+  sys_lib_dlsearch_path_spec='/boot/home/config/lib /boot/common/lib /boot/system/lib'
+  hardcode_into_libs=yes
   ;;
 
 hpux9* | hpux10* | hpux11*)
@@ -2898,7 +2839,7 @@
   version_type=none # Android doesn't support versioned libraries.
   need_lib_prefix=no
   need_version=no
-  library_names_spec='$libname$release$shared_ext $libname$shared_ext'
+  library_names_spec='$libname$release$shared_ext'
   soname_spec='$libname$release$shared_ext'
   finish_cmds=
   shlibpath_var=LD_LIBRARY_PATH
@@ -2910,9 +2851,8 @@
   hardcode_into_libs=yes
 
   dynamic_linker='Android linker'
-  # -rpath works at least for libraries that are not overridden by
-  # libraries installed in system locations.
-  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='$wl-rpath $wl$libdir'
+  # Don't embed -rpath directories since the linker doesn't support them.
+  _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
   ;;
 
 # This must be glibc/ELF.
@@ -2946,7 +2886,7 @@
   # before this can be enabled.
   hardcode_into_libs=yes
 
-  # Ideally, we could use ldconfig to report *all* directories which are
+  # Ideally, we could use ldconfig to report *all* directores which are
   # searched for libraries, however this is still not possible.  Aside from not
   # being certain /sbin/ldconfig is available, command
   # 'ldconfig -N -X -v | grep ^/' on 64bit Fedora does not report /usr/lib64,
@@ -2970,8 +2910,8 @@
   version_type=linux
   need_lib_prefix=no
   need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
+  library_names_spec='${libname}${release}${shared_ext}$versuffix ${libname}${release}${shared_ext}$major ${libname}${shared_ext}'
+  soname_spec='${libname}${release}${shared_ext}$major'
   shlibpath_var=LD_LIBRARY_PATH
   shlibpath_overrides_runpath=no
   hardcode_into_libs=yes
@@ -2996,18 +2936,6 @@
   hardcode_into_libs=yes
   ;;
 
-*-mlibc)
-  version_type=linux # correct to gnu/linux during the next big refactor
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
-  dynamic_linker='mlibc ld.so'
-  shlibpath_var=LD_LIBRARY_PATH
-  shlibpath_overrides_runpath=no
-  hardcode_into_libs=yes
-  ;;
-
 newsos6)
   version_type=linux # correct to gnu/linux during the next big refactor
   library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
@@ -3027,7 +2955,7 @@
   dynamic_linker='ldqnx.so'
   ;;
 
-openbsd*)
+openbsd* | bitrig*)
   version_type=sunos
   sys_lib_dlsearch_path_spec=/usr/lib
   need_lib_prefix=no
@@ -3087,17 +3015,6 @@
   dynamic_linker=no
   ;;
 
-serenity*)
-  version_type=linux # correct to gnu/linux during the next big refactor
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext$versuffix $libname$release$shared_ext$major $libname$shared_ext'
-  soname_spec='$libname$release$shared_ext$major'
-  shlibpath_var=LD_LIBRARY_PATH
-  shlibpath_overrides_runpath=no
-  dynamic_linker='SerenityOS LibELF'
-  ;;
-
 solaris*)
   version_type=linux # correct to gnu/linux during the next big refactor
   need_lib_prefix=no
@@ -3195,21 +3112,6 @@
   shlibpath_var=LD_LIBRARY_PATH
   ;;
 
-emscripten*)
-  version_type=none
-  need_lib_prefix=no
-  need_version=no
-  library_names_spec='$libname$release$shared_ext'
-  soname_spec='$libname$release$shared_ext'
-  finish_cmds=
-  dynamic_linker="Emscripten linker"
-  _LT_COMPILER_PIC($1)='-fPIC'
-  _LT_TAGVAR(archive_cmds, $1)='$CC -sSIDE_MODULE=2 -shared $libobjs $deplibs $compiler_flags -o $lib'
-  _LT_TAGVAR(archive_expsym_cmds, $1)='$SED "s|^|_|" $export_symbols >$output_objdir/$soname.expsym~$CC -sSIDE_MODULE=2 -shared $libobjs $deplibs $compiler_flags -o $lib -s EXPORTED_FUNCTIONS=@$output_objdir/$soname.expsym'
-  _LT_TAGVAR(archive_cmds_need_lc, $1)=no
-  _LT_TAGVAR(no_undefined_flag, $1)=
-  ;;
-
 *)
   dynamic_linker=no
   ;;
@@ -3385,7 +3287,7 @@
   # Check if gcc -print-prog-name=ld gives a path.
   AC_MSG_CHECKING([for ld used by $CC])
   case $host in
-  *-*-mingw* | *-*-windows*)
+  *-*-mingw*)
     # gcc leaves a trailing carriage return, which upsets mingw
     ac_prog=`($CC -print-prog-name=ld) 2>&5 | tr -d '\015'` ;;
   *)
@@ -3494,7 +3396,7 @@
 esac
 reload_cmds='$LD$reload_flag -o $output$reload_objs'
 case $host_os in
-  cygwin* | mingw* | windows* | pw32* | cegcc*)
+  cygwin* | mingw* | pw32* | cegcc*)
     if test yes != "$GCC"; then
       reload_cmds=false
     fi
@@ -3566,6 +3468,7 @@
 # 'none' -- dependencies not supported.
 # 'unknown' -- same as none, but documents that we really don't know.
 # 'pass_all' -- all dependencies passed with no checks.
+# 'test_compile' -- check by making test program.
 # 'file_magic [[regex]]' -- check by looking for files in library path
 # that responds to the $file_magic_cmd with a given extended regex.
 # If you have 'file' or equivalent on your system and you're not sure
@@ -3592,7 +3495,7 @@
   lt_cv_file_magic_cmd='func_win32_libid'
   ;;
 
-mingw* | windows* | pw32*)
+mingw* | pw32*)
   # Base MSYS/MinGW do not provide the 'file' command needed by
   # func_win32_libid shell function, so use a weaker test based on 'objdump',
   # unless we find 'file', for example because we are cross-compiling.
@@ -3601,7 +3504,7 @@
     lt_cv_file_magic_cmd='func_win32_libid'
   else
     # Keep this pattern in sync with the one in func_win32_libid.
-    lt_cv_deplibs_check_method='file_magic file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64|pe-aarch64)'
+    lt_cv_deplibs_check_method='file_magic file format (pei*-i386(.*architecture: i386)?|pe-arm-wince|pe-x86-64)'
     lt_cv_file_magic_cmd='$OBJDUMP -f'
   fi
   ;;
@@ -3674,10 +3577,6 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-*-mlibc)
-  lt_cv_deplibs_check_method=pass_all
-  ;;
-
 netbsd* | netbsdelf*-gnu)
   if echo __ELF__ | $CC -E - | $GREP __ELF__ > /dev/null; then
     lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so\.[[0-9]]+\.[[0-9]]+|_pic\.a)$'
@@ -3696,7 +3595,7 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-openbsd*)
+openbsd* | bitrig*)
   if test -z "`echo __ELF__ | $CC -E - | $GREP __ELF__`"; then
     lt_cv_deplibs_check_method='match_pattern /lib[[^/]]+(\.so\.[[0-9]]+\.[[0-9]]+|\.so|_pic\.a)$'
   else
@@ -3712,10 +3611,6 @@
   lt_cv_deplibs_check_method=pass_all
   ;;
 
-serenity*)
-  lt_cv_deplibs_check_method=pass_all
-  ;;
-
 solaris*)
   lt_cv_deplibs_check_method=pass_all
   ;;
@@ -3764,7 +3659,7 @@
 want_nocaseglob=no
 if test "$build" = "$host"; then
   case $host_os in
-  mingw* | windows* | pw32*)
+  mingw* | pw32*)
     if ( shopt | grep nocaseglob ) >/dev/null 2>&1; then
       want_nocaseglob=yes
     else
@@ -3816,7 +3711,7 @@
 	# Tru64's nm complains that /dev/null is an invalid object file
 	# MSYS converts /dev/null to NUL, MinGW nm treats NUL as empty
 	case $build_os in
-	mingw* | windows*) lt_bad_file=conftest.nm/nofile ;;
+	mingw*) lt_bad_file=conftest.nm/nofile ;;
 	*) lt_bad_file=/dev/null ;;
 	esac
 	case `"$tmp_nm" -B $lt_bad_file 2>&1 | $SED '1q'` in
@@ -3907,7 +3802,7 @@
 [lt_cv_sharedlib_from_linklib_cmd='unknown'
 
 case $host_os in
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   # two different shell functions defined in ltmain.sh;
   # decide which one to use based on capabilities of $DLLTOOL
   case `$DLLTOOL --help 2>&1` in
@@ -3939,16 +3834,16 @@
 m4_defun([_LT_PATH_MANIFEST_TOOL],
 [AC_CHECK_TOOL(MANIFEST_TOOL, mt, :)
 test -z "$MANIFEST_TOOL" && MANIFEST_TOOL=mt
-AC_CACHE_CHECK([if $MANIFEST_TOOL is a manifest tool], [lt_cv_path_manifest_tool],
-  [lt_cv_path_manifest_tool=no
+AC_CACHE_CHECK([if $MANIFEST_TOOL is a manifest tool], [lt_cv_path_mainfest_tool],
+  [lt_cv_path_mainfest_tool=no
   echo "$as_me:$LINENO: $MANIFEST_TOOL '-?'" >&AS_MESSAGE_LOG_FD
   $MANIFEST_TOOL '-?' 2>conftest.err > conftest.out
   cat conftest.err >&AS_MESSAGE_LOG_FD
   if $GREP 'Manifest Tool' conftest.out > /dev/null; then
-    lt_cv_path_manifest_tool=yes
+    lt_cv_path_mainfest_tool=yes
   fi
   rm -f conftest*])
-if test yes != "$lt_cv_path_manifest_tool"; then
+if test yes != "$lt_cv_path_mainfest_tool"; then
   MANIFEST_TOOL=:
 fi
 _LT_DECL([], [MANIFEST_TOOL], [1], [Manifest tool])dnl
@@ -3977,7 +3872,7 @@
 [AC_REQUIRE([AC_CANONICAL_HOST])dnl
 LIBM=
 case $host in
-*-*-beos* | *-*-cegcc* | *-*-cygwin* | *-*-haiku* | *-*-mingw* | *-*-pw32* | *-*-darwin*)
+*-*-beos* | *-*-cegcc* | *-*-cygwin* | *-*-haiku* | *-*-pw32* | *-*-darwin*)
   # These system don't have libm, or don't need it
   ;;
 *-ncr-sysv4.3*)
@@ -4052,7 +3947,7 @@
 aix*)
   symcode='[[BCDT]]'
   ;;
-cygwin* | mingw* | windows* | pw32* | cegcc*)
+cygwin* | mingw* | pw32* | cegcc*)
   symcode='[[ABCDGISTW]]'
   ;;
 hpux*)
@@ -4067,7 +3962,7 @@
   symcode='[[BCDEGQRST]]'
   ;;
 solaris*)
-  symcode='[[BCDRT]]'
+  symcode='[[BDRT]]'
   ;;
 sco3.2v5*)
   symcode='[[DT]]'
@@ -4131,7 +4026,7 @@
 # Handle CRLF in mingw tool chain
 opt_cr=
 case $build_os in
-mingw* | windows*)
+mingw*)
   opt_cr=`$ECHO 'x\{0,1\}' | tr x '\015'` # option cr in regexp
   ;;
 esac
@@ -4182,7 +4077,7 @@
 #ifdef __cplusplus
 }
 #endif
-int main(void){nm_test_var='a';nm_test_func();return(0);}
+int main(){nm_test_var='a';nm_test_func();return(0);}
 _LT_EOF
 
   if AC_TRY_EVAL(ac_compile); then
@@ -4359,7 +4254,7 @@
     beos* | irix5* | irix6* | nonstopux* | osf3* | osf4* | osf5*)
       # PIC is the default for these OSes.
       ;;
-    mingw* | windows* | cygwin* | os2* | pw32* | cegcc*)
+    mingw* | cygwin* | os2* | pw32* | cegcc*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
@@ -4435,7 +4330,7 @@
 	  ;;
 	esac
 	;;
-      mingw* | windows* | cygwin* | os2* | pw32* | cegcc*)
+      mingw* | cygwin* | os2* | pw32* | cegcc*)
 	# This hack is so that the source file can tell whether it is being
 	# built for inclusion in a dll (and should export symbols for example).
 	m4_if([$1], [GCJ], [],
@@ -4563,8 +4458,6 @@
 	;;
       netbsd* | netbsdelf*-gnu)
 	;;
-      *-mlibc)
-	;;
       *qnx* | *nto*)
         # QNX uses GNU C++, but need to define -shared option too, otherwise
         # it will coredump.
@@ -4593,8 +4486,6 @@
 	;;
       psos*)
 	;;
-      serenity*)
-        ;;
       solaris*)
 	case $cc_basename in
 	  CC* | sunCC*)
@@ -4687,7 +4578,7 @@
       # PIC is the default for these OSes.
       ;;
 
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
+    mingw* | cygwin* | pw32* | os2* | cegcc*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       # Although the cygwin gcc ignores -fPIC, still need this for old-style
@@ -4791,7 +4682,7 @@
       esac
       ;;
 
-    mingw* | windows* | cygwin* | pw32* | os2* | cegcc*)
+    mingw* | cygwin* | pw32* | os2* | cegcc*)
       # This hack is so that the source file can tell whether it is being
       # built for inclusion in a dll (and should export symbols for example).
       m4_if([$1], [GCJ], [],
@@ -4833,8 +4724,8 @@
 	_LT_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
 	_LT_TAGVAR(lt_prog_compiler_static, $1)='-static'
         ;;
-      *flang* | ftn | f18* | f95*)
-        # Flang compiler.
+      # flang / f18. f95 an alias for gfortran or flang on Debian
+      flang* | f18* | f95*)
 	_LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
 	_LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
 	_LT_TAGVAR(lt_prog_compiler_static, $1)='-static'
@@ -4921,12 +4812,6 @@
       _LT_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
       ;;
 
-    *-mlibc)
-      _LT_TAGVAR(lt_prog_compiler_wl, $1)='-Wl,'
-      _LT_TAGVAR(lt_prog_compiler_pic, $1)='-fPIC'
-      _LT_TAGVAR(lt_prog_compiler_static, $1)='-static'
-      ;;
-
     *nto* | *qnx*)
       # QNX uses GNU C++, but need to define -shared option too, otherwise
       # it will coredump.
@@ -4943,9 +4828,6 @@
       _LT_TAGVAR(lt_prog_compiler_static, $1)='-non_shared'
       ;;
 
-    serenity*)
-      ;;
-
     solaris*)
       _LT_TAGVAR(lt_prog_compiler_pic, $1)='-KPIC'
       _LT_TAGVAR(lt_prog_compiler_static, $1)='-Bstatic'
@@ -5081,7 +4963,7 @@
   pw32*)
     _LT_TAGVAR(export_symbols_cmds, $1)=$ltdll_cmds
     ;;
-  cygwin* | mingw* | windows* | cegcc*)
+  cygwin* | mingw* | cegcc*)
     case $cc_basename in
     cl* | icl*)
       _LT_TAGVAR(exclude_expsyms, $1)='_NULL_IMPORT_DESCRIPTOR|_IMPORT_DESCRIPTOR_.*'
@@ -5092,6 +4974,9 @@
       ;;
     esac
     ;;
+  linux* | k*bsd*-gnu | gnu*)
+    _LT_TAGVAR(link_all_deplibs, $1)=no
+    ;;
   *)
     _LT_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED '\''s/.* //'\'' | sort | uniq > $export_symbols'
     ;;
@@ -5139,7 +5024,7 @@
   extract_expsyms_cmds=
 
   case $host_os in
-  cygwin* | mingw* | windows* | pw32* | cegcc*)
+  cygwin* | mingw* | pw32* | cegcc*)
     # FIXME: the MSVC++ and ICC port hasn't been tested in a loooong time
     # When not using gcc, we currently assume that we are using
     # Microsoft Visual C++ or Intel C++ Compiler.
@@ -5151,6 +5036,12 @@
     # we just hope/assume this is gcc and not c89 (= MSVC++ or ICC)
     with_gnu_ld=yes
     ;;
+  openbsd* | bitrig*)
+    with_gnu_ld=no
+    ;;
+  linux* | k*bsd*-gnu | gnu*)
+    _LT_TAGVAR(link_all_deplibs, $1)=no
+    ;;
   esac
 
   _LT_TAGVAR(ld_shlibs, $1)=yes
@@ -5251,7 +5142,7 @@
       fi
       ;;
 
-    cygwin* | mingw* | windows* | pw32* | cegcc*)
+    cygwin* | mingw* | pw32* | cegcc*)
       # _LT_TAGVAR(hardcode_libdir_flag_spec, $1) is actually meaningless,
       # as there is no search path for DLLs.
       _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='-L$libdir'
@@ -5261,7 +5152,6 @@
       _LT_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
       _LT_TAGVAR(export_symbols_cmds, $1)='$NM $libobjs $convenience | $global_symbol_pipe | $SED -e '\''/^[[BCDGRS]][[ ]]/s/.*[[ ]]\([[^ ]]*\)/\1 DATA/;s/^.*[[ ]]__nm__\([[^ ]]*\)[[ ]][[^ ]]*/\1 DATA/;/^I[[ ]]/d;/^[[AITW]][[ ]]/s/.* //'\'' | sort | uniq > $export_symbols'
       _LT_TAGVAR(exclude_expsyms, $1)=['[_]+GLOBAL_OFFSET_TABLE_|[_]+GLOBAL__[FID]_.*|[_]+head_[A-Za-z0-9_]+_dll|[A-Za-z0-9_]+_dll_iname']
-      _LT_TAGVAR(file_list_spec, $1)='@'
 
       if $LD --help 2>&1 | $GREP 'auto-import' > /dev/null; then
         _LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -o $output_objdir/$soname $wl--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
@@ -5281,7 +5171,7 @@
 
     haiku*)
       _LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags $wl-soname $wl$soname -o $lib'
-      _LT_TAGVAR(link_all_deplibs, $1)=no
+      _LT_TAGVAR(link_all_deplibs, $1)=yes
       ;;
 
     os2*)
@@ -5308,7 +5198,7 @@
 	cat $export_symbols | $prefix_cmds >> $output_objdir/$libname.def~
 	$CC -Zdll -Zcrtdll -o $output_objdir/$soname $libobjs $deplibs $compiler_flags $output_objdir/$libname.def~
 	emximp -o $lib $output_objdir/$libname.def'
-      _LT_TAGVAR(old_archive_from_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
+      _LT_TAGVAR(old_archive_From_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
       _LT_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
       _LT_TAGVAR(file_list_spec, $1)='@'
       ;;
@@ -5408,11 +5298,6 @@
       fi
       ;;
 
-    *-mlibc)
-	_LT_TAGVAR(archive_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname -o $lib'
-	_LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname $wl-retain-symbols-file $wl$export_symbols -o $lib'
-      ;;
-
     netbsd* | netbsdelf*-gnu)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	_LT_TAGVAR(archive_cmds, $1)='$LD -Bshareable $libobjs $deplibs $linker_flags -o $lib'
@@ -5715,7 +5600,7 @@
       _LT_TAGVAR(export_dynamic_flag_spec, $1)=-rdynamic
       ;;
 
-    cygwin* | mingw* | windows* | pw32* | cegcc*)
+    cygwin* | mingw* | pw32* | cegcc*)
       # When not using gcc, we currently assume that we are using
       # Microsoft Visual C++ or Intel C++ Compiler.
       # hardcode_libdir_flag_spec is actually meaningless, as there is
@@ -5732,14 +5617,14 @@
 	# Tell ltmain to make .dll files, not .so files.
 	shrext_cmds=.dll
 	# FIXME: Setting linknames here is a bad hack.
-	_LT_TAGVAR(archive_cmds, $1)='$CC -Fe$output_objdir/$soname $libobjs $compiler_flags $deplibs -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~linknames='
+	_LT_TAGVAR(archive_cmds, $1)='$CC -o $output_objdir/$soname $libobjs $compiler_flags $deplibs -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~linknames='
 	_LT_TAGVAR(archive_expsym_cmds, $1)='if _LT_DLL_DEF_P([$export_symbols]); then
             cp "$export_symbols" "$output_objdir/$soname.def";
             echo "$tool_output_objdir$soname.def" > "$output_objdir/$soname.exp";
           else
             $SED -e '\''s/^/-link -EXPORT:/'\'' < $export_symbols > $output_objdir/$soname.exp;
           fi~
-          $CC -Fe$tool_output_objdir$soname $libobjs $compiler_flags $deplibs "@$tool_output_objdir$soname.exp" -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~
+          $CC -o $tool_output_objdir$soname $libobjs $compiler_flags $deplibs "@$tool_output_objdir$soname.exp" -Wl,-DLL,-IMPLIB:"$tool_output_objdir$libname.dll.lib"~
           linknames='
 	# The linker will not automatically build a static lib if we build a DLL.
 	# _LT_TAGVAR(old_archive_from_new_cmds, $1)='true'
@@ -5934,6 +5819,7 @@
 	if test yes = "$lt_cv_irix_exported_symbol"; then
           _LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $pic_flag $libobjs $deplibs $compiler_flags $wl-soname $wl$soname `test -n "$verstring" && func_echo_all "$wl-set_version $wl$verstring"` $wl-update_registry $wl$output_objdir/so_locations $wl-exports_file $wl$export_symbols -o $lib'
 	fi
+	_LT_TAGVAR(link_all_deplibs, $1)=no
       else
 	_LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -o $lib'
 	_LT_TAGVAR(archive_expsym_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags -soname $soname `test -n "$verstring" && func_echo_all "-set_version $verstring"` -update_registry $output_objdir/so_locations -exports_file $export_symbols -o $lib'
@@ -5956,9 +5842,6 @@
       esac
       ;;
 
-    *-mlibc)
-      ;;
-
     netbsd* | netbsdelf*-gnu)
       if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	_LT_TAGVAR(archive_cmds, $1)='$LD -Bshareable -o $lib $libobjs $deplibs $linker_flags'  # a.out
@@ -5981,7 +5864,7 @@
     *nto* | *qnx*)
       ;;
 
-    openbsd*)
+    openbsd* | bitrig*)
       if test -f /usr/libexec/ld.so; then
 	_LT_TAGVAR(hardcode_direct, $1)=yes
 	_LT_TAGVAR(hardcode_shlibpath_var, $1)=no
@@ -6024,7 +5907,7 @@
 	cat $export_symbols | $prefix_cmds >> $output_objdir/$libname.def~
 	$CC -Zdll -Zcrtdll -o $output_objdir/$soname $libobjs $deplibs $compiler_flags $output_objdir/$libname.def~
 	emximp -o $lib $output_objdir/$libname.def'
-      _LT_TAGVAR(old_archive_from_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
+      _LT_TAGVAR(old_archive_From_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
       _LT_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
       _LT_TAGVAR(file_list_spec, $1)='@'
       ;;
@@ -6060,9 +5943,6 @@
       _LT_TAGVAR(hardcode_libdir_separator, $1)=:
       ;;
 
-    serenity*)
-      ;;
-
     solaris*)
       _LT_TAGVAR(no_undefined_flag, $1)=' -z defs'
       if test yes = "$GCC"; then
@@ -6321,7 +6201,7 @@
 _LT_TAGDECL([], [hardcode_direct_absolute], [0],
     [Set to "yes" if using DIR/libNAME$shared_ext during linking hardcodes
     DIR into the resulting binary and the resulting library dependency is
-    "absolute", i.e. impossible to change by setting $shlibpath_var if the
+    "absolute", i.e impossible to change by setting $shlibpath_var if the
     library is relocated])
 _LT_TAGDECL([], [hardcode_minus_L], [0],
     [Set to "yes" if using the -LDIR flag during linking hardcodes DIR
@@ -6379,7 +6259,7 @@
 lt_simple_compile_test_code="int some_variable = 0;"
 
 # Code to be used in simple link tests
-lt_simple_link_test_code='int main(void){return(0);}'
+lt_simple_link_test_code='int main(){return(0);}'
 
 _LT_TAG_COMPILER
 # Save the default compiler, since it gets overwritten when the other
@@ -6568,7 +6448,8 @@
         wlarc='$wl'
 
         # ancient GNU ld didn't support --whole-archive et. al.
-        if $LD --help 2>&1 | $GREP 'no-whole-archive' > /dev/null; then
+        if eval "`$CC -print-prog-name=ld` --help 2>&1" |
+	  $GREP 'no-whole-archive' > /dev/null; then
           _LT_TAGVAR(whole_archive_flag_spec, $1)=$wlarc'--whole-archive$convenience '$wlarc'--no-whole-archive'
         else
           _LT_TAGVAR(whole_archive_flag_spec, $1)=
@@ -6588,7 +6469,7 @@
       # Commands to make compiler produce verbose output that lists
       # what "hidden" libraries, object files and flags are used when
       # linking a shared library.
-      output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " [[-]]L"'
+      output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " \-L"'
 
     else
       GXX=no
@@ -6797,7 +6678,7 @@
         esac
         ;;
 
-      cygwin* | mingw* | windows* | pw32* | cegcc*)
+      cygwin* | mingw* | pw32* | cegcc*)
 	case $GXX,$cc_basename in
 	,cl* | no,cl* | ,icl* | no,icl*)
 	  # Native MSVC or ICC
@@ -6850,7 +6731,6 @@
 	  _LT_TAGVAR(allow_undefined_flag, $1)=unsupported
 	  _LT_TAGVAR(always_export_symbols, $1)=no
 	  _LT_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
-	  _LT_TAGVAR(file_list_spec, $1)='@'
 
 	  if $LD --help 2>&1 | $GREP 'auto-import' > /dev/null; then
 	    _LT_TAGVAR(archive_cmds, $1)='$CC -shared -nostdlib $predep_objects $libobjs $deplibs $postdep_objects $compiler_flags -o $output_objdir/$soname $wl--enable-auto-image-base -Xlinker --out-implib -Xlinker $lib'
@@ -6897,7 +6777,7 @@
 	  cat $export_symbols | $prefix_cmds >> $output_objdir/$libname.def~
 	  $CC -Zdll -Zcrtdll -o $output_objdir/$soname $libobjs $deplibs $compiler_flags $output_objdir/$libname.def~
 	  emximp -o $lib $output_objdir/$libname.def'
-	_LT_TAGVAR(old_archive_from_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
+	_LT_TAGVAR(old_archive_From_new_cmds, $1)='emximp -o $output_objdir/${libname}_dll.a $output_objdir/$libname.def'
 	_LT_TAGVAR(enable_shared_with_static_runtimes, $1)=yes
 	_LT_TAGVAR(file_list_spec, $1)='@'
 	;;
@@ -6938,7 +6818,7 @@
 
       haiku*)
         _LT_TAGVAR(archive_cmds, $1)='$CC -shared $libobjs $deplibs $compiler_flags $wl-soname $wl$soname -o $lib'
-        _LT_TAGVAR(link_all_deplibs, $1)=no
+        _LT_TAGVAR(link_all_deplibs, $1)=yes
         ;;
 
       hpux9*)
@@ -6965,7 +6845,7 @@
             # explicitly linking system object files so we need to strip them
             # from the output so that they don't get included in the library
             # dependencies.
-            output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2>&1) | $EGREP "[[-]]L"`; list= ; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; func_echo_all "$list"'
+            output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2>&1) | $EGREP " \-L"`; list= ; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; func_echo_all "$list"'
             ;;
           *)
             if test yes = "$GXX"; then
@@ -7030,7 +6910,7 @@
 	    # explicitly linking system object files so we need to strip them
 	    # from the output so that they don't get included in the library
 	    # dependencies.
-	    output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2>&1) | $GREP " [[-]]L"`; list= ; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; func_echo_all "$list"'
+	    output_verbose_link_cmd='templist=`($CC -b $CFLAGS -v conftest.$objext 2>&1) | $GREP " \-L"`; list= ; for z in $templist; do case $z in conftest.$objext) list="$list $z";; *.$objext);; *) list="$list $z";;esac; done; func_echo_all "$list"'
 	    ;;
           *)
 	    if test yes = "$GXX"; then
@@ -7262,10 +7142,6 @@
 	esac
 	;;
 
-      *-mlibc)
-        _LT_TAGVAR(ld_shlibs, $1)=yes
-	;;
-
       netbsd*)
         if echo __ELF__ | $CC -E - | $GREP __ELF__ >/dev/null; then
 	  _LT_TAGVAR(archive_cmds, $1)='$LD -Bshareable  -o $lib $predep_objects $libobjs $deplibs $postdep_objects $linker_flags'
@@ -7282,7 +7158,7 @@
         _LT_TAGVAR(ld_shlibs, $1)=yes
 	;;
 
-      openbsd*)
+      openbsd* | bitrig*)
 	if test -f /usr/libexec/ld.so; then
 	  _LT_TAGVAR(hardcode_direct, $1)=yes
 	  _LT_TAGVAR(hardcode_shlibpath_var, $1)=no
@@ -7373,7 +7249,7 @@
 	      # Commands to make compiler produce verbose output that lists
 	      # what "hidden" libraries, object files and flags are used when
 	      # linking a shared library.
-	      output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " [[-]]L"'
+	      output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " \-L"'
 
 	    else
 	      # FIXME: insert proper C++ library support
@@ -7388,9 +7264,6 @@
         _LT_TAGVAR(ld_shlibs, $1)=no
         ;;
 
-      serenity*)
-        ;;
-
       sunos4*)
         case $cc_basename in
           CC*)
@@ -7460,7 +7333,7 @@
 	        # Commands to make compiler produce verbose output that lists
 	        # what "hidden" libraries, object files and flags are used when
 	        # linking a shared library.
-	        output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " [[-]]L"'
+	        output_verbose_link_cmd='$CC -shared $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " \-L"'
 	      else
 	        # g++ 2.7 appears to require '-G' NOT '-shared' on this
 	        # platform.
@@ -7471,7 +7344,7 @@
 	        # Commands to make compiler produce verbose output that lists
 	        # what "hidden" libraries, object files and flags are used when
 	        # linking a shared library.
-	        output_verbose_link_cmd='$CC -G $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " [[-]]L"'
+	        output_verbose_link_cmd='$CC -G $CFLAGS -v conftest.$objext 2>&1 | $GREP -v "^Configured with:" | $GREP " \-L"'
 	      fi
 
 	      _LT_TAGVAR(hardcode_libdir_flag_spec, $1)='$wl-R $wl$libdir'
@@ -7709,11 +7582,10 @@
     case $prev$p in
 
     -L* | -R* | -l*)
-       # Some compilers place space between "-{L,R,l}" and the path.
+       # Some compilers place space between "-{L,R}" and the path.
        # Remove the space.
-       if test x-L = x"$p" ||
-          test x-R = x"$p" ||
-          test x-l = x"$p"; then
+       if test x-L = "$p" ||
+          test x-R = "$p"; then
 	 prev=$p
 	 continue
        fi
@@ -8371,7 +8243,7 @@
 # ----------------
 # Check for a file(cmd) program that can be used to detect file type and magic
 m4_defun([_LT_DECL_FILECMD],
-[AC_CHECK_PROG([FILECMD], [file], [file], [:])
+[AC_CHECK_TOOL([FILECMD], [file], [:])
 _LT_DECL([], [FILECMD], [1], [A file(cmd) program that detects file types])
 ])# _LD_DECL_FILECMD
 
@@ -8387,6 +8259,73 @@
 _LT_DECL([], [Xsed], ["\$SED -e 1s/^X//"],
     [Sed that helps us avoid accidentally triggering echo(1) options like -n])
 ])# _LT_DECL_SED
+
+m4_ifndef([AC_PROG_SED], [
+############################################################
+# NOTE: This macro has been submitted for inclusion into   #
+#  GNU Autoconf as AC_PROG_SED.  When it is available in   #
+#  a released version of Autoconf we should remove this    #
+#  macro and use it instead.                               #
+############################################################
+
+m4_defun([AC_PROG_SED],
+[AC_MSG_CHECKING([for a sed that does not truncate output])
+AC_CACHE_VAL(lt_cv_path_SED,
+[# Loop through the user's path and test for sed and gsed.
+# Then use that list of sed's as ones to test for truncation.
+as_save_IFS=$IFS; IFS=$PATH_SEPARATOR
+for as_dir in $PATH
+do
+  IFS=$as_save_IFS
+  test -z "$as_dir" && as_dir=.
+  for lt_ac_prog in sed gsed; do
+    for ac_exec_ext in '' $ac_executable_extensions; do
+      if $as_executable_p "$as_dir/$lt_ac_prog$ac_exec_ext"; then
+        lt_ac_sed_list="$lt_ac_sed_list $as_dir/$lt_ac_prog$ac_exec_ext"
+      fi
+    done
+  done
+done
+IFS=$as_save_IFS
+lt_ac_max=0
+lt_ac_count=0
+# Add /usr/xpg4/bin/sed as it is typically found on Solaris
+# along with /bin/sed that truncates output.
+for lt_ac_sed in $lt_ac_sed_list /usr/xpg4/bin/sed; do
+  test ! -f "$lt_ac_sed" && continue
+  cat /dev/null > conftest.in
+  lt_ac_count=0
+  echo $ECHO_N "0123456789$ECHO_C" >conftest.in
+  # Check for GNU sed and select it if it is found.
+  if "$lt_ac_sed" --version 2>&1 < /dev/null | grep 'GNU' > /dev/null; then
+    lt_cv_path_SED=$lt_ac_sed
+    break
+  fi
+  while true; do
+    cat conftest.in conftest.in >conftest.tmp
+    mv conftest.tmp conftest.in
+    cp conftest.in conftest.nl
+    echo >>conftest.nl
+    $lt_ac_sed -e 's/a$//' < conftest.nl >conftest.out || break
+    cmp -s conftest.out conftest.nl || break
+    # 10000 chars as input seems more than enough
+    test 10 -lt "$lt_ac_count" && break
+    lt_ac_count=`expr $lt_ac_count + 1`
+    if test "$lt_ac_count" -gt "$lt_ac_max"; then
+      lt_ac_max=$lt_ac_count
+      lt_cv_path_SED=$lt_ac_sed
+    fi
+  done
+done
+])
+SED=$lt_cv_path_SED
+AC_SUBST([SED])
+AC_MSG_RESULT([$SED])
+])#AC_PROG_SED
+])#m4_ifndef
+
+# Old name:
+AU_ALIAS([LT_AC_PROG_SED], [AC_PROG_SED])
 dnl aclocal-1.4 backwards compatibility:
 dnl AC_DEFUN([LT_AC_PROG_SED], [])
 
@@ -8433,7 +8372,7 @@
 [case $host in
   *-*-mingw* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_host_file_cmd=func_convert_file_msys_to_w32
         ;;
       *-*-cygwin* )
@@ -8446,7 +8385,7 @@
     ;;
   *-*-cygwin* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_host_file_cmd=func_convert_file_msys_to_cygwin
         ;;
       *-*-cygwin* )
@@ -8472,9 +8411,9 @@
 [#assume ordinary cross tools, or native build.
 lt_cv_to_tool_file_cmd=func_convert_file_noop
 case $host in
-  *-*-mingw* | *-*-windows* )
+  *-*-mingw* )
     case $build in
-      *-*-mingw* | *-*-windows* ) # actually msys
+      *-*-mingw* ) # actually msys
         lt_cv_to_tool_file_cmd=func_convert_file_msys_to_w32
         ;;
     esac
diff -Nur xz-5.8.1/m4/ltoptions.m4 xz-5.8.1-irix/m4/ltoptions.m4
--- xz-5.8.1/m4/ltoptions.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/ltoptions.m4	2025-04-25 14:59:01.346540385 +0000
@@ -1,6 +1,6 @@
 # Helper functions for option handling.                    -*- Autoconf -*-
 #
-#   Copyright (C) 2004-2005, 2007-2009, 2011-2019, 2021-2024 Free
+#   Copyright (C) 2004-2005, 2007-2009, 2011-2019, 2021-2022 Free
 #   Software Foundation, Inc.
 #   Written by Gary V. Vaughan, 2004
 #
@@ -8,7 +8,7 @@
 # unlimited permission to copy and/or distribute it, with or without
 # modifications, as long as this notice is preserved.
 
-# serial 10 ltoptions.m4
+# serial 8 ltoptions.m4
 
 # This is to help aclocal find these macros, as it can't see m4_define.
 AC_DEFUN([LTOPTIONS_VERSION], [m4_if([1])])
@@ -128,7 +128,7 @@
 [enable_win32_dll=yes
 
 case $host in
-*-*-cygwin* | *-*-mingw* | *-*-windows* | *-*-pw32* | *-*-cegcc*)
+*-*-cygwin* | *-*-mingw* | *-*-pw32* | *-*-cegcc*)
   AC_CHECK_TOOL(AS, as, false)
   AC_CHECK_TOOL(DLLTOOL, dlltool, false)
   AC_CHECK_TOOL(OBJDUMP, objdump, false)
@@ -323,39 +323,29 @@
 
 # _LT_WITH_AIX_SONAME([DEFAULT])
 # ----------------------------------
-# implement the --enable-aix-soname configure option, and support the
-# `aix-soname=aix' and `aix-soname=both' and `aix-soname=svr4' LT_INIT options.
-# DEFAULT is either `aix', `both', or `svr4'.  If omitted, it defaults to `aix'.
+# implement the --with-aix-soname flag, and support the `aix-soname=aix'
+# and `aix-soname=both' and `aix-soname=svr4' LT_INIT options. DEFAULT
+# is either `aix', `both' or `svr4'.  If omitted, it defaults to `aix'.
 m4_define([_LT_WITH_AIX_SONAME],
 [m4_define([_LT_WITH_AIX_SONAME_DEFAULT], [m4_if($1, svr4, svr4, m4_if($1, both, both, aix))])dnl
 shared_archive_member_spec=
 case $host,$enable_shared in
 power*-*-aix[[5-9]]*,yes)
   AC_MSG_CHECKING([which variant of shared library versioning to provide])
-  AC_ARG_ENABLE([aix-soname],
-    [AS_HELP_STRING([--enable-aix-soname=aix|svr4|both],
+  AC_ARG_WITH([aix-soname],
+    [AS_HELP_STRING([--with-aix-soname=aix|svr4|both],
       [shared library versioning (aka "SONAME") variant to provide on AIX, @<:@default=]_LT_WITH_AIX_SONAME_DEFAULT[@:>@.])],
-    [case $enableval in
-     aix|svr4|both)
-       ;;
-     *)
-       AC_MSG_ERROR([Unknown argument to --enable-aix-soname])
-       ;;
-     esac
-     lt_cv_with_aix_soname=$enable_aix_soname],
-    [_AC_ENABLE_IF([with], [aix-soname],
-        [case $withval in
-         aix|svr4|both)
-           ;;
-         *)
-           AC_MSG_ERROR([Unknown argument to --with-aix-soname])
-           ;;
-         esac
-         lt_cv_with_aix_soname=$with_aix_soname],
-        [AC_CACHE_VAL([lt_cv_with_aix_soname],
-           [lt_cv_with_aix_soname=]_LT_WITH_AIX_SONAME_DEFAULT)])
-     enable_aix_soname=$lt_cv_with_aix_soname])
-  with_aix_soname=$enable_aix_soname
+    [case $withval in
+    aix|svr4|both)
+      ;;
+    *)
+      AC_MSG_ERROR([Unknown argument to --with-aix-soname])
+      ;;
+    esac
+    lt_cv_with_aix_soname=$with_aix_soname],
+    [AC_CACHE_VAL([lt_cv_with_aix_soname],
+      [lt_cv_with_aix_soname=]_LT_WITH_AIX_SONAME_DEFAULT)
+    with_aix_soname=$lt_cv_with_aix_soname])
   AC_MSG_RESULT([$with_aix_soname])
   if test aix != "$with_aix_soname"; then
     # For the AIX way of multilib, we name the shared archive member
@@ -386,50 +376,30 @@
 
 # _LT_WITH_PIC([MODE])
 # --------------------
-# implement the --enable-pic flag, and support the 'pic-only' and 'no-pic'
+# implement the --with-pic flag, and support the 'pic-only' and 'no-pic'
 # LT_INIT options.
 # MODE is either 'yes' or 'no'.  If omitted, it defaults to 'both'.
 m4_define([_LT_WITH_PIC],
-[AC_ARG_ENABLE([pic],
-    [AS_HELP_STRING([--enable-pic@<:@=PKGS@:>@],
+[AC_ARG_WITH([pic],
+    [AS_HELP_STRING([--with-pic@<:@=PKGS@:>@],
 	[try to use only PIC/non-PIC objects @<:@default=use both@:>@])],
     [lt_p=${PACKAGE-default}
-     case $enableval in
-     yes|no) pic_mode=$enableval ;;
-     *)
-       pic_mode=default
-       # Look at the argument we got.  We use all the common list separators.
-       lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
-       for lt_pkg in $enableval; do
-	 IFS=$lt_save_ifs
-	 if test "X$lt_pkg" = "X$lt_p"; then
-	   pic_mode=yes
-	 fi
-       done
-       IFS=$lt_save_ifs
-       ;;
-     esac],
-    [dnl Continue to support --with-pic and --without-pic, for backward
-     dnl compatibility.
-     _AC_ENABLE_IF([with], [pic],
-	[lt_p=${PACKAGE-default}
-	 case $withval in
-	 yes|no) pic_mode=$withval ;;
-	 *)
-	   pic_mode=default
-	   # Look at the argument we got.  We use all the common list separators.
-	   lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
-	   for lt_pkg in $withval; do
-	     IFS=$lt_save_ifs
-	     if test "X$lt_pkg" = "X$lt_p"; then
-	       pic_mode=yes
-	     fi
-	   done
-	   IFS=$lt_save_ifs
-	   ;;
-	 esac],
-	[pic_mode=m4_default([$1], [default])])]
-    )
+    case $withval in
+    yes|no) pic_mode=$withval ;;
+    *)
+      pic_mode=default
+      # Look at the argument we got.  We use all the common list separators.
+      lt_save_ifs=$IFS; IFS=$IFS$PATH_SEPARATOR,
+      for lt_pkg in $withval; do
+	IFS=$lt_save_ifs
+	if test "X$lt_pkg" = "X$lt_p"; then
+	  pic_mode=yes
+	fi
+      done
+      IFS=$lt_save_ifs
+      ;;
+    esac],
+    [pic_mode=m4_default([$1], [default])])
 
 _LT_DECL([], [pic_mode], [0], [What type of objects to build])dnl
 ])# _LT_WITH_PIC
diff -Nur xz-5.8.1/m4/ltsugar.m4 xz-5.8.1-irix/m4/ltsugar.m4
--- xz-5.8.1/m4/ltsugar.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/ltsugar.m4	2025-04-25 14:59:01.395541380 +0000
@@ -1,6 +1,6 @@
 # ltsugar.m4 -- libtool m4 base layer.                         -*-Autoconf-*-
 #
-# Copyright (C) 2004-2005, 2007-2008, 2011-2019, 2021-2024 Free Software
+# Copyright (C) 2004-2005, 2007-2008, 2011-2019, 2021-2022 Free Software
 # Foundation, Inc.
 # Written by Gary V. Vaughan, 2004
 #
diff -Nur xz-5.8.1/m4/ltversion.m4 xz-5.8.1-irix/m4/ltversion.m4
--- xz-5.8.1/m4/ltversion.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/ltversion.m4	2025-04-25 14:59:01.461542721 +0000
@@ -1,6 +1,6 @@
 # ltversion.m4 -- version numbers			-*- Autoconf -*-
 #
-#   Copyright (C) 2004, 2011-2019, 2021-2024 Free Software Foundation,
+#   Copyright (C) 2004, 2011-2019, 2021-2022 Free Software Foundation,
 #   Inc.
 #   Written by Scott James Remnant, 2004
 #
@@ -10,15 +10,15 @@
 
 # @configure_input@
 
-# serial 4442 ltversion.m4
+# serial 4245 ltversion.m4
 # This file is part of GNU Libtool
 
-m4_define([LT_PACKAGE_VERSION], [2.5.4.1-baa1-dirty])
-m4_define([LT_PACKAGE_REVISION], [2.5.4.1])
+m4_define([LT_PACKAGE_VERSION], [2.4.7])
+m4_define([LT_PACKAGE_REVISION], [2.4.7])
 
 AC_DEFUN([LTVERSION_VERSION],
-[macro_version='2.5.4.1-baa1-dirty'
-macro_revision='2.5.4.1'
+[macro_version='2.4.7'
+macro_revision='2.4.7'
 _LT_DECL(, macro_version, 0, [Which release of libtool.m4 was used?])
 _LT_DECL(, macro_revision, 0)
 ])
diff -Nur xz-5.8.1/m4/lt~obsolete.m4 xz-5.8.1-irix/m4/lt~obsolete.m4
--- xz-5.8.1/m4/lt~obsolete.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/lt~obsolete.m4	2025-04-25 14:59:01.529544103 +0000
@@ -1,6 +1,6 @@
 # lt~obsolete.m4 -- aclocal satisfying obsolete definitions.    -*-Autoconf-*-
 #
-#   Copyright (C) 2004-2005, 2007, 2009, 2011-2019, 2021-2024 Free
+#   Copyright (C) 2004-2005, 2007, 2009, 2011-2019, 2021-2022 Free
 #   Software Foundation, Inc.
 #   Written by Scott James Remnant, 2004.
 #
diff -Nur xz-5.8.1/m4/nls.m4 xz-5.8.1-irix/m4/nls.m4
--- xz-5.8.1/m4/nls.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/nls.m4	2025-04-25 14:59:00.680526853 +0000
@@ -1,6 +1,5 @@
-# nls.m4
-# serial 6 (gettext-0.20.2)
-dnl Copyright (C) 1995-2003, 2005-2006, 2008-2014, 2016, 2019-2024 Free
+# nls.m4 serial 6 (gettext-0.20.2)
+dnl Copyright (C) 1995-2003, 2005-2006, 2008-2014, 2016, 2019-2020 Free
 dnl Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
diff -Nur xz-5.8.1/m4/po.m4 xz-5.8.1-irix/m4/po.m4
--- xz-5.8.1/m4/po.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/po.m4	2025-04-25 14:59:00.714527544 +0000
@@ -1,7 +1,5 @@
-# po.m4
-# serial 33 (gettext-0.23)
-dnl Copyright (C) 1995-2014, 2016, 2018-2022, 2024 Free Software Foundation,
-dnl Inc.
+# po.m4 serial 31 (gettext-0.20.2)
+dnl Copyright (C) 1995-2014, 2016, 2018-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
@@ -17,7 +15,7 @@
 
 dnl Authors:
 dnl   Ulrich Drepper <drepper@cygnus.com>, 1995-2000.
-dnl   Bruno Haible <bruno@clisp.org>, 2000-2024.
+dnl   Bruno Haible <haible@clisp.cons.org>, 2000-2003.
 
 AC_PREREQ([2.60])
 
@@ -32,7 +30,7 @@
 
   dnl Release version of the gettext macros. This is used to ensure that
   dnl the gettext macros and po/Makefile.in.in are in sync.
-  AC_SUBST([GETTEXT_MACRO_VERSION], [0.22])
+  AC_SUBST([GETTEXT_MACRO_VERSION], [0.20])
 
   dnl Perform the following tests also if --disable-nls has been given,
   dnl because they are needed for "make dist" to work.
@@ -181,9 +179,7 @@
                 #      presentlang can be used as a fallback for messages
                 #      which are not translated in the desiredlang catalog).
                 case "$desiredlang" in
-                  "$presentlang" | "$presentlang"_* | "$presentlang".* | "$presentlang"@*)
-                    useit=yes
-                    ;;
+                  "$presentlang"*) useit=yes;;
                 esac
               done
               if test $useit = yes; then
@@ -383,9 +379,7 @@
         #      presentlang can be used as a fallback for messages
         #      which are not translated in the desiredlang catalog).
         case "$desiredlang" in
-          "$presentlang" | "$presentlang"_* | "$presentlang".* | "$presentlang"@*)
-            useit=yes
-            ;;
+          "$presentlang"*) useit=yes;;
         esac
       done
       if test $useit = yes; then
diff -Nur xz-5.8.1/m4/progtest.m4 xz-5.8.1-irix/m4/progtest.m4
--- xz-5.8.1/m4/progtest.m4	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/m4/progtest.m4	2025-04-25 14:59:00.747528214 +0000
@@ -1,6 +1,5 @@
-# progtest.m4
-# serial 10 (gettext-0.23)
-dnl Copyright (C) 1996-2003, 2005, 2008-2024 Free Software Foundation, Inc.
+# progtest.m4 serial 8 (gettext-0.20.2)
+dnl Copyright (C) 1996-2003, 2005, 2008-2020 Free Software Foundation, Inc.
 dnl This file is free software; the Free Software Foundation
 dnl gives unlimited permission to copy and/or distribute it,
 dnl with or without modifications, as long as this notice is preserved.
@@ -17,7 +16,7 @@
 dnl Authors:
 dnl   Ulrich Drepper <drepper@cygnus.com>, 1996.
 
-AC_PREREQ([2.53])
+AC_PREREQ([2.50])
 
 # Search path for a program which passes the given test.
 
@@ -61,9 +60,9 @@
     ac_cv_path_$1="[$]$1" # Let the user override the test with a path.
     ;;
   *)
-    gt_saved_IFS="$IFS"; IFS=$PATH_SEPARATOR
-    for ac_dir in m4_if([$5], , $PATH, [$5]); do
-      IFS="$gt_saved_IFS"
+    ac_save_IFS="$IFS"; IFS=$PATH_SEPARATOR
+    for ac_dir in ifelse([$5], , $PATH, [$5]); do
+      IFS="$ac_save_IFS"
       test -z "$ac_dir" && ac_dir=.
       for ac_exec_ext in '' $ac_executable_extensions; do
         if $ac_executable_p "$ac_dir/$ac_word$ac_exec_ext"; then
@@ -75,15 +74,15 @@
         fi
       done
     done
-    IFS="$gt_saved_IFS"
+    IFS="$ac_save_IFS"
 dnl If no 4th arg is given, leave the cache variable unset,
 dnl so AC_PATH_PROGS will keep looking.
-m4_if([$4], , , [  test -z "[$]ac_cv_path_$1" && ac_cv_path_$1="$4"
+ifelse([$4], , , [  test -z "[$]ac_cv_path_$1" && ac_cv_path_$1="$4"
 ])dnl
     ;;
 esac])dnl
 $1="$ac_cv_path_$1"
-if test m4_if([$4], , [-n "[$]$1"], ["[$]$1" != "$4"]); then
+if test ifelse([$4], , [-n "[$]$1"], ["[$]$1" != "$4"]); then
   AC_MSG_RESULT([$][$1])
 else
   AC_MSG_RESULT([no])
diff -Nur xz-5.8.1/po/Makefile.in.in xz-5.8.1-irix/po/Makefile.in.in
--- xz-5.8.1/po/Makefile.in.in	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/Makefile.in.in	2025-04-25 14:59:00.774528763 +0000
@@ -1,14 +1,14 @@
 # Makefile for PO directory in any package using GNU gettext.
 # Copyright (C) 1995-2000 Ulrich Drepper <drepper@gnu.ai.mit.edu>
-# Copyright (C) 2000-2024 Free Software Foundation, Inc.
+# Copyright (C) 2000-2020 Free Software Foundation, Inc.
 #
 # Copying and distribution of this file, with or without modification,
 # are permitted in any medium without royalty provided the copyright
 # notice and this notice are preserved.  This file is offered as-is,
 # without any warranty.
 #
-# Origin: gettext-0.23
-GETTEXT_MACRO_VERSION = 0.22
+# Origin: gettext-0.21
+GETTEXT_MACRO_VERSION = 0.20
 
 PACKAGE = @PACKAGE@
 VERSION = @VERSION@
@@ -68,7 +68,7 @@
 GMOFILES = @GMOFILES@
 UPDATEPOFILES = @UPDATEPOFILES@
 DUMMYPOFILES = @DUMMYPOFILES@
-DISTFILES.common = Makefile.in.in remove-potcdate.sed \
+DISTFILES.common = Makefile.in.in remove-potcdate.sin \
 $(DISTFILES.common.extra1) $(DISTFILES.common.extra2) $(DISTFILES.common.extra3)
 DISTFILES = $(DISTFILES.common) Makevars POTFILES.in \
 $(POFILES) $(GMOFILES) \
@@ -94,7 +94,7 @@
 
 
 .SUFFIXES:
-.SUFFIXES: .po .gmo .sed .nop .po-create .po-update
+.SUFFIXES: .po .gmo .sed .sin .nop .po-create .po-update
 
 # The .pot file, stamp-po, .po files, and .gmo files appear in release tarballs.
 # The GNU Coding Standards say in
@@ -113,7 +113,6 @@
 $(GMOFILES): $(srcdir)/$(DOMAIN).pot
 .po.gmo:
 	@lang=`echo $* | sed -e 's,.*/,,'`; \
-	if test "$(PACKAGE)" = "gettext-tools" && test "$(CROSS_COMPILING)" != "yes"; then PATH=`pwd`/../src:$$PATH; fi; \
 	test "$(srcdir)" = . && cdcmd="" || cdcmd="cd $(srcdir) && "; \
 	echo "$${cdcmd}rm -f $${lang}.gmo && $(MSGMERGE) $(MSGMERGE_FOR_MSGFMT_OPTION) -o $${lang}.1po $${lang}.po $(DOMAIN).pot && $(GMSGFMT) -c --statistics --verbose -o $${lang}.gmo $${lang}.1po && rm -f $${lang}.1po"; \
 	cd $(srcdir) && \
@@ -123,6 +122,10 @@
 	mv t-$${lang}.gmo $${lang}.gmo && \
 	rm -f $${lang}.1po
 
+.sin.sed:
+	sed -e '/^#/d' $< > t-$@
+	mv t-$@ $@
+
 
 all-yes: $(srcdir)/stamp-po
 all-no:
@@ -167,7 +170,7 @@
 # The determination of whether the package xyz is a GNU one is based on the
 # heuristic whether some file in the top level directory mentions "GNU xyz".
 # If GNU 'find' is available, we avoid grepping through monster files.
-$(DOMAIN).pot-update: $(POTFILES) $(srcdir)/POTFILES.in
+$(DOMAIN).pot-update: $(POTFILES) $(srcdir)/POTFILES.in remove-potcdate.sed
 	package_gnu="$(PACKAGE_GNU)"; \
 	test -n "$$package_gnu" || { \
 	  if { if (LC_ALL=C find --version) 2>/dev/null | grep GNU >/dev/null; then \
@@ -219,8 +222,8 @@
 	    || exit 1; \
 	  fi; \
 	  if test -f $(srcdir)/$(DOMAIN).pot; then \
-	    sed -f $(srcdir)/remove-potcdate.sed < $(srcdir)/$(DOMAIN).pot > $(DOMAIN).1po && \
-	    sed -f $(srcdir)/remove-potcdate.sed < $(DOMAIN).po > $(DOMAIN).2po && \
+	    sed -f remove-potcdate.sed < $(srcdir)/$(DOMAIN).pot > $(DOMAIN).1po && \
+	    sed -f remove-potcdate.sed < $(DOMAIN).po > $(DOMAIN).2po && \
 	    if cmp $(DOMAIN).1po $(DOMAIN).2po >/dev/null 2>&1; then \
 	      rm -f $(DOMAIN).1po $(DOMAIN).2po $(DOMAIN).po; \
 	    else \
@@ -244,19 +247,16 @@
 	@test -f $(srcdir)/$(DOMAIN).pot || $(MAKE) $(srcdir)/$(DOMAIN).pot
 	@lang=`echo $@ | sed -e 's,.*/,,' -e 's/\.po$$//'`; \
 	if test -f "$(srcdir)/$${lang}.po"; then \
-	  if test "$(PACKAGE)" = "gettext-tools" && test "$(CROSS_COMPILING)" != "yes"; then PATH=`pwd`/../src:$$PATH; fi; \
 	  test "$(srcdir)" = . && cdcmd="" || cdcmd="cd $(srcdir) && "; \
-	  echo "$${cdcmd}$(MSGMERGE_UPDATE) --quiet $(MSGMERGE_OPTIONS) --lang=$${lang} --previous $${lang}.po $(DOMAIN).pot"; \
+	  echo "$${cdcmd}$(MSGMERGE_UPDATE) $(MSGMERGE_OPTIONS) --lang=$${lang} --previous $${lang}.po $(DOMAIN).pot"; \
 	  cd $(srcdir) \
 	    && { case `$(MSGMERGE_UPDATE) --version | sed 1q | sed -e 's,^[^0-9]*,,'` in \
-	           '' | 0.[0-9] | 0.[0-9].* | 0.10 | 0.10.*) \
+	           '' | 0.[0-9] | 0.[0-9].* | 0.1[0-5] | 0.1[0-5].*) \
 	             $(MSGMERGE_UPDATE) $(MSGMERGE_OPTIONS) $${lang}.po $(DOMAIN).pot;; \
-	           0.1[1-5] | 0.1[1-5].*) \
-	             $(MSGMERGE_UPDATE) --quiet $(MSGMERGE_OPTIONS) $${lang}.po $(DOMAIN).pot;; \
 	           0.1[6-7] | 0.1[6-7].*) \
-	             $(MSGMERGE_UPDATE) --quiet $(MSGMERGE_OPTIONS) --previous $${lang}.po $(DOMAIN).pot;; \
+	             $(MSGMERGE_UPDATE) $(MSGMERGE_OPTIONS) --previous $${lang}.po $(DOMAIN).pot;; \
 	           *) \
-	             $(MSGMERGE_UPDATE) --quiet $(MSGMERGE_OPTIONS) --lang=$${lang} --previous $${lang}.po $(DOMAIN).pot;; \
+	             $(MSGMERGE_UPDATE) $(MSGMERGE_OPTIONS) --lang=$${lang} --previous $${lang}.po $(DOMAIN).pot;; \
 	         esac; \
 	       }; \
 	else \
@@ -394,6 +394,7 @@
 install-dvi install-ps install-pdf install-html:
 
 mostlyclean:
+	rm -f remove-potcdate.sed
 	rm -f $(srcdir)/stamp-poT
 	rm -f core core.* $(DOMAIN).po $(DOMAIN).1po $(DOMAIN).2po *.new.po
 	rm -fr *.o
@@ -463,17 +464,15 @@
 	tmpdir=`pwd`; \
 	echo "$$lang:"; \
 	test "$(srcdir)" = . && cdcmd="" || cdcmd="cd $(srcdir) && "; \
-	echo "$${cdcmd}$(MSGMERGE) --quiet $(MSGMERGE_OPTIONS) --lang=$$lang --previous $$lang.po $(DOMAIN).pot -o $$lang.new.po"; \
+	echo "$${cdcmd}$(MSGMERGE) $(MSGMERGE_OPTIONS) --lang=$$lang --previous $$lang.po $(DOMAIN).pot -o $$lang.new.po"; \
 	cd $(srcdir); \
 	if { case `$(MSGMERGE) --version | sed 1q | sed -e 's,^[^0-9]*,,'` in \
-	       '' | 0.[0-9] | 0.[0-9].* | 0.10 | 0.10.*) \
+	       '' | 0.[0-9] | 0.[0-9].* | 0.1[0-5] | 0.1[0-5].*) \
 	         $(MSGMERGE) $(MSGMERGE_OPTIONS) -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
-	       0.1[1-5] | 0.1[1-5].*) \
-	         $(MSGMERGE) --quiet $(MSGMERGE_OPTIONS) -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
 	       0.1[6-7] | 0.1[6-7].*) \
-	         $(MSGMERGE) --quiet $(MSGMERGE_OPTIONS) --previous -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
+	         $(MSGMERGE) $(MSGMERGE_OPTIONS) --previous -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
 	       *) \
-	         $(MSGMERGE) --quiet $(MSGMERGE_OPTIONS) --lang=$$lang --previous -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
+	         $(MSGMERGE) $(MSGMERGE_OPTIONS) --lang=$$lang --previous -o $$tmpdir/$$lang.new.po $$lang.po $(DOMAIN).pot;; \
 	     esac; \
 	   }; then \
 	  if cmp $$lang.po $$tmpdir/$$lang.new.po >/dev/null 2>&1; then \
@@ -509,9 +508,3 @@
 # Tell versions [3.59,3.63) of GNU make not to export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# This Makefile contains rules which don't work with parallel make,
-# namely dist2.
-# See <https://lists.gnu.org/archive/html/bug-gettext/2022-06/msg00022.html>.
-# So, turn off parallel execution in this Makefile.
-.NOTPARALLEL:
diff -Nur xz-5.8.1/po/Makevars.template xz-5.8.1-irix/po/Makevars.template
--- xz-5.8.1/po/Makevars.template	1970-01-01 00:00:00.000000000 +0000
+++ xz-5.8.1-irix/po/Makevars.template	2025-04-25 14:59:00.796529210 +0000
@@ -0,0 +1,82 @@
+# Makefile variables for PO directory in any package using GNU gettext.
+#
+# Copyright (C) 2003-2019 Free Software Foundation, Inc.
+# This file is free software; the Free Software Foundation gives
+# unlimited permission to use, copy, distribute, and modify it.
+
+# Usually the message domain is the same as the package name.
+DOMAIN = $(PACKAGE)
+
+# These two variables depend on the location of this directory.
+subdir = po
+top_builddir = ..
+
+# These options get passed to xgettext.
+XGETTEXT_OPTIONS = --keyword=_ --keyword=N_
+
+# This is the copyright holder that gets inserted into the header of the
+# $(DOMAIN).pot file.  Set this to the copyright holder of the surrounding
+# package.  (Note that the msgstr strings, extracted from the package's
+# sources, belong to the copyright holder of the package.)  Translators are
+# expected to transfer the copyright for their translations to this person
+# or entity, or to disclaim their copyright.  The empty string stands for
+# the public domain; in this case the translators are expected to disclaim
+# their copyright.
+COPYRIGHT_HOLDER = Free Software Foundation, Inc.
+
+# This tells whether or not to prepend "GNU " prefix to the package
+# name that gets inserted into the header of the $(DOMAIN).pot file.
+# Possible values are "yes", "no", or empty.  If it is empty, try to
+# detect it automatically by scanning the files in $(top_srcdir) for
+# "GNU packagename" string.
+PACKAGE_GNU =
+
+# This is the email address or URL to which the translators shall report
+# bugs in the untranslated strings:
+# - Strings which are not entire sentences, see the maintainer guidelines
+#   in the GNU gettext documentation, section 'Preparing Strings'.
+# - Strings which use unclear terms or require additional context to be
+#   understood.
+# - Strings which make invalid assumptions about notation of date, time or
+#   money.
+# - Pluralisation problems.
+# - Incorrect English spelling.
+# - Incorrect formatting.
+# It can be your email address, or a mailing list address where translators
+# can write to without being subscribed, or the URL of a web page through
+# which the translators can contact you.
+MSGID_BUGS_ADDRESS =
+
+# This is the list of locale categories, beyond LC_MESSAGES, for which the
+# message catalogs shall be used.  It is usually empty.
+EXTRA_LOCALE_CATEGORIES =
+
+# This tells whether the $(DOMAIN).pot file contains messages with an 'msgctxt'
+# context.  Possible values are "yes" and "no".  Set this to yes if the
+# package uses functions taking also a message context, like pgettext(), or
+# if in $(XGETTEXT_OPTIONS) you define keywords with a context argument.
+USE_MSGCTXT = no
+
+# These options get passed to msgmerge.
+# Useful options are in particular:
+#   --previous            to keep previous msgids of translated messages,
+#   --quiet               to reduce the verbosity.
+MSGMERGE_OPTIONS =
+
+# These options get passed to msginit.
+# If you want to disable line wrapping when writing PO files, add
+# --no-wrap to MSGMERGE_OPTIONS, XGETTEXT_OPTIONS, and
+# MSGINIT_OPTIONS.
+MSGINIT_OPTIONS =
+
+# This tells whether or not to regenerate a PO file when $(DOMAIN).pot
+# has changed.  Possible values are "yes" and "no".  Set this to no if
+# the POT file is checked in the repository and the version control
+# program ignores timestamps.
+PO_DEPENDS_ON_POT = yes
+
+# This tells whether or not to forcibly update $(DOMAIN).pot and
+# regenerate PO files on "make dist".  Possible values are "yes" and
+# "no".  Set this to no if the POT file and PO files are maintained
+# externally.
+DIST_DEPENDS_ON_UPDATE_PO = yes
diff -Nur xz-5.8.1/po/Rules-quot xz-5.8.1-irix/po/Rules-quot
--- xz-5.8.1/po/Rules-quot	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/Rules-quot	2025-04-25 14:59:00.823529758 +0000
@@ -1,14 +1,11 @@
 # Special Makefile rules for English message catalogs with quotation marks.
 #
-# Copyright (C) 2001-2024 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-# This file is offered as-is, without any warranty.
-#
-# Written by Bruno Haible <bruno@clisp.org>, 2001.
+# Copyright (C) 2001-2017 Free Software Foundation, Inc.
+# This file, Rules-quot, and its auxiliary files (listed under
+# DISTFILES.common.extra1) are free software; the Free Software Foundation
+# gives unlimited permission to use, copy, distribute, and modify them.
 
-DISTFILES.common.extra1 = quot.sed boldquot.sed en@quot.header en@boldquot.header insert-header.sed Rules-quot
+DISTFILES.common.extra1 = quot.sed boldquot.sed en@quot.header en@boldquot.header insert-header.sin Rules-quot
 
 .SUFFIXES: .insert-header .po-update-en
 
@@ -29,8 +26,7 @@
 	LC_ALL=C; export LC_ALL; \
 	cd $(srcdir); \
 	if $(MSGINIT) $(MSGINIT_OPTIONS) -i $(DOMAIN).pot --no-translator -l $$lang -o - 2>/dev/null \
-	   | $(SED) -f $$tmpdir/$$lang.insert-header | $(SED) -e '/^%%/d' \
-	   | $(MSGCONV) -t UTF-8 | \
+	   | $(SED) -f $$tmpdir/$$lang.insert-header | $(MSGCONV) -t UTF-8 | \
 	   { case `$(MSGFILTER) --version | sed 1q | sed -e 's,^[^0-9]*,,'` in \
 	     '' | 0.[0-9] | 0.[0-9].* | 0.1[0-8] | 0.1[0-8].*) \
 	       $(MSGFILTER) $(SED) -f `echo $$lang | sed -e 's/.*@//'`.sed \
@@ -55,11 +51,11 @@
 	  rm -f $$tmpdir/$$lang.new.po; \
 	fi
 
-en@quot.insert-header: insert-header.sed
-	sed -e 's/HEADER/en@quot.header/g' $(srcdir)/insert-header.sed > en@quot.insert-header
+en@quot.insert-header: insert-header.sin
+	sed -e '/^#/d' -e 's/HEADER/en@quot.header/g' $(srcdir)/insert-header.sin > en@quot.insert-header
 
-en@boldquot.insert-header: insert-header.sed
-	sed -e 's/HEADER/en@boldquot.header/g' $(srcdir)/insert-header.sed > en@boldquot.insert-header
+en@boldquot.insert-header: insert-header.sin
+	sed -e '/^#/d' -e 's/HEADER/en@boldquot.header/g' $(srcdir)/insert-header.sin > en@boldquot.insert-header
 
 mostlyclean: mostlyclean-quot
 mostlyclean-quot:
diff -Nur xz-5.8.1/po/boldquot.sed xz-5.8.1-irix/po/boldquot.sed
--- xz-5.8.1/po/boldquot.sed	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/boldquot.sed	2025-04-25 14:59:00.851530328 +0000
@@ -1,14 +1,3 @@
-# Sed script that converts quotations, by replacing ASCII quotation marks
-# with Unicode quotation marks and highlighting the quotations in bold face.
-#
-# Copyright (C) 2001 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-# This file is offered as-is, without any warranty.
-#
-# Written by Bruno Haible <bruno@clisp.org>, 2001.
-#
 s/"\([^"]*\)"/\1/g
 s/`\([^`']*\)'/\1/g
 s/ '\([^`']*\)' / \1 /g
diff -Nur xz-5.8.1/po/en@boldquot.header xz-5.8.1-irix/po/en@boldquot.header
--- xz-5.8.1/po/en@boldquot.header	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/en@boldquot.header	2025-04-25 14:59:00.879530896 +0000
@@ -1,13 +1,3 @@
-%% A header that gets inserted into message catalogs named en@boldquot.po.
-%%
-%% Copyright (C) 2001 Free Software Foundation, Inc.
-%% This file is free software; the Free Software Foundation
-%% gives unlimited permission to copy and/or distribute it,
-%% with or without modifications, as long as this notice is preserved.
-%% This file is offered as-is, without any warranty.
-%%
-%% Written by Bruno Haible <bruno@clisp.org>, 2001.
-%%
 # All this catalog "translates" are quotation characters.
 # The msgids must be ASCII and therefore cannot contain real quotation
 # characters, only substitutes like grave accent (0x60), apostrophe (0x27)
diff -Nur xz-5.8.1/po/en@quot.header xz-5.8.1-irix/po/en@quot.header
--- xz-5.8.1/po/en@quot.header	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/en@quot.header	2025-04-25 14:59:00.907531465 +0000
@@ -1,13 +1,3 @@
-%% A header that gets inserted into message catalogs named en@quot.po.
-%%
-%% Copyright (C) 2001 Free Software Foundation, Inc.
-%% This file is free software; the Free Software Foundation
-%% gives unlimited permission to copy and/or distribute it,
-%% with or without modifications, as long as this notice is preserved.
-%% This file is offered as-is, without any warranty.
-%%
-%% Written by Bruno Haible <bruno@clisp.org>, 2001.
-%%
 # All this catalog "translates" are quotation characters.
 # The msgids must be ASCII and therefore cannot contain real quotation
 # characters, only substitutes like grave accent (0x60), apostrophe (0x27)
diff -Nur xz-5.8.1/po/insert-header.sin xz-5.8.1-irix/po/insert-header.sin
--- xz-5.8.1/po/insert-header.sin	1970-01-01 00:00:00.000000000 +0000
+++ xz-5.8.1-irix/po/insert-header.sin	2025-04-25 14:59:00.929531912 +0000
@@ -0,0 +1,28 @@
+# Sed script that inserts the file called HEADER before the header entry.
+#
+# Copyright (C) 2001 Free Software Foundation, Inc.
+# Written by Bruno Haible <bruno@clisp.org>, 2001.
+# This file is free software; the Free Software Foundation gives
+# unlimited permission to use, copy, distribute, and modify it.
+#
+# At each occurrence of a line starting with "msgid ", we execute the following
+# commands. At the first occurrence, insert the file. At the following
+# occurrences, do nothing. The distinction between the first and the following
+# occurrences is achieved by looking at the hold space.
+/^msgid /{
+x
+# Test if the hold space is empty.
+s/m/m/
+ta
+# Yes it was empty. First occurrence. Read the file.
+r HEADER
+# Output the file's contents by reading the next line. But don't lose the
+# current line while doing this.
+g
+N
+bb
+:a
+# The hold space was nonempty. Following occurrences. Do nothing.
+x
+:b
+}
diff -Nur xz-5.8.1/po/quot.sed xz-5.8.1-irix/po/quot.sed
--- xz-5.8.1/po/quot.sed	2025-04-03 11:35:14.000000000 +0000
+++ xz-5.8.1-irix/po/quot.sed	2025-04-25 14:59:00.957532481 +0000
@@ -1,14 +1,3 @@
-# Sed script that converts quotations, by replacing ASCII quotation marks
-# with Unicode quotation marks.
-#
-# Copyright (C) 2001 Free Software Foundation, Inc.
-# This file is free software; the Free Software Foundation
-# gives unlimited permission to copy and/or distribute it,
-# with or without modifications, as long as this notice is preserved.
-# This file is offered as-is, without any warranty.
-#
-# Written by Bruno Haible <bruno@clisp.org>, 2001.
-#
 s/"\([^"]*\)"/\1/g
 s/`\([^`']*\)'/\1/g
 s/ '\([^`']*\)' / \1 /g
diff -Nur xz-5.8.1/po/remove-potcdate.sin xz-5.8.1-irix/po/remove-potcdate.sin
--- xz-5.8.1/po/remove-potcdate.sin	1970-01-01 00:00:00.000000000 +0000
+++ xz-5.8.1-irix/po/remove-potcdate.sin	2025-04-25 14:59:00.979532928 +0000
@@ -0,0 +1,25 @@
+# Sed script that removes the POT-Creation-Date line in the header entry
+# from a POT file.
+#
+# Copyright (C) 2002 Free Software Foundation, Inc.
+# Copying and distribution of this file, with or without modification,
+# are permitted in any medium without royalty provided the copyright
+# notice and this notice are preserved.  This file is offered as-is,
+# without any warranty.
+#
+# The distinction between the first and the following occurrences of the
+# pattern is achieved by looking at the hold space.
+/^"POT-Creation-Date: .*"$/{
+x
+# Test if the hold space is empty.
+s/P/P/
+ta
+# Yes it was empty. First occurrence. Remove the line.
+g
+d
+bb
+:a
+# The hold space was nonempty. Following occurrences. Do nothing.
+x
+:b
+}
diff -Nur xz-5.8.1/src/Makefile.in xz-5.8.1-irix/src/Makefile.in
--- xz-5.8.1/src/Makefile.in	2025-04-03 11:35:21.000000000 +0000
+++ xz-5.8.1-irix/src/Makefile.in	2025-04-25 14:59:03.090575819 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -69,8 +69,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -95,16 +93,15 @@
 subdir = src
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -308,10 +305,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -338,8 +333,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -613,8 +606,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -706,10 +699,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/common/tuklib_mbstr_wrap.c xz-5.8.1-irix/src/common/tuklib_mbstr_wrap.c
--- xz-5.8.1/src/common/tuklib_mbstr_wrap.c	2025-04-03 11:34:58.000000000 +0000
+++ xz-5.8.1-irix/src/common/tuklib_mbstr_wrap.c	2025-04-25 15:00:39.910543019 +0000
@@ -17,7 +17,7 @@
 #include <stdlib.h>
 #include <stdio.h>
 #include <string.h>
-
+#include "snprintf.h"
 
 extern int
 tuklib_wraps(FILE *outfile, const struct tuklib_wrap_opt *opt, const char *str)
diff -Nur xz-5.8.1/src/liblzma/Makefile.in xz-5.8.1-irix/src/liblzma/Makefile.in
--- xz-5.8.1/src/liblzma/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/liblzma/Makefile.in	2025-04-25 14:59:03.155577139 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -71,8 +71,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -264,16 +262,15 @@
 subdir = src/liblzma
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -309,9 +306,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__installdirs = "$(DESTDIR)$(libdir)" "$(DESTDIR)$(docdir)" \
 	"$(DESTDIR)$(pkgconfigdir)"
@@ -789,10 +787,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -819,8 +815,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -948,13 +942,15 @@
 	done
 
 clean-libLTLIBRARIES:
-	-$(am__rm_f) $(lib_LTLIBRARIES)
+	-test -z "$(lib_LTLIBRARIES)" || rm -f $(lib_LTLIBRARIES)
 	@list='$(lib_LTLIBRARIES)'; \
 	locs=`for p in $$list; do echo $$p; done | \
 	      sed 's|^[^/]*$$|.|; s|/[^/]*$$||; s|$$|/so_locations|' | \
 	      sort -u`; \
-	echo rm -f $${locs}; \
-	$(am__rm_f) $${locs}
+	test -z "$$locs" || { \
+	  echo rm -f $${locs}; \
+	  rm -f $${locs}; \
+	}
 
 liblzma.la: $(liblzma_la_OBJECTS) $(liblzma_la_DEPENDENCIES) $(EXTRA_liblzma_la_DEPENDENCIES) 
 	$(AM_V_CCLD)$(liblzma_la_LINK) -rpath $(libdir) $(liblzma_la_OBJECTS) $(liblzma_la_LIBADD) $(LIBS)
@@ -1051,7 +1047,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -1912,11 +1908,11 @@
 mostlyclean-generic:
 
 clean-generic:
-	-$(am__rm_f) $(CLEANFILES)
+	-test -z "$(CLEANFILES)" || rm -f $(CLEANFILES)
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -1927,7 +1923,7 @@
 	mostlyclean-am
 
 distclean: distclean-recursive
-	-rm -f ./$(DEPDIR)/liblzma_la-alone_decoder.Plo
+		-rm -f ./$(DEPDIR)/liblzma_la-alone_decoder.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-alone_encoder.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-arm.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-arm64.Plo
@@ -2055,7 +2051,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-recursive
-	-rm -f ./$(DEPDIR)/liblzma_la-alone_decoder.Plo
+		-rm -f ./$(DEPDIR)/liblzma_la-alone_decoder.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-alone_encoder.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-arm.Plo
 	-rm -f ./$(DEPDIR)/liblzma_la-arm64.Plo
@@ -2224,10 +2220,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/liblzma/api/Makefile.in xz-5.8.1-irix/src/liblzma/api/Makefile.in
--- xz-5.8.1/src/liblzma/api/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/liblzma/api/Makefile.in	2025-04-25 14:59:03.165577343 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -93,16 +91,15 @@
 subdir = src/liblzma/api
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -158,9 +155,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__installdirs = "$(DESTDIR)$(includedir)"
 HEADERS = $(nobase_include_HEADERS)
@@ -293,10 +291,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -323,8 +319,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -539,8 +533,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -654,10 +648,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/lzmainfo/Makefile.in xz-5.8.1-irix/src/lzmainfo/Makefile.in
--- xz-5.8.1/src/lzmainfo/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/lzmainfo/Makefile.in	2025-04-25 14:59:03.182577688 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -100,16 +98,15 @@
 subdir = src/lzmainfo
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -213,9 +210,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 man1dir = $(mandir)/man1
 NROFF = nroff
@@ -350,10 +348,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -380,8 +376,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -482,11 +476,16 @@
 	`; \
 	test -n "$$list" || exit 0; \
 	echo " ( cd '$(DESTDIR)$(bindir)' && rm -f" $$files ")"; \
-	cd "$(DESTDIR)$(bindir)" && $(am__rm_f) $$files
+	cd "$(DESTDIR)$(bindir)" && rm -f $$files
 
 clean-binPROGRAMS:
-	$(am__rm_f) $(bin_PROGRAMS)
-	test -z "$(EXEEXT)" || $(am__rm_f) $(bin_PROGRAMS:$(EXEEXT)=)
+	@list='$(bin_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 
 lzmainfo$(EXEEXT): $(lzmainfo_OBJECTS) $(lzmainfo_DEPENDENCIES) $(EXTRA_lzmainfo_DEPENDENCIES) 
 	@rm -f lzmainfo$(EXEEXT)
@@ -507,7 +506,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -780,8 +779,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -791,7 +790,7 @@
 clean-am: clean-binPROGRAMS clean-generic clean-libtool mostlyclean-am
 
 distclean: distclean-am
-	-rm -f ./$(DEPDIR)/lzmainfo-lzmainfo.Po
+		-rm -f ./$(DEPDIR)/lzmainfo-lzmainfo.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_exit.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_mbstr_nonprint.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_mbstr_width.Po
@@ -843,7 +842,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f ./$(DEPDIR)/lzmainfo-lzmainfo.Po
+		-rm -f ./$(DEPDIR)/lzmainfo-lzmainfo.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_exit.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_mbstr_nonprint.Po
 	-rm -f ./$(DEPDIR)/lzmainfo-tuklib_mbstr_width.Po
@@ -925,10 +924,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/scripts/Makefile.in xz-5.8.1-irix/src/scripts/Makefile.in
--- xz-5.8.1/src/scripts/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/scripts/Makefile.in	2025-04-25 14:59:03.192577891 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -102,16 +100,15 @@
 subdir = src/scripts
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -147,9 +144,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__installdirs = "$(DESTDIR)$(bindir)" "$(DESTDIR)$(man1dir)"
 SCRIPTS = $(nodist_bin_SCRIPTS)
@@ -290,10 +288,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -320,8 +316,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -537,8 +531,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -702,10 +696,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/xz/Makefile.am xz-5.8.1-irix/src/xz/Makefile.am
--- xz-5.8.1/src/xz/Makefile.am	2025-04-03 11:34:58.000000000 +0000
+++ xz-5.8.1-irix/src/xz/Makefile.am	2025-04-25 15:09:23.649186624 +0000
@@ -52,7 +52,7 @@
 	-I$(top_srcdir)/src/common \
 	-I$(top_srcdir)/src/liblzma/api
 
-xz_LDADD = $(top_builddir)/src/liblzma/liblzma.la
+xz_LDADD = $(top_builddir)/src/liblzma/liblzma.la -lgen
 
 if COND_GNULIB
 xz_CPPFLAGS += \
diff -Nur xz-5.8.1/src/xz/Makefile.in xz-5.8.1-irix/src/xz/Makefile.in
--- xz-5.8.1/src/xz/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/xz/Makefile.in	2025-04-25 15:09:28.851292354 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -105,16 +103,15 @@
 subdir = src/xz
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -235,9 +232,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 man1dir = $(mandir)/man1
 NROFF = nroff
@@ -372,10 +370,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -402,8 +398,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -435,8 +429,8 @@
 	-I$(top_srcdir)/src/liblzma/api $(am__append_3)
 
 # libgnu.a may need these libs, so this must be after libgnu.a.
-xz_LDADD = $(top_builddir)/src/liblzma/liblzma.la $(am__append_4) \
-	$(LTLIBINTL)
+xz_LDADD = $(top_builddir)/src/liblzma/liblzma.la -lgen \
+	$(am__append_4) $(LTLIBINTL)
 dist_man_MANS = xz.1
 xzlinks = unxz xzcat $(am__append_5)
 all: all-am
@@ -511,11 +505,16 @@
 	`; \
 	test -n "$$list" || exit 0; \
 	echo " ( cd '$(DESTDIR)$(bindir)' && rm -f" $$files ")"; \
-	cd "$(DESTDIR)$(bindir)" && $(am__rm_f) $$files
+	cd "$(DESTDIR)$(bindir)" && rm -f $$files
 
 clean-binPROGRAMS:
-	$(am__rm_f) $(bin_PROGRAMS)
-	test -z "$(EXEEXT)" || $(am__rm_f) $(bin_PROGRAMS:$(EXEEXT)=)
+	@list='$(bin_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 
 xz$(EXEEXT): $(xz_OBJECTS) $(xz_DEPENDENCIES) $(EXTRA_xz_DEPENDENCIES) 
 	@rm -f xz$(EXEEXT)
@@ -550,7 +549,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -1019,8 +1018,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -1030,7 +1029,7 @@
 clean-am: clean-binPROGRAMS clean-generic clean-libtool mostlyclean-am
 
 distclean: distclean-am
-	-rm -f ./$(DEPDIR)/xz-args.Po
+		-rm -f ./$(DEPDIR)/xz-args.Po
 	-rm -f ./$(DEPDIR)/xz-coder.Po
 	-rm -f ./$(DEPDIR)/xz-file_io.Po
 	-rm -f ./$(DEPDIR)/xz-hardware.Po
@@ -1097,7 +1096,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f ./$(DEPDIR)/xz-args.Po
+		-rm -f ./$(DEPDIR)/xz-args.Po
 	-rm -f ./$(DEPDIR)/xz-coder.Po
 	-rm -f ./$(DEPDIR)/xz-file_io.Po
 	-rm -f ./$(DEPDIR)/xz-hardware.Po
@@ -1220,10 +1219,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/src/xz/private.h xz-5.8.1-irix/src/xz/private.h
--- xz-5.8.1/src/xz/private.h	2025-04-03 11:34:58.000000000 +0000
+++ xz-5.8.1-irix/src/xz/private.h	2025-04-25 14:58:43.320174137 +0000
@@ -76,6 +76,8 @@
 #include "suffix.h"
 #include "util.h"
 
+#include "snprintf.h"
+
 #ifdef HAVE_DECODERS
 #	include "list.h"
 #endif
diff -Nur xz-5.8.1/src/xzdec/Makefile.in xz-5.8.1-irix/src/xzdec/Makefile.in
--- xz-5.8.1/src/xzdec/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/src/xzdec/Makefile.in	2025-04-25 14:59:03.237578806 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -70,8 +70,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -110,16 +108,15 @@
 subdir = src/xzdec
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -238,9 +235,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 man1dir = $(mandir)/man1
 NROFF = nroff
@@ -375,10 +373,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -405,8 +401,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -512,11 +506,16 @@
 	`; \
 	test -n "$$list" || exit 0; \
 	echo " ( cd '$(DESTDIR)$(bindir)' && rm -f" $$files ")"; \
-	cd "$(DESTDIR)$(bindir)" && $(am__rm_f) $$files
+	cd "$(DESTDIR)$(bindir)" && rm -f $$files
 
 clean-binPROGRAMS:
-	$(am__rm_f) $(bin_PROGRAMS)
-	test -z "$(EXEEXT)" || $(am__rm_f) $(bin_PROGRAMS:$(EXEEXT)=)
+	@list='$(bin_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 
 lzmadec$(EXEEXT): $(lzmadec_OBJECTS) $(lzmadec_DEPENDENCIES) $(EXTRA_lzmadec_DEPENDENCIES) 
 	@rm -f lzmadec$(EXEEXT)
@@ -543,7 +542,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -844,8 +843,8 @@
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -857,7 +856,7 @@
 clean-am: clean-binPROGRAMS clean-generic clean-libtool mostlyclean-am
 
 distclean: distclean-am
-	-rm -f ./$(DEPDIR)/lzmadec-tuklib_exit.Po
+		-rm -f ./$(DEPDIR)/lzmadec-tuklib_exit.Po
 	-rm -f ./$(DEPDIR)/lzmadec-tuklib_mbstr_nonprint.Po
 	-rm -f ./$(DEPDIR)/lzmadec-tuklib_progname.Po
 	-rm -f ./$(DEPDIR)/lzmadec-xzdec.Po
@@ -911,7 +910,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f ./$(DEPDIR)/lzmadec-tuklib_exit.Po
+		-rm -f ./$(DEPDIR)/lzmadec-tuklib_exit.Po
 	-rm -f ./$(DEPDIR)/lzmadec-tuklib_mbstr_nonprint.Po
 	-rm -f ./$(DEPDIR)/lzmadec-tuklib_progname.Po
 	-rm -f ./$(DEPDIR)/lzmadec-xzdec.Po
@@ -1008,10 +1007,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
diff -Nur xz-5.8.1/tests/Makefile.in xz-5.8.1-irix/tests/Makefile.in
--- xz-5.8.1/tests/Makefile.in	2025-04-03 11:35:22.000000000 +0000
+++ xz-5.8.1-irix/tests/Makefile.in	2025-04-25 14:59:03.262579313 +0000
@@ -1,7 +1,7 @@
-# Makefile.in generated by automake 1.17 from Makefile.am.
+# Makefile.in generated by automake 1.16.5 from Makefile.am.
 # @configure_input@
 
-# Copyright (C) 1994-2024 Free Software Foundation, Inc.
+# Copyright (C) 1994-2021 Free Software Foundation, Inc.
 
 # This Makefile.in is free software; the Free Software Foundation
 # gives unlimited permission to copy and/or distribute it,
@@ -69,8 +69,6 @@
   test $$has_opt = yes
 am__make_dryrun = (target_option=n; $(am__make_running_with_option))
 am__make_keepgoing = (target_option=k; $(am__make_running_with_option))
-am__rm_f = rm -f $(am__rm_f_notfound)
-am__rm_rf = rm -rf $(am__rm_f_notfound)
 pkgdatadir = $(datadir)/@PACKAGE@
 pkgincludedir = $(includedir)/@PACKAGE@
 pkglibdir = $(libdir)/@PACKAGE@
@@ -112,16 +110,15 @@
 subdir = tests
 ACLOCAL_M4 = $(top_srcdir)/aclocal.m4
 am__aclocal_m4_deps = $(top_srcdir)/m4/ax_pthread.m4 \
-	$(top_srcdir)/m4/build-to-host.m4 $(top_srcdir)/m4/getopt.m4 \
-	$(top_srcdir)/m4/gettext.m4 $(top_srcdir)/m4/host-cpu-c-abi.m4 \
-	$(top_srcdir)/m4/iconv.m4 $(top_srcdir)/m4/intlmacosx.m4 \
-	$(top_srcdir)/m4/lib-ld.m4 $(top_srcdir)/m4/lib-link.m4 \
-	$(top_srcdir)/m4/lib-prefix.m4 $(top_srcdir)/m4/libtool.m4 \
-	$(top_srcdir)/m4/ltoptions.m4 $(top_srcdir)/m4/ltsugar.m4 \
-	$(top_srcdir)/m4/ltversion.m4 $(top_srcdir)/m4/lt~obsolete.m4 \
-	$(top_srcdir)/m4/nls.m4 $(top_srcdir)/m4/po.m4 \
-	$(top_srcdir)/m4/posix-shell.m4 $(top_srcdir)/m4/progtest.m4 \
-	$(top_srcdir)/m4/tuklib_common.m4 \
+	$(top_srcdir)/m4/getopt.m4 $(top_srcdir)/m4/gettext.m4 \
+	$(top_srcdir)/m4/host-cpu-c-abi.m4 $(top_srcdir)/m4/iconv.m4 \
+	$(top_srcdir)/m4/intlmacosx.m4 $(top_srcdir)/m4/lib-ld.m4 \
+	$(top_srcdir)/m4/lib-link.m4 $(top_srcdir)/m4/lib-prefix.m4 \
+	$(top_srcdir)/m4/libtool.m4 $(top_srcdir)/m4/ltoptions.m4 \
+	$(top_srcdir)/m4/ltsugar.m4 $(top_srcdir)/m4/ltversion.m4 \
+	$(top_srcdir)/m4/lt~obsolete.m4 $(top_srcdir)/m4/nls.m4 \
+	$(top_srcdir)/m4/po.m4 $(top_srcdir)/m4/posix-shell.m4 \
+	$(top_srcdir)/m4/progtest.m4 $(top_srcdir)/m4/tuklib_common.m4 \
 	$(top_srcdir)/m4/tuklib_cpucores.m4 \
 	$(top_srcdir)/m4/tuklib_integer.m4 \
 	$(top_srcdir)/m4/tuklib_mbstr.m4 \
@@ -336,9 +333,10 @@
   sed '$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;$$!N;s/\n/ /g' | \
   sed '$$!N;$$!N;$$!N;$$!N;s/\n/ /g'
 am__uninstall_files_from_dir = { \
-  { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
-  || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
-       $(am__cd) "$$dir" && echo $$files | $(am__xargs_n) 40 $(am__rm_f); }; \
+  test -z "$$files" \
+    || { test ! -d "$$dir" && test ! -f "$$dir" && test ! -r "$$dir"; } \
+    || { echo " ( cd '$$dir' && rm -f" $$files ")"; \
+         $(am__cd) "$$dir" && rm -f $$files; }; \
   }
 am__recheck_rx = ^[ 	]*:recheck:[ 	]*
 am__global_test_result_rx = ^[ 	]*:global-test-result:[ 	]*
@@ -426,7 +424,6 @@
 # Default flags passed to test drivers.
 am__common_driver_flags = \
   --color-tests "$$am__color_tests" \
-  $$am__collect_skipped_logs \
   --enable-hard-errors "$$am__enable_hard_errors" \
   --expect-failure "$$am__expect_failure"
 # To be inserted before the command running the test.  Creates the
@@ -451,11 +448,6 @@
 elif test -f "$$f"; then dir=;				\
 else dir="$(srcdir)/"; fi;				\
 tst=$$dir$$f; log='$@'; 				\
-if test -n '$(IGNORE_SKIPPED_LOGS)'; then		\
-  am__collect_skipped_logs='--collect-skipped-logs no';	\
-else							\
-  am__collect_skipped_logs='';				\
-fi;							\
 if test -n '$(DISABLE_HARD_ERRORS)'; then		\
   am__enable_hard_errors=no; 				\
 else							\
@@ -616,10 +608,8 @@
 am__include = @am__include@
 am__leading_dot = @am__leading_dot@
 am__quote = @am__quote@
-am__rm_f_notfound = @am__rm_f_notfound@
 am__tar = @am__tar@
 am__untar = @am__untar@
-am__xargs_n = @am__xargs_n@
 ax_pthread_config = @ax_pthread_config@
 bindir = @bindir@
 build = @build@
@@ -646,8 +636,6 @@
 libdir = @libdir@
 libexecdir = @libexecdir@
 localedir = @localedir@
-localedir_c = @localedir_c@
-localedir_c_make = @localedir_c_make@
 localstatedir = @localstatedir@
 mandir = @mandir@
 mkdir_p = @mkdir_p@
@@ -724,8 +712,13 @@
 $(am__aclocal_m4_deps):
 
 clean-checkPROGRAMS:
-	$(am__rm_f) $(check_PROGRAMS)
-	test -z "$(EXEEXT)" || $(am__rm_f) $(check_PROGRAMS:$(EXEEXT)=)
+	@list='$(check_PROGRAMS)'; test -n "$$list" || exit 0; \
+	echo " rm -f" $$list; \
+	rm -f $$list || exit $$?; \
+	test -n "$(EXEEXT)" || exit 0; \
+	list=`for p in $$list; do echo "$$p"; done | sed 's/$(EXEEXT)$$//'`; \
+	echo " rm -f" $$list; \
+	rm -f $$list
 
 create_compress_files$(EXEEXT): $(create_compress_files_OBJECTS) $(create_compress_files_DEPENDENCIES) $(EXTRA_create_compress_files_DEPENDENCIES) 
 	@rm -f create_compress_files$(EXEEXT)
@@ -806,7 +799,7 @@
 
 $(am__depfiles_remade):
 	@$(MKDIR_P) $(@D)
-	@: >>$@
+	@echo '# dummy' >$@-t && $(am__mv) $@-t $@
 
 am--depfiles: $(am__depfiles_remade)
 
@@ -902,6 +895,7 @@
 am--fnord $(TEST_LOGS) $(TEST_LOGS:.log=.trs): $(am__force_recheck)
 am--force-recheck:
 	@:
+
 $(TEST_SUITE_LOG): $(TEST_LOGS)
 	@$(am__set_TESTS_bases); \
 	am__f_ok () { test -f "$$1" && test -r "$$1"; }; \
@@ -977,37 +971,10 @@
 	  result_count $$1 "XPASS:" $$xpass "$$red"; \
 	  result_count $$1 "ERROR:" $$error "$$mgn"; \
 	}; \
-	output_system_information () \
-	{ \
-          echo;                                     \
-	  { uname -a | $(AWK) '{                    \
-  printf "System information (uname -a):";          \
-  for (i = 1; i < NF; ++i)                          \
-    {                                               \
-      if (i != 2)                                   \
-        printf " %s", $$i;                          \
-    }                                               \
-  printf "\n";                                      \
-}'; } 2>&1;                                         \
-	  if test -r /etc/os-release; then          \
-	    echo "Distribution information (/etc/os-release):"; \
-	    sed 8q /etc/os-release;                 \
-	  elif test -r /etc/issue; then             \
-	    echo "Distribution information (/etc/issue):";      \
-	    cat /etc/issue;                         \
-	  fi;                                       \
-	}; \
-	please_report () \
-	{ \
-echo "Some test(s) failed.  Please report this to $(PACKAGE_BUGREPORT),";    \
-echo "together with the test-suite.log file (gzipped) and your system";      \
-echo "information.  Thanks.";                                                \
-	}; \
 	{								\
 	  echo "$(PACKAGE_STRING): $(subdir)/$(TEST_SUITE_LOG)" |	\
 	    $(am__rst_title);						\
 	  create_testsuite_report --no-color;				\
-	  output_system_information;                                    \
 	  echo;								\
 	  echo ".. contents:: :depth: 2";				\
 	  echo;								\
@@ -1027,25 +994,26 @@
 	create_testsuite_report --maybe-color;				\
 	echo "$$col$$br$$std";						\
 	if $$success; then :; else					\
-	  echo "$${col}See $(subdir)/$(TEST_SUITE_LOG) for debugging.$${std}";\
+	  echo "$${col}See $(subdir)/$(TEST_SUITE_LOG)$${std}";		\
 	  if test -n "$(PACKAGE_BUGREPORT)"; then			\
-	    please_report | sed -e "s/^/$${col}/" -e s/'$$'/"$${std}"/; \
+	    echo "$${col}Please report to $(PACKAGE_BUGREPORT)$${std}";	\
 	  fi;								\
 	  echo "$$col$$br$$std";					\
 	fi;								\
 	$$success || exit 1
 
 check-TESTS: $(check_PROGRAMS)
-	@$(am__rm_f) $(RECHECK_LOGS)
-	@$(am__rm_f) $(RECHECK_LOGS:.log=.trs)
-	@$(am__rm_f) $(TEST_SUITE_LOG)
+	@list='$(RECHECK_LOGS)';           test -z "$$list" || rm -f $$list
+	@list='$(RECHECK_LOGS:.log=.trs)'; test -z "$$list" || rm -f $$list
+	@test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
 	@set +e; $(am__set_TESTS_bases); \
 	log_list=`for i in $$bases; do echo $$i.log; done`; \
-	log_list=`echo $$log_list`; \
+	trs_list=`for i in $$bases; do echo $$i.trs; done`; \
+	log_list=`echo $$log_list`; trs_list=`echo $$trs_list`; \
 	$(MAKE) $(AM_MAKEFLAGS) $(TEST_SUITE_LOG) TEST_LOGS="$$log_list"; \
 	exit $$?;
 recheck: all $(check_PROGRAMS)
-	@$(am__rm_f) $(TEST_SUITE_LOG)
+	@test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
 	@set +e; $(am__set_TESTS_bases); \
 	bases=`for i in $$bases; do echo $$i; done \
 	         | $(am__list_recheck_tests)` || exit 1; \
@@ -1261,15 +1229,15 @@
 	    "INSTALL_PROGRAM_ENV=STRIPPROG='$(STRIP)'" install; \
 	fi
 mostlyclean-generic:
-	-$(am__rm_f) $(TEST_LOGS)
-	-$(am__rm_f) $(TEST_LOGS:.log=.trs)
-	-$(am__rm_f) $(TEST_SUITE_LOG)
+	-test -z "$(TEST_LOGS)" || rm -f $(TEST_LOGS)
+	-test -z "$(TEST_LOGS:.log=.trs)" || rm -f $(TEST_LOGS:.log=.trs)
+	-test -z "$(TEST_SUITE_LOG)" || rm -f $(TEST_SUITE_LOG)
 
 clean-generic:
 
 distclean-generic:
-	-$(am__rm_f) $(CONFIG_CLEAN_FILES)
-	-test . = "$(srcdir)" || $(am__rm_f) $(CONFIG_CLEAN_VPATH_FILES)
+	-test -z "$(CONFIG_CLEAN_FILES)" || rm -f $(CONFIG_CLEAN_FILES)
+	-test . = "$(srcdir)" || test -z "$(CONFIG_CLEAN_VPATH_FILES)" || rm -f $(CONFIG_CLEAN_VPATH_FILES)
 
 maintainer-clean-generic:
 	@echo "This command is intended for maintainers to use"
@@ -1280,7 +1248,7 @@
 	mostlyclean-am
 
 distclean: distclean-am
-	-rm -f ./$(DEPDIR)/create_compress_files.Po
+		-rm -f ./$(DEPDIR)/create_compress_files.Po
 	-rm -f ./$(DEPDIR)/test_bcj_exact_size.Po
 	-rm -f ./$(DEPDIR)/test_block_header.Po
 	-rm -f ./$(DEPDIR)/test_check.Po
@@ -1339,7 +1307,7 @@
 installcheck-am:
 
 maintainer-clean: maintainer-clean-am
-	-rm -f ./$(DEPDIR)/create_compress_files.Po
+		-rm -f ./$(DEPDIR)/create_compress_files.Po
 	-rm -f ./$(DEPDIR)/test_bcj_exact_size.Po
 	-rm -f ./$(DEPDIR)/test_block_header.Po
 	-rm -f ./$(DEPDIR)/test_check.Po
@@ -1403,10 +1371,3 @@
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
 .NOEXPORT:
-
-# Tell GNU make to disable its built-in pattern rules.
-%:: %,v
-%:: RCS/%,v
-%:: RCS/%
-%:: s.%
-%:: SCCS/s.%
